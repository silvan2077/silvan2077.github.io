<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>SpringBoot核心机制</title>
      <link href="/2025/10/02/Springboot-SpringBoot%E6%A0%B8%E5%BF%83%E6%9C%BA%E5%88%B6/"/>
      <url>/2025/10/02/Springboot-SpringBoot%E6%A0%B8%E5%BF%83%E6%9C%BA%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="为什么以继承的方式引入SpringBoot"><a href="#为什么以继承的方式引入SpringBoot" class="headerlink" title="为什么以继承的方式引入SpringBoot"></a>为什么以继承的方式引入SpringBoot</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="作为父项目和作为依赖的区别："><a href="#作为父项目和作为依赖的区别：" class="headerlink" title="作为父项目和作为依赖的区别："></a>作为父项目和作为依赖的区别：</h2><p><strong>继承父工程的优势:</strong></p><ul><li><code>依赖管理</code>：可以在父工程中定义依赖的版本，子模块可以直接引用而不必指定版本号。</li><li><code>插件管理</code>：可以在父工程中配置常用的插件及其版本，子模块可以直接使用这些配置。</li><li><code>属性设置</code>：可以在父工程中定义一些通用的属性，如项目编码、Java 版本等。</li><li><code>统一配置</code>：可以统一多个子模块的构建配置，确保一致性。</li></ul><p><strong>直接引入依赖的局限性</strong>（如果你不使用继承父工程的方式，而是通过直接引入依赖的方式来管理项目，那么你将失去上述的一些优势）</p><ul><li><code>依赖版本管理</code>：每个子模块都需要单独指定依赖的版本，这会导致大量的重复配置，并且难以维护。</li><li><code>插件配置</code>：每个子模块都需要单独配置插件及其版本，无法共享父工程中的插件配置。</li><li><code>属性设置</code>：每个子模块都需要单独设置通用的属性，如项目编码、Java 版本等。</li><li><code>构建配置</code>：每个子模块的构建配置需要单独维护，难以保证一致性。<div class="note info no-icon flat"><p><strong>总结：选择哪种方式取决于你的具体需求。</strong></p><ul><li><strong>如果你希望多个项目之间共享构建配置，那么使用父项目是一个好的选择；</strong></li><li><strong>如果你只是想在项目之间共享代码，那么应该使用依赖关系。</strong></li></ul></div></li></ul><p><strong>Spring Boot预先对开发中需要用到的依赖进行了版本的统一管理。我们需要和SpringBoot框架共享这个构建配置。因此官方推荐使用继承的方式引入SpringBoot框架。</strong></p><h2 id="依赖统一管理的好处"><a href="#依赖统一管理的好处" class="headerlink" title="依赖统一管理的好处"></a>依赖统一管理的好处</h2><p>Spring Boot 框架的一个重要特性就是<code>简化项目依赖管理</code>。它通过提供一个叫做<code>依赖管理</code>的功能来帮助开发者更容易地管理和使用第三方库和其他Spring组件。具体来说，SpringBoot 提供了一个包含多个Spring和其他常用库的依赖版本配置文件（通常是在 <code>spring-boot-dependencies</code> 文件中），这使得开<strong>发者不需要在自己的项目中显式指定这些依赖的版本号</strong>。</p><p>这样做有以下几个好处：</p><ul><li><p><strong>简化依赖声明</strong>：<br> 开发者只需要在 <code>pom.xml</code> 文件中声明需要的依赖而不需要指定其版本号，因为 Spring Boot 已经为这些依赖指定了版本。例如，如果你需要使用mysql驱动，你只需要添加相应的依赖声明而不需要关心版本。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>避免版本冲突</strong>：<br> 当多个库之间存在依赖关系的时候，如果手动管理版本可能会导致版本之间的冲突（即“依赖地狱”）。Spring Boot 提供的统一版本管理可以减少这种冲突的可能性。</p></li><li><strong>易于升级</strong>：<br> 当 Spring Boot 发布新版本时，通常会更新其依赖库到最新稳定版。因此，当你升级 Spring Boot 版本时，它所管理的所有依赖也会随之更新到兼容的版本。</li><li><strong>减少配置错误</strong>：<br> 由于 Spring Boot 自动处理了依赖的版本，减少了手动输入版本号可能引入的拼写或格式错误。</li><li><strong>提高开发效率</strong>：<br> 开发者可以专注于业务逻辑的编写，而不是花费时间在解决依赖问题上。</li></ul><div class="note danger no-icon flat"><ul><li>总的来说，Spring Boot 的依赖管理功能使得开发者可以更加专注于业务逻辑的实现，同时减少了因依赖版本不一致而引发的问题，提高了项目的可维护性和开发效率。</li><li>如果在项目中需要更改某个依赖的版本号，不想使用SpringBoot框架指定的版本号，只需要在引入依赖时强行执行版本号即可，maven支持就近原则</li></ul></div><h1 id="Starter-启动器"><a href="#Starter-启动器" class="headerlink" title="Starter-启动器"></a>Starter-启动器</h1><p>在SpringBoot中，<code>启动器（Starter）</code>本质上是一个简化依赖管理的概念。<br>Spring Boot 的启动器本质上就是一组预定义的依赖集合，它们被组织成一个个Maven的依赖，以方便开发者快速集成特定的功能模块。<br>如果你想做web开发，只需要引入web启动器。web启动器会自动引入web开发所需要的子依赖。</p><h2 id="启动器实现原理"><a href="#启动器实现原理" class="headerlink" title="启动器实现原理"></a>启动器实现原理</h2><ol><li><strong>依赖聚合</strong>：<br>每个启动器通常对应一个特定的功能集或者一个完整的应用模块，如 <code>spring-boot-starter-web</code> 就包含了构建 Web 应用所需的所有基本依赖项，如 Spring MVC, Tomcat 嵌入式容器等。</li><li><strong>依赖传递</strong>：<br>当你在项目中引入一个启动器时，它不仅会把自身作为依赖加入到你的项目中，还会把它的所有直接依赖项（transitive dependencies）也加入进来。这意味着你不需要单独声明这些依赖项，它们会自动成为项目的一部分。</li><li><strong>版本管理</strong>：<br>启动器内部已经指定了所有依赖项的具体版本，这些版本信息存储在一个公共的 BOM（Bill of Materials，物料清单）文件中，通常是 <code>spring-boot-dependencies</code>。当引入启动器时，实际上也间接引用了这个 BOM，从而确保了所有依赖项版本的一致性。</li><li><strong>自动配置</strong>：<br>许多启动器还提供了<code>自动配置</code>（Auto-configuration），这是一种机制，允许 SpringBoot 根据类路径上的可用组件自动设置你的应用程序。例如，如果类路径上有 Spring MVC 和嵌入式 Tomcat，则 Spring Boot 会自动配置它们，并准备好一个 web 应用程序。</li></ol><h2 id="有哪些启动器"><a href="#有哪些启动器" class="headerlink" title="有哪些启动器"></a>有哪些启动器</h2><p>启动器通常包括：</p><ul><li>SpringBoot官方提供的启动器</li><li>非官方提供的启动器</li></ul><div class="tabs" id="启动器"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#启动器-1">官方提供的启动器</button></li><li class="tab"><button type="button" data-href="#启动器-2">非官方提供的启动器</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="启动器-1"><p>启动器命名特点：spring-boot-starter-*</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1729328350698-5231f924-4ae0-447b-a1af-f2c25e4f8440.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="启动器-2"><p>启动器命名特点：*-spring-boot-starter</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1729328504925-f0aa6730-ee7f-4a1d-85f9-3d2c9075318f.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="SpringBoot核心注解"><a href="#SpringBoot核心注解" class="headerlink" title="SpringBoot核心注解"></a>SpringBoot核心注解</h1><p>创建一个只有Web启动器的新模块，并添加一个Controller类。</p><h2 id="SpringBootApplication"><a href="#SpringBootApplication" class="headerlink" title="@SpringBootApplication"></a>@SpringBootApplication</h2><ul><li>SpringBoot的主入口就被<code>@SpringBootApplication</code>注解标注，可见该注解的重要性。<br>注解源码：<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1729563192417-c03008ef-81f9-4741-ad09-42d49a4b2cc9.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div></li><li>该注解属于<code>组合注解</code>。拥有<code>@SpringBootConfiguration</code>、<code>@EnableAutoConfiguration</code>、<code>@ComponentScan</code>的功能。<h2 id="SpringBootConfiguration"><a href="#SpringBootConfiguration" class="headerlink" title="@SpringBootConfiguration"></a>@SpringBootConfiguration</h2>注解源码：<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1729563436496-752f56df-52aa-404b-bf83-c122a06f1312.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div></li><li>能够发现该注解又被<code>@Configuration</code>注解标注，这说明<code>主入口</code>的程序本质是一个配置类，所以<code>主入口</code>的方法可以被<code>@Bean</code>注解标注，被<code>@Bean</code>注解的标注的方法会被Spring容器自动调用，并且将该方法的返回对象纳入IoC容器的管理。</li></ul><div class="tabs" id="测试configuration"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#测试configuration-1">测试configuration</button></li><li class="tab"><button type="button" data-href="#测试configuration-2">测试结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="测试configuration-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Sb305CoreApplication</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Date <span class="title function_">getNowDate</span><span class="params">()</span>&#123; <span class="comment">// 方法名作为bean的id</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ConfigurableApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> SpringApplication.run(Sb305CoreApplication.class, args);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">dateBean1</span> <span class="operator">=</span> applicationContext.getBean(Date.class);</span><br><span class="line">        System.out.println(dateBean1);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">dateBean2</span> <span class="operator">=</span> applicationContext.getBean(<span class="string">&quot;getNowDate&quot;</span>, Date.class);</span><br><span class="line">        System.out.println(dateBean2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="测试configuration-2"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1729564458157-1d953623-9405-4577-8fa4-ed955038be77.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note warning no-icon flat"><p>这个<code>配置类</code>也可以称为<code>源</code>，起源的意思，<code>SpringBoot</code>从这个配置类开始加载项目中所有的<code>bean</code>。</p></div><h2 id="EnableAutoConfiguration"><a href="#EnableAutoConfiguration" class="headerlink" title="@EnableAutoConfiguration"></a>@EnableAutoConfiguration</h2><ul><li>该注解表示<code>启用自动配置</code>。</li><li><strong>Spring Boot 会根据引入的依赖自动配置好一系列的 Bean，无需手动编写复杂的配置代码。</strong></li></ul><p>例如：在SpringBoot中进行了以下配置：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</span><br><span class="line">spring.datasource.url=jdbc:mysql:<span class="comment">//localhost:3306/springboot</span></span><br><span class="line">spring.datasource.username=root</span><br><span class="line">spring.datasource.password=<span class="number">123456</span></span><br></pre></td></tr></table></figure><br>并且在依赖中引入了<code>mybatis依赖</code>/<code>mybatis启动器</code>，那么SpringBoot框架将为你自动化配置以下bean：</p><ul><li><strong>SqlSessionFactory</strong>: MyBatis的核心工厂SqlSessionFactory会被自动配置。这个工厂负责创建SqlSession实例，后者用来执行映射文件中的SQL语句。</li><li><strong>TransactionManager</strong>: DataSourceTransactionManager会被自动配置来管理与数据源相关的事务。</li></ul><h2 id="ComponentScan注解"><a href="#ComponentScan注解" class="headerlink" title="@ComponentScan注解"></a>@ComponentScan注解</h2><p>这个注解的作用是：启动组件扫描功能，代替spring框架xml文件中这个配置：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.powernode.sb305core&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><br><div class="note info no-icon flat"><p>因此被<code>@SpringBootApplication</code>注解标注之后，会自动扫描<code>主入口程序所在包及子包</code>，因此如果一个bean要纳入IoC容器的管理则必须放到主入口程序所在包及子包下。放到主入口程序所在包之外的话，扫描不到。测试一下：</p></div><br><div class="tabs" id="测试componentscan"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#测试componentscan-1">扫描到</button></li><li class="tab"><button type="button" data-href="#测试componentscan-2">扫描不到</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="测试componentscan-1"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1729565961938-3cbe2276-79a3-4a57-ab29-d2cd3153d5f8.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello world!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>启动服务器测试：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1729566015788-bfbce42f-90b2-48cf-b583-4490db6da625.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="测试componentscan-2"><ul><li>此时UserController不在主入口程序所在包及子包下<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1729566119617-fd950fb7-d8a1-42f7-8ff0-e1d7fab60409.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">list</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;user list!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>启动服务器测试：</p><p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1729566187896-1d4053bd-d5da-4fd4-a243-ebd80388ac17.png?x-oss-process=image%2Fformat%2Cwebp"/></div>&lt;/div&gt;<br>通过测试得知UserController没有被纳入IoC容器的管理。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><div class="note danger no-icon flat"><p><strong>最终结论：要让Bean纳入IoC容器的管理，必须将类放到主入口程序同级目录下，或者子目录下。</strong></p></div><h1 id="SpringBoot的单元测试"><a href="#SpringBoot的单元测试" class="headerlink" title="SpringBoot的单元测试"></a>SpringBoot的单元测试</h1><h2 id="不使用单元测试调用Service"><a href="#不使用单元测试调用Service" class="headerlink" title="不使用单元测试调用Service"></a>不使用单元测试调用Service</h2><h3 id="第一步：创建模块"><a href="#第一步：创建模块" class="headerlink" title="第一步：创建模块"></a>第一步：创建模块</h3><ul><li>使用脚手架创建一个模块，该模块不添加任何启动器<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1729581295420-d78e7122-66d3-43da-9ba0-a5dea864cf7a.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div><h3 id="第二步：编写Service"><a href="#第二步：编写Service" class="headerlink" title="第二步：编写Service"></a>第二步：编写Service</h3><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1729581533729-d56983cc-f11b-4f3a-ac12-cbc28989d0b9.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service(&quot;userService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;保存用户信息&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="第三步：调用Service"><a href="#第三步：调用Service" class="headerlink" title="第三步：调用Service"></a>第三步：调用Service</h3></li><li>直接在入口程序调用service<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Sb306TestApplication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ConfigurableApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> SpringApplication.run(Sb306TestApplication.class, args);</span><br><span class="line">        <span class="type">UserService</span> <span class="variable">userService</span> <span class="operator">=</span> applicationContext.getBean(<span class="string">&quot;userService&quot;</span>, UserService.class);</span><br><span class="line">        userService.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>执行结果：<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1729581624703-aa5dfd5f-1a61-48a9-bce3-9d3d615913e5.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div></li></ul><div class="note warning no-icon flat"><p>该方法是手动获取Spring上下文对象<code>ConfigurableApplicationContext</code>，然后通过getBean方法获取bean，从Spring容器中获取Service对象，然后调用方法。</p></div><h2 id="使用单元测试调用Service"><a href="#使用单元测试调用Service" class="headerlink" title="使用单元测试调用Service"></a>使用单元测试调用Service</h2><h3 id="引入test-starter"><a href="#引入test-starter" class="headerlink" title="引入test-starter"></a>引入test-starter</h3><ul><li><p>SpringBoot在创建项目时就为我们生成了单元测试类，但如果要使用单元测试，还需要引入单元测试的启动器，如果使用脚手架创建SpringBoot项目，这个test启动器会自动引入</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1729581986594-85a62eb9-67d3-4637-a9de-d2578bc1b55f.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div><h3 id="SpringBootTest注解"><a href="#SpringBootTest注解" class="headerlink" title="@SpringBootTest注解"></a>@SpringBootTest注解</h3><p><code>@SpringBootTest</code> 会创建一个完整的 Spring 应用程序上下文（Application Context），这个上下文包含了应用程序的所有组件和服务。以下是 <code>@SpringBootTest</code> 做的一些主要工作：</p></li><li><p><strong>创建 ApplicationContext</strong>：</p><ul><li><code>@SpringBootTest</code> 使用 <code>SpringApplication</code> 的 <code>run()</code> 方法来启动一个 Spring Boot 应用程序上下文。这意味着它会加载应用程序的主配置类和其他相关的配置类。</li></ul></li><li><p><strong>加载配置文件</strong>：</p><ul><li>它会查找并加载默认的配置文件，如 <code>application.properties</code></li></ul></li><li><p><strong>自动配置</strong>：</p><ul><li>如果应用程序依赖于 Spring Boot 的自动配置特性，<code>@SpringBootTest</code> 会确保这些自动配置生效。这意味着它会根据可用的类和bean来自动配置一些组件，如数据库连接、消息队列等。</li></ul></li><li><p><strong>注入依赖</strong>：</p><ul><li>使用 <code>@SpringBootTest</code> 创建的应用程序上下文允许你在测试类中使用 <code>@Autowired</code> 注入需要的 bean，就像在一个真实的 Spring Boot 应用程序中一样。</li></ul></li></ul><p>总的来说，<code>@SpringBootTest</code> 为你的测试提供了尽可能接近实际运行时环境的条件，这对于验证应用程序的行为非常有用。</p><h3 id="注入Service并调用"><a href="#注入Service并调用" class="headerlink" title="注入Service并调用"></a>注入Service并调用</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sb306TestApplicationTests</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">contextLoads</span><span class="params">()</span> &#123;</span><br><span class="line">        userService.save();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试结果如下：<br><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1729582782987-88067365-fba6-4240-b704-b2f710a96647.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div></p><h1 id="外部化配置"><a href="#外部化配置" class="headerlink" title="外部化配置"></a>外部化配置</h1><h2 id="什么是外部化配置？"><a href="#什么是外部化配置？" class="headerlink" title="什么是外部化配置？"></a>什么是外部化配置？</h2><p><code>外部化配置</code>：将配置信息存储在应用程序代码之外的地方。这样配置信息可以独立于代码进行管理。这样方便了配置的修改，并且修改后不需要重新编译代码，也不需要重新部署项目。</p><h3 id="5-1-1-外部化配置的方式"><a href="#5-1-1-外部化配置的方式" class="headerlink" title="5.1.1. 外部化配置的方式"></a>5.1.1. 外部化配置的方式</h3><p>SpringBoot支持多种外部化配置方式，包括但不限于：</p><ul><li>properties文件</li><li>YAML文件</li><li>系统环境变量</li><li>命令行参数</li><li>……</li></ul><h3 id="5-1-2-外部化配置的优势"><a href="#5-1-2-外部化配置的优势" class="headerlink" title="5.1.2. 外部化配置的优势"></a>5.1.2. 外部化配置的优势</h3><ol><li><strong>灵活性</strong>：配置文件可以独立于应用程序部署，这使得可以根据运行环境的不同来调整配置，而无需修改代码。</li><li><strong>易于维护</strong>：配置变更不需要重新构建和部署应用程序，降低了维护成本。</li><li><strong>安全性</strong>：敏感信息如数据库密码、API密钥等可以存储在外部，并且可以限制谁有权限访问这些配置信息。</li><li><strong>共享性</strong>：多实例或多服务可以共享相同的配置信息，减少重复配置的工作量。</li><li><strong>版本控制</strong>：配置文件可以存放在版本控制系统中，便于跟踪历史版本和回滚配置。</li></ol><p>总之，外部化配置使得配置更加灵活、安全、易于管理和共享，是现代云原生应用中非常推荐的做法</p><h3 id="5-1-3-外部化配置对比传统配置"><a href="#5-1-3-外部化配置对比传统配置" class="headerlink" title="5.1.3. 外部化配置对比传统配置"></a>5.1.3. 外部化配置对比传统配置</h3><ul><li>在传统的SSM三大框架中，如果修改XML的配置后，需要对应用重新打包，重新部署。</li><li>使用SpringBoot框架的<code>外部化配置</code>后，修改配置后，不需要对应用重新打包，也不需要重新部署，最多重启一下服务即可。</li></ul><h2 id="5-2-properties文件"><a href="#5-2-properties文件" class="headerlink" title="5.2. properties文件"></a>5.2. properties文件</h2>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBoot入门</title>
      <link href="/2025/10/01/Springboot-SpringBoot/"/>
      <url>/2025/10/01/Springboot-SpringBoot/</url>
      
        <content type="html"><![CDATA[<h1 id="认识SpringBoot"><a href="#认识SpringBoot" class="headerlink" title="认识SpringBoot"></a>认识SpringBoot</h1><ul><li>官方这样描述SpringBoot：<a href="https://docs.spring.io/spring-boot/index.html">SpringBoot</a><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1728893860338-bce86e2c-719d-49fe-9932-419fe1e50fb1.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div></li><li><code>SpringBoot</code>提倡<code>约定优于配置</code>，将<code>简化开发</code>发挥到极致。通过SpringBoot来实现跳过大量繁琐的配置，快速构建Spring应用。</li><li><p>SpringBoot框架的设计目标：<strong>程序员只需要关注业务逻辑，环境配置交给SpringBoot。</strong></p></li><li><p>SpringBoot的<code>特性</code>：</p><ul><li>快速创建独立的Spring应用程序（Spring支持的SpringBoot都支持）</li><li>嵌入式的Tomcat、jetty、Undertow等容器</li><li>需要的功能直接引入对应的starter启动器即可。（启动器自动管理该功能需要的相关依赖，包括版本冲突等）</li><li>尽最大努力自动配置Spring应用和第三方库。（例如，进行事务管理时，不需要任何配置，只需要在Service类上添加@Transactional注解即可）</li><li>没有代码生成器，没有XML配置文件（SpringBoot的应用程序启动后不会动态创建新的Java类，所有逻辑在编译期就创建好了）</li><li>提供了生产监控的支持，也集成了外部监控系统。</li></ul></li><li><p>SpringBoot的<code>开箱即用</code>和<code>约定优于配置</code>：</p></li><li><strong>开箱即用：</strong>Spring Boot框架设计得非常便捷，开发者能够在几乎不需要任何复杂的配置的情况下，快速搭建并运行一个功能完备的Spring应用。</li><li><strong>约定优于配置：</strong><code>约定优于配置</code>（Convention Over Configuration, CoC）是一种软件设计哲学，核心思想是<strong>通过提供一组合理的默认行为来减少配置的数量，从而简化开发流程。</strong>例如：SpringBoot默认约定了使用某个事务管理器，在事务方面不需要做任何配置，只需要在对应代码的位置上使用@Transactional注解即可。</li></ul><h1 id="学习前提"><a href="#学习前提" class="headerlink" title="学习前提"></a>学习前提</h1><p>学习SpringBoot应至少学过：</p><ul><li>Spring</li><li>SpringMVC</li><li>Mybatis</li></ul><h1 id="第一个SpringBoot项目"><a href="#第一个SpringBoot项目" class="headerlink" title="第一个SpringBoot项目"></a>第一个SpringBoot项目</h1><div class="note danger no-icon flat"><p>需求：在浏览器输入<a href="http://localhost:8080/hello，返回&quot;Hello">http://localhost:8080/hello，返回&quot;Hello</a> World”</p></div><p><strong>使用SpirngBoot3开发Web项目，Spring官方提供的步骤如下：</strong></p><h2 id="第一步：创建空工程"><a href="#第一步：创建空工程" class="headerlink" title="第一步：创建空工程"></a>第一步：创建空工程</h2><ul><li>创建一个空的工程，并设置JDK版本为21（SpringBoot3要求最低版本为17）</li></ul><div class="tabs" id="第一步"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#第一步-1">创建空工程</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="第一步-1"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1726108555353-e1941b34-dc63-4767-954c-4f6e5e3a9aa8.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="第二步：设置Maven"><a href="#第二步：设置Maven" class="headerlink" title="第二步：设置Maven"></a>第二步：设置Maven</h2><ul><li>如果以前配置过Maven，可以跳过此步骤<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1726109769284-7a5cae72-e931-4fd3-bf1c-c99a37cb4023.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div></li></ul><h2 id="第三步：创建Maven项目"><a href="#第三步：创建Maven项目" class="headerlink" title="第三步：创建Maven项目"></a>第三步：创建Maven项目</h2><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1726110490826-f7c563eb-4aff-488e-83dc-8daf82a700e9.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div><h2 id="第四步：根据SpringBoot3文档操作"><a href="#第四步：根据SpringBoot3文档操作" class="headerlink" title="第四步：根据SpringBoot3文档操作"></a>第四步：根据SpringBoot3文档操作</h2><p><a href="https://docs.spring.io/spring-boot/tutorial/first-application/index.html">官方文档</a></p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1726111411632-0a5cfc79-f222-4395-ae19-35b8d3868f3d.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div><h2 id="第五步：继承SpringBoot"><a href="#第五步：继承SpringBoot" class="headerlink" title="第五步：继承SpringBoot"></a>第五步：继承SpringBoot</h2><p>要使用Spring Boot 3，需要继承这个开源项目。从官方指导文档中复制以下内容：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--继承Spring Boot 3.3.3开源项目--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure></p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1726111736067-221c85d6-e3ce-4d41-9b20-2893705b11de.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div><div class="note warning no-icon flat"><p>我们开发的每一个项目都可以看作是Springboot项目下的子项目</p></div><h2 id="第六步：添加Web启动器"><a href="#第六步：添加Web启动器" class="headerlink" title="第六步：添加Web启动器"></a>第六步：添加Web启动器</h2><p>添加SpringBootweb的启动器，让SpringBoot项目具备开发Web应用的依赖：<br><div class="tabs" id="web1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#web1-1">官方文档</button></li><li class="tab"><button type="button" data-href="#web1-2">添加依赖</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="web1-1"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1726112199621-1d90cda6-1bb5-4c66-ac9f-b0f2bedb87b3.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="web1-2"><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--引入Spring Boot web启动器依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><ul><li>可以看到Web的关联依赖也会被引入进来，包括SpringMVC和Tomcat<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1726112541453-f0298719-9217-4792-9af5-bb39d6582560.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div></li></ul><h2 id="第七步：创建主程序"><a href="#第七步：创建主程序" class="headerlink" title="第七步：创建主程序"></a>第七步：创建主程序</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(MyApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="第八步：创建Controller"><a href="#第八步：创建Controller" class="headerlink" title="第八步：创建Controller"></a>第八步：创建Controller</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">index</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="第九步：启动项目"><a href="#第九步：启动项目" class="headerlink" title="第九步：启动项目"></a>第九步：启动项目</h2><ul><li>运行Main方法就是启动Web项目了</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1726197869192-497ee49e-fffb-4201-9c20-6caa97823963.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div><h2 id="第十步：访问项目"><a href="#第十步：访问项目" class="headerlink" title="第十步：访问项目"></a>第十步：访问项目</h2><ul><li>直接打开浏览器，访问<a href="http://localhost:8080/hello">http://localhost:8080/hello</a>，返回”Hello World”</li></ul><h1 id="便捷的部署方式"><a href="#便捷的部署方式" class="headerlink" title="便捷的部署方式"></a>便捷的部署方式</h1><h2 id="打jar包运行"><a href="#打jar包运行" class="headerlink" title="打jar包运行"></a>打jar包运行</h2><p><strong>SpringBoot为我们提供了打包插件，可以将SpringBoot项目打包为可执行 jar 包。</strong><code>Web服务器</code>（Tomcat）也会连同一块打入jar包中。只要电脑上安装了Java的运行环境（JDK），就可以启动Spring Boot项目。<br><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2024/png/21376908/1726199029529-6ffc59e1-3d92-4d4e-ab44-31f24cba9585.png?x-oss-process=image%2Fformat%2Cwebp"/></div></div></p><ul><li>根据官方文档步骤，引入打包插件<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>执行打包命令，生成可执行Jar包</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常用配置文件</title>
      <link href="/2025/09/29/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/"/>
      <url>/2025/09/29/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<div class="note warning no-icon flat"><ul><li>游戏中会存放许多数据,而存放的数据也分为<code>动态数据</code>和<code>静态数据</code>。<ul><li>动态数据：数据会频繁地改变，如当前玩家位置，玩家血量等数据。<strong>通常存储在数据库中。</strong></li><li>静态数据：数据不会频繁改变，如游戏角色的技能冷却时间，地图结构，障碍物位置等基础配置。<strong>通常存储在配置文件中。</strong></li></ul></li></ul></div><h1 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h1><ul><li><p>JSON是一种轻量级的数据交换格式，它基于JavaScript语言，但是它不是JavaScript语言。</p></li><li><p>JSON对象：键值对，用花括号括起来，键和值用冒号隔开，多个键值对用逗号隔开。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;myApp&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="number">1.0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;debug&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;database&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;host&quot;</span><span class="punctuation">:</span> <span class="string">&quot;localhost&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;port&quot;</span><span class="punctuation">:</span> <span class="number">3306</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;features&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;auth&quot;</span><span class="punctuation">,</span> <span class="string">&quot;logging&quot;</span><span class="punctuation">,</span> <span class="string">&quot;metrics&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">优点</button></li><li class="tab"><button type="button" data-href="#-2">缺点</button></li><li class="tab"><button type="button" data-href="#-3">适用场景</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><ul><li>语法简洁，结构清晰方便解析</li><li>跨语言支持广泛，各种语言都有对应的库可以解析JSON数据</li><li>与XML相比，JSON更轻量，占用更少空间，传输更快</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ul><li>JSON不支持注释</li><li>JSON不支持对象继承</li><li>配置过大时可读性下降</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><ul><li>Web配置或前后端数据交换</li><li>需要语言跨兼容的配置文件</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="YAML"><a href="#YAML" class="headerlink" title="YAML"></a>YAML</h1><ul><li><p>YAML是一种数据序列化格式，是一种可读性高的数据格式，但对缩进要求十分严格。</p></li><li><p>YAML对象：根据缩进来表示层级关系。键值对，用冒号隔开，冒号和值之间应当有一个空格。</p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">优点</button></li><li class="tab"><button type="button" data-href="#-2">缺点</button></li><li class="tab"><button type="button" data-href="#-3">适用场景</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><ul><li>语法简洁，结构清晰，缩进层次较小时能一眼看出</li><li>支持注释（<code>#</code>开头）</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ul><li>缩进敏感，容易因缩进错误导致解析失败</li><li>不同解析器实现可能有差异</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ul><h1 id="XML"><a href="#XML" class="headerlink" title="XML"></a>XML</h1><ul><li>XML是一种可扩展标记语言，可以高效且精准的描述层次化结构。</li><li>XML对象：用标签来表示数据的开始和结束，标签可以嵌套。</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">config</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>myApp<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">debug</span>&gt;</span>true<span class="tag">&lt;/<span class="name">debug</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">database</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">host</span>&gt;</span>localhost<span class="tag">&lt;/<span class="name">host</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">port</span>&gt;</span>3306<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">database</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">features</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">feature</span>&gt;</span>auth<span class="tag">&lt;/<span class="name">feature</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">feature</span>&gt;</span>logging<span class="tag">&lt;/<span class="name">feature</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">feature</span>&gt;</span>metrics<span class="tag">&lt;/<span class="name">feature</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">features</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">config</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">优点</button></li><li class="tab"><button type="button" data-href="#-2">缺点</button></li><li class="tab"><button type="button" data-href="#-3">适用场景</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><ul><li>结构化数据表达能力强，支持层次、属性、命名空间</li><li>可扩展性好，支持自定义标签</li><li>支持模式约束，方便数据校验</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ul><li>语法较复杂，可读性差</li><li>文件体积大，传输速度慢</li><li>对手动编辑不友好</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><ul><li>传统企业级项目（如 Java EE 配置、Spring XML）</li><li>需要严格数据校验的系统</li><li>文档型数据存储（Office 文档格式底层就是 XML）</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="INI"><a href="#INI" class="headerlink" title="INI"></a>INI</h1><ul><li>INI是一种用于配置文件的格式，它基于键值对，用等号（<code>=</code>）来分隔键和值。</li><li>INI对象：使用方括号划分不同的区域名，区域内的键值对表示该区域的配置。并且可以在分号后编写单行注释。</li></ul><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[app]</span></span><br><span class="line"><span class="attr">name</span>=myApp</span><br><span class="line"><span class="attr">version</span>=<span class="number">1.0</span></span><br><span class="line"><span class="attr">debug</span>=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="section">[database]</span></span><br><span class="line"><span class="attr">host</span>=localhost</span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span>   <span class="comment">; 数据库端口号</span></span><br><span class="line"></span><br><span class="line"><span class="section">[features]</span></span><br><span class="line"><span class="attr">auth</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">logging</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">metrics</span>=<span class="literal">true</span></span><br></pre></td></tr></table></figure><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">优点</button></li><li class="tab"><button type="button" data-href="#-2">缺点</button></li><li class="tab"><button type="button" data-href="#-3">适用场景</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><ul><li>语法简单，结构清晰</li><li>编辑方便，适合小型项目配置</li><li>支持分区，方便管理</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ul><li>数据类型有限（通常只能表示字符串，需要应用层解析）。</li><li>不支持复杂嵌套</li><li>没有严格标准，不同解析器可能有差异</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><ul><li>小型应用、本地配置文件</li><li>桌面软件设置、轻量级服务配置</li><li>不需要复杂嵌套的场景</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><!-- # TOML* TOML的设计目标是"比JSON更容易读写",语法直观，键值对清晰* TOML对象：键值对，用等号（`=`）来分隔键和值。```TOMLname = "myApp"version = 1.0debug = true --><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><div class="table-container"><table><thead><tr><th>格式</th><th>可读性</th><th>表达能力</th><th>解析性能</th><th>注释</th><th>常见场景</th></tr></thead><tbody><tr><td>JSON</td><td>中等</td><td>中等</td><td>高</td><td>无</td><td>Web API、微服务</td></tr><tr><td>YAML</td><td>高</td><td>高</td><td>中等</td><td>支持</td><td>DevOps、K8s、CI/CD</td></tr><tr><td>XML</td><td>低</td><td>很高</td><td>低</td><td>支持</td><td>企业级应用、模式验证</td></tr><tr><td>INI</td><td>高</td><td>低</td><td>高</td><td>部分</td><td>小型应用、本地配置</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>格式</th><th>可读性</th><th>文件体积</th><th>解析速度</th><th>跨平台兼容性</th><th>适用场景</th></tr></thead><tbody><tr><td><strong>YAML</strong></td><td>★★★★☆</td><td>小</td><td>中等</td><td>较好</td><td>人工可读配置（如 CI/CD、游戏配置）</td></tr><tr><td><strong>INI</strong></td><td>★★★★☆</td><td>很小</td><td>很快</td><td>一般</td><td>简单应用配置（桌面软件、老系统）</td></tr><tr><td><strong>JSON</strong></td><td>★★★☆☆</td><td>小</td><td>很快</td><td>极佳</td><td>前后端通信、现代应用配置</td></tr><tr><td><strong>XML</strong></td><td>★★☆☆☆</td><td>大</td><td>慢</td><td>极佳</td><td>需要严格结构/文档描述（如 SOAP、旧系统）</td></tr></tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> 配置文件 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Spring进阶</title>
      <link href="/2025/09/28/Spring-Spring%E8%BF%9B%E9%98%B6/"/>
      <url>/2025/09/28/Spring-Spring%E8%BF%9B%E9%98%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="GoF之工厂模式"><a href="#GoF之工厂模式" class="headerlink" title="GoF之工厂模式"></a>GoF之工厂模式</h1><h2 id="了解GoF"><a href="#了解GoF" class="headerlink" title="了解GoF"></a>了解GoF</h2><ul><li><code>设计模式</code>是一种可以反复利用的解决<code>方案</code></li><li>GoF（Gang of Four），中文名——四人组。<ul><li>《Design Patterns: Elements of Reusable Object-Oriented Software》（即《设计模式》一书），1995年由 Erich Gamma、Richard Helm、Ralph Johnson 和 John Vlissides 合著。这几位作者常被称为”四人组（Gang of Four）”。</li></ul></li><li>常提到的23种设计模式，在这本书都能找到。除了GoF提到的23种设计模式，起始还有其他的设计模式，比如：JavaEE的设计模式（DAO模式、MVC模式等）。</li><li>GoF中的23种设计模式可以分为三大类：</li></ul><ul><li><strong>创建型</strong>（5个）：解决对象创建问题。<ul><li>单例模式</li><li>工厂方法模式</li><li>抽象工厂模式</li><li>建造者模式</li><li>原型模式  </li></ul></li><li><strong>结构型</strong>（7个）：一些类或对象组合在一起的经典结构。<ul><li>代理模式</li><li>装饰模式</li><li>适配器模式</li><li>组合模式</li><li>享元模式</li><li>外观模式</li><li>桥接模式</li></ul></li><li><strong>行为型</strong>（11个）：解决类或对象之间的交互问题。<ul><li>策略模式</li><li>模板方法模式</li><li>责任链模式</li><li>观察者模式</li><li>迭代子模式</li><li>命令模式</li><li>备忘录模式</li><li>状态模式</li><li>访问者模式</li><li>中介者模式</li><li>解释器模式</li></ul></li></ul><div class="note danger no-icon flat"><ul><li>工厂模式是解决对象创建问题的，所以工厂模式属于<code>创建型设计模式</code>。</li><li>为什么在这里学习工厂模式呢？<ul><li>这是因为Spring框架底层使用了大量的工厂模式。</li></ul></li></ul></div><h2 id="工厂模式的三种形态"><a href="#工厂模式的三种形态" class="headerlink" title="工厂模式的三种形态"></a>工厂模式的三种形态</h2><ul><li>第一种：<code>简单工厂模式（Simple Factory）</code>：不属于23种设计模式之一。简单工厂模式又叫做：静态工厂方法模式。简单工厂模式是工厂方法模式的一种特殊实现。</li><li>第二种：<code>工厂方法模式（Factory Method）</code>：是23种设计模式之一。</li><li>第三种：<code>抽象工厂模式（Abstract Factory）</code>：是23种设计模式之一。</li></ul><h2 id="简单工厂模式"><a href="#简单工厂模式" class="headerlink" title="简单工厂模式"></a>简单工厂模式</h2><ul><li>简单工厂模式角色包括三个：<ul><li>抽象产品角色</li><li>具体产品角色</li><li>工厂类角色<div class="tabs" id="简单工厂模式"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#简单工厂模式-1">抽象产品角色</button></li><li class="tab"><button type="button" data-href="#简单工厂模式-2">具体产品角色</button></li><li class="tab"><button type="button" data-href="#简单工厂模式-3">工厂类角色</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="简单工厂模式-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Weapon</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 所有的武器都有攻击行为</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">attack</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="简单工厂模式-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Tank</span> <span class="keyword">extends</span> <span class="title class_">Weapon</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attack</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;坦克开炮！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Fighter</span> <span class="keyword">extends</span> <span class="title class_">Weapon</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attack</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;战斗机投下原子弹！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="简单工厂模式-3"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeaponFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Weapon <span class="title function_">get</span><span class="params">(String weaponType)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (weaponType == <span class="literal">null</span> || weaponType.trim().length() == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Weapon</span> <span class="variable">weapon</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;TANK&quot;</span>.equals(weaponType)) &#123;</span><br><span class="line">            weapon = <span class="keyword">new</span> <span class="title class_">Tank</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;FIGHTER&quot;</span>.equals(weaponType)) &#123;</span><br><span class="line">            weapon = <span class="keyword">new</span> <span class="title class_">Fighter</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;DAGGER&quot;</span>.equals(weaponType)) &#123;</span><br><span class="line">            weapon = <span class="keyword">new</span> <span class="title class_">Dagger</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;不支持该武器！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> weapon;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note warning no-icon flat"><p>简单工厂模式的优点：</p><ul><li>客户端程序不需要关心对象的创建细节，需要哪个对象时，只需要向工厂索要即可，初步实现了责任的分离。客户端只负责“消费”，工厂负责“生产”。<strong>生产和消费分离。</strong></li></ul><p>简单工厂模式的缺点：</p><ul><li>工厂类集中了所有产品的创造逻辑，形成一个无所不知的全能类，有人把它叫做上帝类。显然工厂类非常关键，不能出问题，一旦出问题，整个系统瘫痪。</li><li><strong>不符合OCP开闭原则</strong>。在进行系统扩展时，需要修改工厂类。</li></ul></div><h2 id="工厂方法模式"><a href="#工厂方法模式" class="headerlink" title="工厂方法模式"></a>工厂方法模式</h2></li></ul></li><li><p>工厂方法模式整体与简单工厂类似。既保留了简单工厂模式的优点，同时又解决了简单工厂模式的缺点。</p></li><li><p>工厂方法模式角色：  </p><ul><li>抽象产品角色</li><li>具体产品角色</li><li><strong>抽象工厂角色</strong></li><li><strong>具体工厂角色</strong></li></ul></li></ul><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">抽象产品角色</button></li><li class="tab"><button type="button" data-href="#-2">具体产品角色</button></li><li class="tab"><button type="button" data-href="#-3">抽象工厂角色</button></li><li class="tab"><button type="button" data-href="#-4">具体工厂角色</button></li><li class="tab"><button type="button" data-href="#-5">测试程序</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Weapon</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 所有武器都有攻击行为</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">attack</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Gun</span> <span class="keyword">extends</span> <span class="title class_">Weapon</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attack</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;开枪射击！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Fighter</span> <span class="keyword">extends</span> <span class="title class_">Weapon</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attack</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;战斗机发射核弹！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">WeaponFactory</span> &#123;</span><br><span class="line">    Weapon <span class="title function_">get</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GunFactory</span> <span class="keyword">implements</span> <span class="title class_">WeaponFactory</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Weapon <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Gun</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FighterFactory</span> <span class="keyword">implements</span> <span class="title class_">WeaponFactory</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Weapon <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Fighter</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-5"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">WeaponFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GunFactory</span>();</span><br><span class="line">        <span class="type">Weapon</span> <span class="variable">weapon</span> <span class="operator">=</span> factory.get();</span><br><span class="line">        weapon.attack();</span><br><span class="line"></span><br><span class="line">        <span class="type">WeaponFactory</span> <span class="variable">factory1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FighterFactory</span>();</span><br><span class="line">        <span class="type">Weapon</span> <span class="variable">weapon1</span> <span class="operator">=</span> factory1.get();</span><br><span class="line">        weapon1.attack();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><ul><li>此时想要扩展产品，只需要新增一个产品类和该产品对应的工厂即可，例如新增匕首类</li></ul><div class="tabs" id="dagger"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#dagger-1">匕首类</button></li><li class="tab"><button type="button" data-href="#dagger-2">匕首工厂类</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="dagger-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dagger</span> <span class="keyword">extends</span> <span class="title class_">Weapon</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attack</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;砍丫的！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="dagger-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DaggerFactory</span> <span class="keyword">implements</span> <span class="title class_">WeaponFactory</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Weapon <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Dagger</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note warning no-icon flat"><p>工厂方法模式的优点：</p><ul><li>一个调用者想创建一个对象，只要知道其名称就可以了。 </li><li>扩展性高，如果想增加一个产品，只要扩展一个工厂类就可以。</li><li>屏蔽产品的具体实现，调用者只关心产品的接口。<br>工厂方法模式的缺点：</li><li>每次增加一个产品时，都需要增加一个具体类和对象实现工厂，使得系统中类的个数成倍增加，在一定程度上增加了系统的复杂度，同时也增加了系统具体类的依赖。这并不是什么好事。</li></ul></div><h1 id="Bean的实例化方式"><a href="#Bean的实例化方式" class="headerlink" title="Bean的实例化方式"></a>Bean的实例化方式</h1><p>Spring为Bean提供了多种实例化方式，通常包括4种方式。（也就是说在Spring中为Bean对象的创建准备了多种方案，目的：使Bean的实例更加灵活）</p><ul><li>第一种：通过<code>构造方法</code>实例化</li><li>第二种：通过<code>简单工厂模式</code>实例化</li><li>第三种：通过<code>BeanFactory</code>实例化</li><li>第四种：通过<code>FactoryBean</code>接口实例化</li></ul><h2 id="BeanFactory和FactoryBean的区别"><a href="#BeanFactory和FactoryBean的区别" class="headerlink" title="BeanFactory和FactoryBean的区别"></a>BeanFactory和FactoryBean的区别</h2><ul><li><code>BeanFactory</code>：是Spring IoC容器的顶级对象，常常被翻译为Bean工厂，用于创建和管理Bean对象。<strong>BeanFactory是工厂</strong></li><li><code>FactoryBean</code>：是Spring的一个工厂Bean，是一个能够辅助Spring实例化其他Bean对象的一个Bean。</li></ul><div class="note danger no-icon flat"><p>在Spring中，Bean可以分为两类：</p><ul><li>第一类：普通Bean</li><li>第二类：工厂Bean（记住：工厂Bean也是一种Bean，只不过这种Bean比较特殊，它可以辅助Spring实例化其它Bean对象。）</li></ul></div><h1 id="Bean的生命周期"><a href="#Bean的生命周期" class="headerlink" title="Bean的生命周期"></a>Bean的生命周期</h1><h2 id="什么是Bean的生命周期？"><a href="#什么是Bean的生命周期？" class="headerlink" title="什么是Bean的生命周期？"></a>什么是Bean的生命周期？</h2><p>Spring就是一个管理Bean对象的工厂。它负责对象的创建，对象的销毁等。<br>所谓的生命周期就是：<strong>对象从创建开始到最终销毁的整个过程。</strong></p><ul><li>什么时候创建Bean对象？</li><li>创建Bean对象的前后会调用什么方法？</li><li>Bean对象什么时候销毁？</li><li>Bean对象的销毁前后调用什么方法？</li></ul><h2 id="为什么要了解Bean的生命周期？"><a href="#为什么要了解Bean的生命周期？" class="headerlink" title="为什么要了解Bean的生命周期？"></a>为什么要了解Bean的生命周期？</h2><p>生命周期的本质：<strong>在哪个时间节点上调用了哪个类的哪个方法。</strong><br>我们需要充分的了解在这个生命线上，都有哪些特殊的时间节点。<br>只有我们知道了特殊的时间节点都在哪，才可以准确的确定代码写到哪。<br>我们可能需要在某个特殊的时间点上执行一段特定的代码，这段代码就可以放到这个节点上。当生命线走到这里的时候，就会被自动调用。</p><h2 id="Bean的生命周期之5步"><a href="#Bean的生命周期之5步" class="headerlink" title="Bean的生命周期之5步"></a>Bean的生命周期之5步</h2><ol><li>实例化Bean</li><li>Bean属性赋值</li><li>初始化Bean</li><li>使用Bean</li><li>销毁Bean</li></ol><div class="note warning no-icon flat"><ul><li>只有正常关闭spring容器，bean的销毁方法才会被调用。</li><li>ClassPathXmlApplicationContext类才有close()方法。`</li><li>配置文件中的init-method指定初始化方法。destroy-method指定销毁方法。</li></ul></div><h2 id="Bean的生命周期之7步"><a href="#Bean的生命周期之7步" class="headerlink" title="Bean的生命周期之7步"></a>Bean的生命周期之7步</h2><ol><li>实例化Bean</li><li>Bean属性赋值</li><li><code>Bean后处理器的before方法</code></li><li>初始化Bean</li><li><code>Bean后处理器的after方法</code></li><li>使用Bean</li><li>销毁Bean</li></ol><ul><li>编写一个类实现BeanPostProcessor类，并重写before和after方法<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogBeanPostProcessor</span> <span class="keyword">implements</span> <span class="title class_">BeanPostProcessor</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">postProcessBeforeInitialization</span><span class="params">(Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Bean后处理器的before方法执行，即将开始初始化&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">postProcessAfterInitialization</span><span class="params">(Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Bean后处理器的after方法执行，已完成初始化&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><div class="note warning no-icon flat"><p>在spring.xml文件中配置的Bean后处理器将作用于当前配置文件中所有的Bean。</p></div><p>在spring.xml文件中配置Bean后处理器<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--配置Bean后处理器。这个后处理器将作用于当前配置文件中所有的bean。--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.bean.LogBeanPostProcessor&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="Bean的生命周期之10步（了解）"><a href="#Bean的生命周期之10步（了解）" class="headerlink" title="Bean的生命周期之10步（了解）"></a>Bean的生命周期之10步（了解）</h2><ol><li>实例化Bean</li><li>Bean属性赋值</li><li><code>检查Bean是否实现了Aware相关接口，并设置相关依赖</code></li><li><strong>Bean后处理器的before方法</strong></li><li><code>检查Bean是否实现了InitializingBean接口，并调用接口方法</code></li><li>初始化Bean</li><li><strong>Bean后处理器的after方法</strong></li><li>使用Bean</li><li><code>检查Bean是否实现了DisposableBean接口，并调用接口方法</code></li><li>销毁Bean</li></ol><p>Aware相关的接口包括：<code>BeanNameAware</code>、<code>BeanClassLoaderAware</code>、<code>BeanFactoryAware</code></p><ul><li>当Bean实现了BeanNameAware，Spring会将Bean的名字传递给Bean。</li><li>当Bean实现了BeanClassLoaderAware，Spring会将加载该Bean的类加载器传递给Bean。</li><li>当Bean实现了BeanFactoryAware，Spring会将Bean工厂对象传递给Bean。</li></ul><div class="note warning no-icon flat"><ul><li>InitializingBean的方法早于init-method的执行。</li><li>DisposableBean的方法早于destroy-method的执行。</li></ul></div><div class="note danger no-icon flat"><p>对于Bean不同的作用域，Spring有不同的管理方式</p><ul><li>单例：Spring精确的知到Bean在何时创建，何时初始化，何时被销毁。</li><li>多例：Spring只负责创建，当Bean被创建后，Bean的实例就交给客户端代码管理，Spring不再追踪其生命周期。</li></ul></div><h2 id="将自己new的对象交给Spring管理"><a href="#将自己new的对象交给Spring管理" class="headerlink" title="将自己new的对象交给Spring管理"></a>将自己new的对象交给Spring管理</h2><ul><li>Spring为我们创建的对象，它的生命周期由Spring管理。我们如何将自己new的对象交给Spring管理呢？</li></ul><h3 id="通过-Bean注解"><a href="#通过-Bean注解" class="headerlink" title="通过@Bean注解"></a>通过@Bean注解</h3><ul><li>创建一个配置类，在配置类中定义一个方法，该方法返回值为要注册的Bean对象。</li><li>在方法上添加@Bean注解。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MyService <span class="title function_">myService</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MyService</span>(); <span class="comment">// 手动 new，再交给 Spring</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="通过DefaultListableBeanFactory"><a href="#通过DefaultListableBeanFactory" class="headerlink" title="通过DefaultListableBeanFactory"></a>通过DefaultListableBeanFactory</h3>可以通过<code>BeanDefinitionRegistryPostProcessor</code>或 <code>BeanFactoryPostProcessor</code>注册</li></ul><div class="tabs" id="my-tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#my-tabs-1">User</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="my-tabs-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="使用ApplicationContext"><a href="#使用ApplicationContext" class="headerlink" title="使用ApplicationContext"></a>使用ApplicationContext</h3><p>在运行时获取 <code>ConfigurableApplicationContext</code>，调用其 API 注册：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ConfigurableApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> (ConfigurableApplicationContext) applicationContext;</span><br><span class="line">context.getBeanFactory().registerSingleton(<span class="string">&quot;myService&quot;</span>, <span class="keyword">new</span> <span class="title class_">MyService</span>());</span><br></pre></td></tr></table></figure></p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><div class="table-container"><table><thead><tr><th>方式</th><th>优点</th><th>缺点</th><th>典型场景</th></tr></thead><tbody><tr><td><strong><code>@Bean</code> 注册</strong></td><td>简单直观，最推荐；支持依赖注入；易于维护</td><td>需要提前在配置类中写死</td><td>常规手动 new 对象交给 Spring 管理</td></tr><tr><td><strong><code>BeanFactoryPostProcessor</code> / <code>registerSingleton</code></strong></td><td>可在容器启动时动态注册 Bean；灵活性高</td><td>代码复杂，理解成本高；不常用</td><td>启动阶段根据条件动态注册 Bean</td></tr><tr><td><strong>运行时 <code>ApplicationContext.registerSingleton</code></strong></td><td>可以在运行时动态注册；方便临时扩展</td><td>容器已启动时使用，可能影响一致性</td><td>运行过程中需要临时创建并托管对象</td></tr><tr><td><strong><code>@Component</code> 扫描</strong></td><td>完全交给 Spring 扫描管理；简洁</td><td>不能满足“必须自己手动 new”的需求</td><td>适合完全由 Spring 托管的类</td></tr></tbody></table></div><div class="note danger no-icon flat"><ul><li><p>如果只是单纯要把 new 出来的对象交给 Spring → @Bean 是最佳实践。</p></li><li><p>如果对象的创建需要 运行时条件 或 外部输入 → 使用 registerSingleton。</p></li><li><p>如果在做 框架级开发，要批量、动态注册 → 用 ImportBeanDefinitionRegistrar。</p></li></ul></div><h1 id="Bean的循环依赖"><a href="#Bean的循环依赖" class="headerlink" title="Bean的循环依赖"></a>Bean的循环依赖</h1><ul><li>A对象中有B属性。B对象中有A属性。这就是循环依赖。我依赖你，你也依赖我。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> B b;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setB</span><span class="params">(B b)</span> &#123; <span class="built_in">this</span>.b = b; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> A a;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setA</span><span class="params">(A a)</span> &#123; <span class="built_in">this</span>.a = a; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><strong>此时<code>A</code>依赖<code>B</code>，<code>B</code>又依赖<code>A</code>，普通的构造过程就会出现<code>死循环</code>。</strong></li></ul><h2 id="单例下的set注入产生的循环依赖"><a href="#单例下的set注入产生的循环依赖" class="headerlink" title="单例下的set注入产生的循环依赖"></a>单例下的set注入产生的循环依赖</h2><div class="note warning no-icon flat"><ul><li>singleton+Set注入的情况下，循环依赖是没有问题的。Spring可以解决这个问题<ul><li>Spring在创建单例Bean的时候，有一个<code>三级缓存机制</code>，提前曝光正在创建的对象引用，让另一个依赖方能够拿到这个对象的”半成品”（还未完全填充依赖的对象）。</li></ul></li><li>创建过程：<ul><li>Spring开始创建单例<code>A</code><ul><li>在实例化<code>A</code>后(还未注入属性)，Spring就把<code>ObjectFactory(A)</code>放到<code>singletonFactories</code>中。</li></ul></li><li>Spring发现<code>A</code>需要依赖<code>B</code>，开始创建<code>B</code></li><li>创建<code>B</code>时发现<code>B</code>需要依赖<code>A</code><ul><li>此时Spring会去<code>singletonFactories</code>中获取A的<code>ObjectFactory</code>，之后调用它生成一个<code>earlySingletonReference</code>（早期引用），这个引用会先放入<code>earlySingletonObjects</code>，然后B再依赖这个引用。</li><li>这样B就拿到了一个A的引用(还没有完成依赖注入)。</li></ul></li><li>B完成创建后也会放入<code>singletonObjects</code>。</li><li>回到A的注入阶段，Spring将完整的B注入到A中，此时A彻底完成初始化，重新放入<code>singletonObjects</code>中。</li><li>此时A和B全部完成了初始化</li></ul></li></ul></div><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">Husband</button></li><li class="tab"><button type="button" data-href="#-2">Wife</button></li><li class="tab"><button type="button" data-href="#-3">配置文件</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Husband</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Wife wife;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span></span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setWife</span><span class="params">(Wife wife)</span></span><br><span class="line">        <span class="built_in">this</span>.wife = wife;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// toString()方法重写时需要注意：不能直接输出wife，输出wife.getName()。要不然会出现递归导致的栈内存溢出错误。</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Husband&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, wife=&quot;</span> + wife.getName() +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Wife</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Husband husband;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span></span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setHusband</span><span class="params">(Husband husband)</span> </span><br><span class="line">        <span class="built_in">this</span>.husband = husband;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// toString()方法重写时需要注意：不能直接输出husband，输出husband.getName()。要不然会出现递归导致的栈内存溢出错误。</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Wife&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, husband=&quot;</span> + husband.getName() +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;husbandBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.bean.Husband&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;singleton&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;张三&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;wife&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;wifeBean&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;wifeBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.bean.Wife&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;singleton&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;小花&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;husband&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;husbandBean&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>执行结果：<br><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2022/png/21376908/1665453201014-160bb88e-08d4-4d37-a1d9-44d4911a32df.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_15%2Ctext_5Yqo5Yqb6IqC54K5%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10%2Fformat%2Cwebp"/></div></div></p><h2 id="多例下的set注入产生的循环依赖"><a href="#多例下的set注入产生的循环依赖" class="headerlink" title="多例下的set注入产生的循环依赖"></a>多例下的set注入产生的循环依赖</h2><p>同样的循环依赖问题，换为多例模式：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;husbandBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.bean.Husband&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;张三&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;wife&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;wifeBean&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;wifeBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.bean.Wife&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;小花&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;husband&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;husbandBean&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li>此时就会出现异常：<code>BeanCurrentlyInCreationException</code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name <span class="string">&#x27;husbandBean&#x27;</span>: Requested bean is currently in creation: Is there an unresolvable circular reference?</span><br><span class="line">at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:<span class="number">265</span>)</span><br><span class="line">at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:<span class="number">199</span>)</span><br><span class="line">at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:<span class="number">325</span>)</span><br><span class="line">... <span class="number">44</span> more</span><br></pre></td></tr></table></figure></li><li>翻译为：创建名为“husbandBean”的bean时出错：请求的bean当前正在创建中：是否存在无法解析的循环引用？</li><li>通过测试可以知道，多例模式下的循环依赖，Spring无法解决，会抛出异常。<div class="note danger no-icon flat"><p>一个<code>单例Bean</code>，一个<code>多例Bean</code>不会产生循环依赖。<br>两个都为<code>单例Bean</code>也不会产生循环依赖。<br>只有两个都为<code>多例Bean</code>才会产生循环依赖。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.nlark.com/yuque/0/2022/png/21376908/1665454469042-69668f45-5d71-494f-8537-18142d354abd.png?x-oss-process=image%2Fwatermark%2Ctype_d3F5LW1pY3JvaGVp%2Csize_32%2Ctext_5Yqo5Yqb6IqC54K5%2Ccolor_FFFFFF%2Cshadow_50%2Ct_80%2Cg_se%2Cx_10%2Cy_10%2Fformat%2Cwebp"/></div></div></div></li></ul>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
          <category> Java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo快速入门</title>
      <link href="/2025/09/27/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
      <url>/2025/09/27/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">  <script id="hbeData" type="hbeData" data-hmacdigest="7b8e640fb2a8cf9ba72a27250b49683cb2e6f199459a3eac4f03a5213b07ce9b">21f8e907b6ea59635716f91a3e5cdbabeb4ebcb616b9ba916bb634df7fbc679d4289cbc78c600dae3f4664089079a9c23d90138913459646b21c250401293659682ec80be238ca7068773edeafe041c9ab5f17b6b06abed3a2a97966c1abe4e8573dc66dc8728724eb070fa591b307dabf0b684320ee7bfc9e11abdf22ad66191fcb4699ad24093124a902bb87fff91e6b30f5b37837c05c5e92187fdf10688a3314fca0baf3e1926e3be4fa43e1e8bba694979e378e10031764c37225046f51b8a9a9bf48e4fea92d710ecdb5a4e471e54495440b8a0965db31a91b8b9b5fd957c4a6e016f2126241c5884773e4441013c276df214f70bec00a37e8da0b813e42363ab8fc6d558a10203c5ffdfecb1c54dba29d9f60cb507a5e5d552df230c887d71425ae3b3be9b5ce8ef51604902df1bf458ca65ba5a993c3d92c501014f92f3374543b37f78b4e247d805216f5c2c8293af05ffbeb4d9dd903307005687e5e56a3e6882a030fd1e968aafc75a49c04871d27439d9d46c7ec6a177c7b4ca0a4074cd2b80f81a52ace08b452f317b3f5add7aa9991412cfbf68fd4346142ad9fba36c3905353979a62e09c84d0050c6f1cbdcfba36b4af267a19e3f9745058035670a4033586f3bacbdd666a95c17025bfe9709c5e4cd8a0dd986bde39e4c9b198d17f40a9633a72e6da6000a2cb410ba653e3aef8688fae5d7cd709df60cc5a15983e46d7a826225ac1e63153881175260c4bcaabdeb5c9af166b95fa712f9a5644a62b7f4de5fceebfdff7b4e8b5cfea6e42398713b91061932d964ffd35a4760118001174f58da42cf5408290d54fef9b5530a7da08b5e47aa790f6f18eb13b0ebaa6e685fc77ac0f43e5085725eaa50f871d8df1792503681f893b6df3bc6b1722e22b0cbefd1b944b281527bbb7dd4e3b245fe396cd72f1d3f09cdc3cfd4f0edd74487fa0b75678c4ceabf00c4ac1fd198ea2ec431962d8cec7ebcbacb79a75ac5ed6db33d79fdf4f7ef7b0475b5434c6535cd62c573226eaec141d21218eab4b67817c65997b4d88ee2ecdf499b564db84575be2733054d6cac9028b26c5252670538a89dbe306f6fc9af668f32b26eefb8d73d085234105d931d406a63593d9234abd91377c863eba827d27c94931f09f0e4d4a20b83eaa72a2eafc5959cd38563e2fcea0d18f0651bd1f68a8e97e66dad98d320458129bdf82cdd745f47c875f755c153571c50bf13cea28b324d2210f8f100abcde77c4f88618330bd5fc64f02b098475a77b5ff989ad64b6cd35e778c467ec1b91fdfb18cc79c2f624128167a4deb17865ac6636fa86c99197dfb3df2954de58c651491256a2c21b18d7cea0ddbbc4ca444e9f26d851f80068b4cefc05032db595740b02885abbaa3adb963943d4a85480605f28f9fc952c6628c70db1c3cba56bcd21e9f89daee3f4076b045aa1c84ccb5db66b62daa3a319a7c9e05c86334659fb239c7870452ee1db7b2104c3973b28f6932779aaa5c50812086eece6be0201146b8169e96c68452c9b092e3d64db6ba18769e6bfbda0e5d6c9f5c99ef0d29a50b38f2789ce87a9eeb941410f1091e096be4233eb316c2b69191ff5f3b7ac82bd2e1ca5e93b904014bcb8028363f7027338c493ef9b7272467bfb4b8483c330f5bc057faf62915273c3b8e5c6652456bb43c501225dce248867bba1868af5e0a96c3b7f8cb02a9e9bf7b37c505c921686bc07c49b0600218f3277ccde68c87ddf23b765190dc7f8946d3fe957f89e25a7b198e56793044034c6a8b75056466b180f3282ab8bdc1e24858d44644329f4937fbb2a0b8095994441bde7ccc2e400d60c43e54c2eabc3686a954de66e1b8efececcd5a9f27c653362f5a32b32d5eb9a0849413e56b2f068bd131bac384f3c36be4f9081c156f9e0e517fc8172544337f01e753f4003c338d0651aed1c3633daefb0db19ec95624d39819b6d59e122f802036e8187f978cc8a85c8d47ae2f7b8b07742e54442b2369f7461557357bdfd77ae7cc043e3ff74ba6ec32f2296bc897189a83a6d36cb3a0c72751019df7c2faa77925c45d5300eece71f86c6c49c5b59c988655566b4c247f51203e7fe98b84de13ee33f52dc3a9e55ccb9b4d859a31e851c45a69bfda28b17804e64c9ca21199962a9cba40291b3ce21b2bab251cb7a196d326c77b9eb60c526923eb3909f9f429a05b270231511a9e8f1b388cc0e3570fbb5bf0d93dd31ae6077ccc195ff3042ecf1503b8985c77b48d21b96dd3c58b85fde8a91668c44c1adfeca9ee37f9cc28ad741f1a3fe6a74ccb4ac96594734261b5962999ff31eb07196105425ee43dcf4a9f9ca461e073bfab71cf7df3fa5384519e6a372aa159bf937f01c3510b6c8a415bcab1d6f048a3aebeea948d24382ac95dc41aebb1a7499e420c3396e3e809ef9c7d7ee519716bb89402b5c6e344f3cc0ed38d40fa13963611d50b0e765e97380bc181a3c6c7595312ad56cea7c823dfaa8816389cd0f41002082e5424466908c4eefea80ce4a47e56ebacb495fd6174d034f221f8066a9ef5f83fd1a33f2926c6e3e8391014017731e0d77b0c65414e7eb932249b51790aae8f91955db741ee3c801b26fe00bcb81c810c09a44a4614894add1edf9bda6f3c379b99fde4459435bbb5998305174583503134cfe10a77ce3ac7329013b73ce66d5bf15a8a37df7a43133eabe259a969a8950ae2c1aaea74a4bbe7cded2134cf6c729eb335aa07394c2edf7e4951bdcba5a37da19a9c8c0bf67ddb3e5d3942c42cdca060538f88c19abe6b38eace7e315a6ab2dd5e08b94701fcf679c7aafe307a735225795d163a8e66df83bbac80cf02e1694f1e7d0ad149ee48f29aa7e56e66cd3d7660178ab884aeb33243a686f8c51f5549785103953a125023b06e30333a8d80ec4d172023e863ed2c65b9137399e3713f3ed3ed0b8ceedbb28a81fb5330929b36f34553bb6892fe1fbeb27f6a75b7b907a2cdea8a65713d7386287198ddf21af3e48674033bec24c001292d62749bad84b37f3dc12de81ca4cf4c9f7a13c65733da05ab31700dcd23bf5ea94e066c394236758c68165513f9ef2b32826831d027554074445b7f8ae96976eac3ad9c6ad30b64c406614eba9349cd55fd30e5276651d41dd3ab7224b2be5cecec6a30dc15c5ca0ac07e246315e5684cce220df18c157594b80f30f1d61bce2681786c8667ba7b602fb2787e0f4227f7348ec08b0a5aeb6927bc719ca85eb6b33b74f6f8b8d96badb025c9c9f1f9e0fd1854e8a1e6aa5d0f42942968eaaa343d912045bcbbc67f72a0c32bfbcf6463ca034f0646da83ba68fba67824b0312791568975592b5e3d7298f5fc0f20f9e82672b75ffeeb82b28e2c7f43efaa1b1f1843c6fd0333095cea8f99e09f09fb6a0dc3ff0a8fd2bd03498a1a0f96f00b46a6640b691447fcf5e6cdd55df4c8cf44adf8e4dfbe67d9a958ea5559d9e5b91daa34dc6af6e1943a9861ddf662d5d7801610d6acc7602a7ded21d78c2a4923985582c26e89f4fd427e38ff8b440580b4b92cb72e86502d1bcd7485e9a9001734b276f577742a95554f3a987c9e6d90f07723898061d93b9b94736f6ce6cab51950a102cc1cad08cf4e8b2221ecda1ad9cd548e7f9882bcc206fea1e12f81e1faceb67cdf2dbfe718c1d37500109f6a30638612e32b903fa0c734cea507097abe429c82b92d706deeee240a14a19c5511da38f07ee0ee6d1ae21888d559455c14da9726ebce74b669227c4de2ddc1c456d0e49dc93e6dc92514ea825262939dd9f70ddc6ca4b758a85a044bd0299b24a626afa0963d3d9dd0ff921d6de500141e86e88a66a183a7e09cd6d52647f35cf2e71f2e0b9f644ccdd974bb8c89fe711187f4ebc601e3c2dd004bf27af52fb4a17357adbfa7687e0c232e9c27e2e6f4fdf5f48a237b80b38570d7ea503365bcf9f3acc9b40871645eafc4cf5e1342165de38508a49ce5f31d196a30d8e2715e31914a15cde0430af633e38420664b721f7c42d487a16090e72cfc1ed377ab29670a4b4810d95d1e0895f5a0a796890ad60f150cbb9d101a3d0ed129e8cdb0e7b7cf3f5af23e1d842fd4c4c4548f69d7c22f889b4f78a7cbc08abdde59c386c34d25e66c40d0e437de17b832d10ea12a5fd5cb6030a3e11ca7f0cf810623acb39c63e2b2e0140fc9f85cdc8d7681795cc5075e6eaa4598c31293d2315d80c8db344421e6ed2e3b3d4232c710182d115681ae6c4c9086bdeaef9494130a7d0c2eb08f1d8b82b8f889ed24dfe12bbe19b08deeae7ed7a8c4f0e1db2654044be6bff522441d9e675667881110ff5e92010087cd0ff452103173542caaef370774eae014104d59df9ba74991fe2b52aae5eb45080034a80aabdc9852e5c9702bb5066a592c2f6ff2670fe55af25821c3534034852545b6592281fdd303453383e119905c84e5130cc369067b55c46177a2bef7b706ebd0ffb62fec6b933497d8dcc45feb37d10cd3bf279839f69e2f35e77c54353a872aa99aaf386b6df2d149a0a35be51e435d1adbce288b47d2743983dfcc5bd87f44b0ee17fbd56f96980308b5bf13772a3dc39865c4386c0ba311289e92a67af5bcfc1424deac96387f40f21d2c687fe04b0d90ef47124c082e188d88b637603e54734c85ff4c63ff43ae4ae9ac51094bbf68e59856cfbf611eb1f5ed113f829f43b73c0a0b29af36095cec8a32996ab13d68045d9ab55e6e6c022d118cfe6d1870952a7bef1791d26be909aab5e9517918ff89c668d2434b1bcd1789c595dbd324e85b3c998b467578c077eb51bb8a6a11b719eaa46a894fb2e3073bf4358a11b8b3bc442910ce840cd10351340ce47b883c1637adf237248b77f494e3f69e2bdd97527dd5c50b1ec63ac1cb28d727c08728ccb76c4b5f8162aa59bb10f48f603c3a8ee7b7cdbddc59261fe1dd044aedfc9257b63650e3fa486d600341582e81ab020bd74174a3f866d3392f786b4aad29294e527b5cf3829e223346f536340c86e2f722abf53e7f20d04f4824f6b02641d387e98bcf143bed68e3f4129ccdbd5f07f09608661dea0b424bc2692df61e0af330e484d1517ee3fcb73d7ab096d8831ec8d381d87f9f8c71746607e1cbc6ddfdf2d14dbeb321c932c6512bc12fbf262f533341dce8da685fb1ec99acbfa426ab737a514597e0062ef0cc7360c74ca0d0285e2b02473cf6e3bbfec0dce80a7394160e5f20d9f00d222467868d448d50f0b86e1ad7b3f9056986e6992199d4979a89d957771d2d26f29697750c0c6ee4616388dfd107bfee0c90550dced4469581a11233b9caf2280ca9051fdafaabd8acae15de7c2cb56dd3d4f1492105825e118ad438b52de8062a531aaf0bd8a6e8dfcda16444d6eadffc6b7323eb4ee0df7f3a46eb318358fb16f5265261ef445df1938c34d10df6adaca4e72399ca936b4d8536e88c0f7bec3fc2493ab65d1a12e0e409edd54d8c338987d474b478a4259eb8966da817b2b537976845692859fd031c72e11eeaa1481855b3a5f6693ee8c7b47db4d6d2549735e732473a66c9fe068fbe6c8b22543db8de37e0497956a6f398b916693cfb36acca5c884555112c3d01c17c938ca21f85564ef4d1ba9671dcec423ca3714a2204b76c50f743ffce6ba6bf2173354abf3085fe8e57429ae28d9ab9814d221302d2ec6b7e8c3d453dce3f4c3c2c4381098fba8abb3619dfaacce2c5c40cf247178ea4cc9208957eb2282fce63011dcb9f154445b6ac0577c3000f0776e86a078447254f55a18cae7eb95f58c6041d33974bab95af922a357eabef65b44e111246a69eeccd4c9217ebeb1e2469ce43b327c5e4cbf01cdf2cd25c75fb15922120d6427f1f8ca349d4164f7f63a0e99dfe0097f417bccbf44b0e57e2400f6d8655d7be1f5945608f4be4051d061b63d7f64588885b0dd3920ad2fcb3ecc0865439787118a5132c4160765c36fea21504a907a9e77b5eeae2fffadd9f42ed19e61f1d79deaf4303f36a357887b18bb6b68c3221b4565c6fdeea0ef9d51169630658980b87753d603a6e830904b9e87ba23b936ed7f58551197a8804c72b59e94f15dca0460403f6c85dd39fcabc0a1d143343c03f9a8aab36bd24345d40a2e6371ae223445b54c08cae66cf5161b97b5c270d497cf27e3ed07c1e72b60945b7d642e70eea223a51cb2287584e8e8eed86bdc96172597ed69f58aebf5723ad69fc1707a1f1af2701889ea7793648a471e830d1d005e5b2e09185d22f477268f02f0e2509fe711588dae37f6ce15f379eaef076b3dc0c4c3a5dfd680ee1439509155a0a559279c3fabc777b31cb58c7f68288447df0cf6c253148b684e1b769b1ca5987e05b91f44597ad275871cc7efbfdcf4017ad8bf5ad538cc9eebf861130bcaed53be07422aa857aeb08e62d609460c5e2a278b8d9684a36a34de7bdb41f4095246dc72230dd169176e0d7b421d49d4dd81c01db7573cd679f0d59ff859a6588d7b96bcda94db6d071e11c31f7aca92575288e8e5f67dce0bc91ba7305bfb6d71fc08622fece934aa5353e8d63a56b2d9217af9fa90dece6dbacd9e270692842b9f927618831254035833ed0ac7a4dd1262cc772d4c449134efa0d10fd5288a6c7047afce2ea194f705be905d8ca13de9e798bec7b646f98dc639118167de5f589bab497781d53c4c343fd32b39a08266b78c17284bf876062dd9f216df3cd3dea9e5e6b114a7d993d05c3b6ac7f2ac1c0039b9d945a47b7398925e6a0e3b94fce463182f49fd5a3591b2112c58e9148ea635cbc2f45868e27bed18e7888d8024249414d295e6b427a1ed8593ad46b8998ee8af4ca4a1d6545d7eb9a46c5f5702f12a154ca21b78aaed2dc1773983aecc554f3422b23ee0e1054dba5cae9495faf5a30940ccccaae257c3d062d438046a23162bafea08b54f9923734f106930de59eb1a36ba811df1d19d3afa50c32be12802b1f896e306774b4c765a537fca1364638a055b1080842835552be28ed46c1f9db857ab3c9dbadc1e650f46e3f9357196c130e2c2fac0a584f46c27d62ac551d0723de6b1eed5ec63bf9aa40d4a7feb58bbd61530a7bb3dfd1f978e7b66cc10b730334bbda945c2fcf11b02b5209e221e223f3b83832f2c6a362870f818b8fc0b0e9d0bb7697fd7a5ca88f709062f72ca03df013e1c9f9dd5541ac570d0b4ed7eaa4aa6f2820f2b68c0027a1d9829731d8b8c73e577223b511b230384c4d078eec0bfda571c2d90c5c2cff40d6c9f9ea112075eaab061ebd4e38386802b96ecf4bce9cfdcd7e382aca554d483da5ad80b43e3451d7e8284d1b1db80ee6bb7168c1f5ca5309bb8c940b3a9449996ceca6a063fb05ce66dbfa640e63d6fa3cbf2f219d863a8e5ec1ac16c233b7de50c1a2e117f6b2fd7c03025a98fd3dccc40de8f9c9678c542c35b557cb3f5a2d252c714a5bfc9d81f0d987cd2a3a74284a4890c23110e32d6df18c8f659d6d56c22a39f846f15ea5a528336e2cf1e85c81e3450f564238fa32c2f5303c1b3e179e820cc622884f54747fd3c789fa07009565684723ef23413d47fe5cd0a384c99e28cae1edce155d37f33e3a50937506a8a90ffeea89fac557f7e3d1060a25b5d05a773b72254a21de5c0f069b6fc4e67e13e2d64f7b6a43d57acb993c4bc986541b30de250d564c31fba5374f68386f25a3afd8b00a07f28cfef2ebae35c4782215e54c8e1c3c0db4c5dae56398c30fa8af1ccb9245e5477dd6b67567c51869c4355cf041aac5ef7b46ba3426c2d835a58982094c26b11ab8ea2ae63e218163f4b83fe50fe8e3cd2c49341307789d82afd68e80c318c575ff7c817a8280b2c12b1c1e22bd3269ff71c2d1dc751b8c395bbc7f7d5ee29b509c9df5ee25d2d0b48531342988612d70d23bf46ae6deaa620a76faa21edb942f963f8ce4fe529eeafc121b4e8a75660d17846309a04d1794211ddce4fce90a626d03ca46d1f23f8063a3c5b5668d6f857ddf0e726636f877d1bc38b9b1f0231db792be5f419157157d94e780da679dcba75f1802d8825c18c928996b60ef2ffd9766fa98a1e84cdea6c26a0e15ea810d58117d820004fc818983a5dc531a64a9cc94e37963ebb4559b5917eccb256f0a67c69d90de1d3a31329784f3038fa201e4cd1f20b47911e3bc12197b900cde73821034e16df081e16761abebf30b11adb6a93d306d91a33937fceefb7e4795212761c4a64f7ee294d32a8f0f7affa461f9df7a60026532da86f027eb94bcecf4a7bb9c318f850af3dd4905cd8f17cc0c1222292711537f9dd8e76f01795741f7bdbc1f1abf5a8881eca2c593cf3030c27210d43b3923ca45735bfe32aa057a6f9bc54b10b6a85eaf954e45f2895034543d9b99029491fac40f899664ac044957a8c0010333771f65a03610c38358346de365c69f6d424e4f2062cd1d0c6d63b9e862316e2e4461e45299f6b068826c05aa2f95f82d5a0bab8e5b40f9e7e6c5681dca741926cc415718dec2680d376479f9b97dfe5d80c2b78b524f02d60f2b945523f2b19cb8b078efe4d05a573d6161caa32cffe9dfe3230966def0961a4f4762a67fe5c30c309efced2d4ffb2cacfd83bce35f90bfc714198c49cd0db2713dd7244b8135b27126e5c8c18e9a26179ba30918921bbd38c494edf8dad06f3f928de54abdb193b3f3ab496a7e14904bc27866a2f43a5d654e0fa0b172916baddc0163e68d18972828b1509d94cfed9f7475d9b634977d370e41b734ebc4ed5b8f86961ac23858e0f5063ba22f08ab2b8c83f18889c0e02c9dba1552ee992754e12056f622a2f5fa7cf2bc7531d1855bd66a6717772f8a3bb5351d275bcb650e168c1012a005aa6c1a0e764a3614fdbf29023ddc206448d9f78a0e957b10de4ed32c5b2d903d5a5ec66f99a1e1373bc814cae468391da7558dd9de2c60927b70919cc5fade001818db1b7ad5caee8d54da33530c886acbcc8a363fa40ee624916fbeb45b5880507c43b08bdcb2f9d9a9eec99fc6c51634499118195294e4027e9627eaa4e47a76abf0f905a5260fa54ed7f8450d9eb3a7f99af3c5df8e35b8979bed32f9b912e6428e7e8aefd58bbc5d98f3f5a15c230137f7ccc3a5ad7674c64d41da77c0ab73fa21bdf96c28947642c9ae86fadad7cf4d653fb7be770a73e61fddd15103f3213e5ba99d97e207b596179af2c9772f3f8a0a6e4e66645acaa190ea9c259057512f37fa36151cf712995dfab9606687d4e6927b1e547edb43d8b9eaf0638c9f0a01e79d411a47f0a72c6ff84501d5b3c71ce042b1c026939f1c22bda22bd5dc1ff9b16561469d39833b92d954081e3e7fadb298cdeebf3d01988c582699c7de2aaec85f374b40e1b0f0985cbf7d86541562c4b54f2615c9f98e6f487a94c5479f122ce9c325385defe3d9930f44355d1fdb51f921bdc9dc32969c11a1e508038cba45dc0471310a9551b614a7c8e1954e1cdeeb59eac70adcec3e513948ed1034bc54fb6f64187a28fb04defb53796217d688a858d1f0ab8195838b1c342de6895d62a656451b5068d65f146b59aca394dbf87f334238ee8b26348acc3a9f831695a8c5da3e3647ca6c29aa93a7364f6b0c8aaeed17570f9a6ad8d90e96f7f0565b3e06ea5f42fc6cfdc4e3312cc594ac15a1ccbe8d51aae7c1117451a8dfe81d1ed782fb2f18ec1b7ccbc3e72e989161b5304a2e6bdceab0bdf9b4c2cb76ba5dcf99ec2997b46196a31c56a35d246acd75dc3184092037febfbe38e5d2d7342078def2ec0b8bddac64d3e17554943fd7fe56ef71d6d092961f221acf6ec13e4dc02b65faddcb3b470dbdd321816aa6109250b92fdbd013c7d5c6c06b0487dae9f85a0200cedc3234100494522eb69e92cc8ee9857eb040ba6e7136bb2e140a90430f3cda72b3db888edd1f74ddfac669d33f580c1304ebb6de4a6b5053d0b7deb01d7733f89c889de86d654062dca222f51fc327585a96a94c2e28a3a3585ed45a9a74d56b928281c2db633f67a7476e698443ae84fc44ec499673819c90dbd308792e446895eb20de95a6288f82812eb7d02f6f22d5128ca267379c905a98f2d0bc3897282e02d12722287236840be2c3750381a8c1a1f39291cb4bcbc072b189c276b03aa66faacfe297f9f8d4aabdba85cb3f2832e1efb0f99e8a9330b2211290dece4f484c81818069cb2d00182c910b932b1d697f4001134bc7cdeef1893d0e8ef5f0b8c112cdeae8da15e5710c7b7b8948eca117b713d742e91074100907beb901cce0854774e7172fef87785c7b2c7d6e9f0504ef105d7d4eac58b843216e1cd1cb655f078a7f7fd19fc8da9de018109335d8154458c29159df16e041a631e9f713a6ffcd436260755cc8099f292c790c946c43da65b9908a0732177cfe0405dd2ef35fa89b6e9925f4252f3d1caf99a9b1a4861284c833c50e74e7fe25763086e86e46503b1c7076c2d68c061c4b47a2202a54b7f7c19f2588d77f83fb7c780b18084ef08e89547d5b22dfefbe6a37e23b14da0744e67022f3f1cd7f328d2958e4ec21e7e771d37457e1eb8a8a0bc30582b3b011c5aa992fc8d85f722ea2a3743f32ab5a865ac089384aea046c85e7f503c2c3de391672af8f5495500d311bb3186d41c29d982dbec54919d2c43ca27d3a6fbe395664a3bb1ea6e740d68e4c22c62e1267d0b4084ec27fbfde9fcf0ed51b2ab5cb27a48fea147c84d94c6c9f1a3c68d30c317ba73d055866e4855c4fc7a19a5217e7940ee1a0690b89ce89d463a7830c65d4e7d8191fb8ed6d71657b0165073a1ee2d9ca1ad4b3169e44fa6a8c62b327ab8ea0598301b9d4162992983aaddbbef98191c9d61a64b18306307288f7a54cff9f23cae9d91c1bead223316ad1c438976f9ad352373b856e2c1fb46d4f5ea3ad3bc3ebbc9e1d478e7273bfaf6ab89df3057b47669c5700dc108e29db057d71903aac37e6eaf71b8d478fdf7ab07046eb9433aaddfbb8630e87514adc7060f4da49dff66c0dbe551a33ed8befc8bac80b3e069dbc8fad003a27adbbf6f15df094923fb87ed7e117dead4bfb273df8837bb954ad5ff4a95b758973c3d8c1412ad8b5fd4a4b46f161dbb4b491bad77e23db2f3a8c3e14b077093a39d276f0590ec15645ead38fafefd54c23a0fc74f20f6badc87cd4c29ba999d30806bcf1473752fda0f94d53dbc89f2d9c714a5a4012d6327a24bb8fe0fd30352dee80621becb593215ab048c444d00acda35ee0324bead781b334298de230a6214026762ec5f8a4211222568ab8185db18c5362e9a8bb997ce1a658b87086f605a381d5454a5bbfe9756db6229ca924eaef4eda3d70803ce1f172a13de2a3e4d876926152b67778ec7a5456d5e5cd5ccc0f0f76448b20ddffd3424a50b227fe97e16a5a57d4d756811a87fdfae67068a877b24b5ab7e0da4355950e66020103d994c83b5cd1ff2118ff2a3ba20b693f1c087179b0ad37aa4a103d28ddce36af04921f591db9946472efd272353c3e48b4100d775cd5612be4229fbfb0ac36d8a6294dfca05e4692f5af59b369904e638a945d4ee2267aa2176977e1841efde92e4def7fcdbf6f5e48a5fa0f3d3e5cc7f230db01a11f73903b0864900c6c7d5e01d9cefabcc604a1bb9d3cb514f3b193d9b5c36168ad9a8bded80d1fb95a9ffff66a81b9fab0b1a88ab67e8a86ed30871218bcfbd053431b398f768607178a15a4f7503c659e7c22fb7500653cf7d59fd352991aceaa3a77057e40a0524478bb50f87706e7502e7062d653c5212c7225b497945e4e5714d2fe1cb788a6e8a7319bfee8a6db1f45f160b9f2e930e0f309074246431a6b2e5f80e5fe9af3ec461e32f3e9c9f181e6a413a50b50f2e8d1b39378a396b3b4e2d800890cdab6645380a9760240f7e0bee1ff05945378a9632b7456eaef3889158cd4943a3b545ea0cd8eee0b9765eac5410786ea3c698e8f183d319b0017f45e363a90e841fce70312c30a0856beb6c867e0e4299c2db53f52c2d398359dc889173d34b069cd63581c231ecc096513c3053f1e4b6364e0a9ee9f7c4e94e75e78e896e38dd1e3998b286d7f546e241796c4c2024516767013bce37e3d2b8e19986612e0b823e253e5097f47b7aee7b79935f60dc8fd0d2a6ad7fabeebead7f136637b924e5c1086fa0758eaad850ba0e84bf3c02cb10701ae5c84dc63b72d9ab867b6e4909fd53ff60804a216ae451403838081385cf3249554402dbd11673bc7790032f6d422bd93e04fa6e3edeb00ec033c95b1c15b78013f79ca5f8a1bb3ca9eae9a33485df43aa0b7229471ea9eddbb0626a509a3a6c9c89aa02a987f39a9a12d645e2dc216623ccf1e343bc8699e80db10c76816098a2189acb710f1c3f126222ecd2ee4cc261ba968674e1fec85b48b3ab77bb4803871598b88f3b459fd564e37de3553eedf0a9d595cef3457e638b31ea3291186d2d6ea7acae5bbb78b23e907bfbc131bb453d53600c4fb5b4bca8ea58b80d6c058b722747b7b2601684e68f04c484e46f2a3572dd6609456d4f633c851a3fd1aa70d799ba03192f117574e42e8b41976fa25e9105fab594d82e5ad06751ffac8314066347d48d48e1d035d9b391d85c278a4c5b96b58944b1de63e02c6e2f536753ebc571f050153b0811eeac2b72372d55634fb86e21b3252c4f89455670e5112fb3aeef4cf19568379bab2a3b329f5f9bb245c6700239e55e4fc3c241cfc26c9470224f6b84ec37c534e99531dfbcc4ecc41309c0012b7d041aae6b03fcc94245c2d851bf606530190f16bb8744ef659e7213f360dd8c3d152906538baca851cb8be7d250595bba52e4e8e1d7bcf5868a68a13bfd2f1832be6a0cbfe9f92f6f5c381740ed1fb7049a13f887fc924456a06bff519bf53ce169e8e67310be609cd8bd483600ee394ae586dee690a3cff75bedcbea178a5384c6fbd49bd9aac3b27561d284c6050700fa6cf1f8a5995d875600eae4ed03d837d4d606a85fe673c3540d8f533b747fbe68c3992249611b6f95ed4ecd6078c50543c68b8b143a088eb69eae7b7b42e1338684d302c72b9ca686fd9605a5e4f8c9a156dbab3412b153eee0756d92bfab1c33beed32964431d8455e7a1e92ca26075c9aaec2aa42714099e6021f21e5f04f3a7b3256e7877c2ec1a76f03638e5807133984e16123a149e2dd8e442f7d1198cea548fd78bb7715892e1e7dce63949e8fef2b15a8d0e7e148c717129d34a8383622bfbb240cbf097a5ac603372c70b60b0926be661aa1b43201665038925c4badef544f52231fbfe57936d77c06ba9e91d5eead74dca2d34ed6d4c243cecddef1a11f53cc2e8bc13df4f935664fe31302ab3bfe8dc39d75af802de860c76c3c71a3ef263658291b0fdfc11ba1af320fb89d12a6616ab4f7875fa5e287933b63fccd09f4812a8d6e883e4772883d19b2641a72a5a937481e5b749b307be40dfd82794d57f19d80af68946b29b354438aee1e795b669072bf1237e7dc6723fd9f0fe3187a2bb0db44b88629d53eab4290a7967e3e6fb73b9379cbeac7704045ec61946567d83787ef58c7e16c8844f82bf8bcf1586c1513d77b4d9dfba01b854d9d1b6cebf8c5b18e8dea2de7c6593586a606463436efb655211013e974e6a72465ecca3ed8ce87e4a07fabf902cfd24dd39bfdbcd1d1080bf7a3df62ca79541e750c04861c252487ec8bd7d212f2e3df6dcc67af42390af801ef36a3d4e4a0ecd8bd03fe730b1798c8c8fa8b9d05ec8fa99f832b64138fed8cfa9be01009597429addc6a1ee9bbf9f751d5f18d6c330b70b5a3412e4792f354d9159d5041a384b1432ea97c4c65393399381d7cee61c94ac81a0713a42c7d9755dabf204e18b6e2887d4f3a53cca517e6ad5eeeb8fc8fc3237dc5b7f510ae9d31324ae5ad3db5352243eab00aaaa5de30325e8f2c8f539a2255f7013c2b27409cb5b8107a062623f51856b6eab2e67903ff1c0bfef61623dfd4ac64d24c3640cf2356d46e14a342e35b231025b99b5bd17c9be5952ac0b4e261411af2e6853fc9061790856ded4f7ca50a1d451e5c39ed84bd0b282df053e2bb2a701dc006b9d181a2caf038e3d6437ccc71cdb988a3f0f02775f9d6ac1d775560cc588b0b450a3ab56d776bcc45b088e7becf961c9baab9142733448575deac15c51a1c96ed42e5328bf375dbb2fe974a30083ef3f543843b8c00f2e07583608165ab090b5ee56384a16c858b4d91181264a1b862c154d81086be548d5130d1a0f7d9d573f1ead902639fcce405c32735e421b43211cdfa3d632806be5045a0b54862c4defed613bbb42863c7c55b8bde9a54322a707586f55a27841a1d241db15898c9c8a6fbc6e49d6dee2a69a1f8906f067dc053866c4e87c0354ee67741e84fa43cc81fb7e4203bf88607e7c56deb9e159b0556d2248521fe045e3f50e06c378003859f1ca5df004d394c156ed9f1a589aae1d5ea88480efac55989f6ecff1da79fb069e09bfcde6eb3a22d44f0f06dc50b425e08d40225037d9a3989632a3b997b748cdb9b07f4076328294fdef9ee14c026f0962d368b8c6477d2eac7c5c814f02b9ba55d1779e0230223466d5083f192691651828caaf5b941eba7cb4cc27ae120a8cb88f28b87768ced9b2b86cbf1df9192283ab481dbe3e4c66e4574ce95b42d52936371274f64e7e3bb31f3c8822925b4a250cfbf35941fa5597c339e4c9ce71890e4f7e91ab86970ac73a3adc1850725346f65beb530d0641a5fba0f539dd43817209c6786ac5ce7b31d36247a308050b9420e17b618b574b2741bccf4c594c38e401a6192280f257c5e184cf06f4e8fe20eb860b06e8a7b4691bcb82fadb6724447dafa72874dca22bd0ac0ffe9689f499d253c54d53a2823f664f788f632271e4c28b924de76ba6843b754ee846ab8de3445fa2a99ba45f3cc2fab91473c2e44657245de353469c02e0de787926341f41dfa1be5339122cb0d52f5ecea51174d33e63363676ea47bfb207925880bc66fb46fd8e90d73b0484d0c5ad3976b30b9c354a7ab81563d619cdfd3c52985bcbc3d277f427b48a6b1682897997b9d27d3e5a364d939f35af192567e70b0afb6474fda6b30206ddeeb0104aa011de1becdfff6923245c1d1b725b91f081b6750054d705cbddfd6a4e27d58a53c09aaf5d6e46759d6bcc09d8c8c20e951dc15914b8aa97a3e4391e81ec0c2d3931d4c6fa3c33431c72ebcfdc031e5673f084242fb823294de131bf80fa0fe6c835d35144a869236c7efee2e5941a677d7c3deb751f39eeed0ee230173e3a820ad7c1db51f46071c04d09da7670b91eb28c7f38d685c680f6dd1eb56764a383c92a0a8280098eedde3c2a7d32af758884afdc213f0acace3b752784a171edad6822688684e5a3555e7616de6bf7400a339a199c75d63d0865a97a6e2308384ba4b9983ad4f1e54360cfa599fbec1c06345904e730fa08bb0defd4cd30450e539c774d8a30acdcc24188dc715537138c8914ce99bf9fcaa241362fd28645743ede639d6d0ef35103df72b0de6bfd409b27986a831b1b2891ad3cd74721252d3f36261b418dfc785c306201848b82a78849f8ad14aaf2033bf015dd1cdd5af55b64598b11839bd3aa13be56ace80f06db2b837f6f8bd95c802fd6e55f8bc7ed9d61d672d92ce32c933350cc53036879a9295ad1c0ae34428ddf5ac94f211a9795b450df20d3dc5d9018163da25a1eb2ba78d8b494cd45867400bf4e81409227c5dff7bc6aff15c0ed029972888c8925ccc447a59d7127d14a571ebf320194373a0a2c089218e96df6131888b77977c99e6676989764a7fb10aabbaabf46f15111b9b17ccedd533aa2479826cb07a806a013a4b4e3b39cff3faabfd8c1debe99edbd9bd0f31c581537bc2838c61db52c4dc99ef29d0270d98901d6117bc0779a04cf69b05ea0da6fe30fd8ffe33a517cf25d3631fde3302da05b367d76d7f8f4dfc1156bc06e1ba5cd13f821f047816962ada90074e3e34f5bf5eedfd69c7ff17ffaf349d09928e1ff6a5f27e99a5af57ac7504033153a3f8363b9b6d0f4c55c8adc03e6366ca138bbb0fb74a7974684dcb438392e3dcd092b5867d1a5e0d990629b55e03d4d197b0faab6973a58c5586b156a6bea1e5b37f7cf2f82bf053bacdabb82d4e37da2a976913a4c050dda2a275027782ce7912009e1e430ee6e002d9693c792e75136c6132c07846a03682f60cfab94ec75a8f29eb9f3fdeb3bd01826e7756d4fceb173325b58da9049c4be63c0d733ca0c97f498361fafc60db934eed89a5eddd8b9f41f918e5bff62031245aea099a3463012c806c61925596ddc85cb19e1aa90d2986cde6f986f070c69cbe45e6f0a6bd54f0c595a9252c0f7b8e9d9121e584e5648e298d1ea8440ab2407f191d9cb1bc0202c28fb5edd686fbf46b70accca0bb590f9d0d21a9bf99f6ea85c2c426ef8336f582adc50c0da8b69d3b2f142702b2bd22547f3e32ce3780c66822bff60d1f6bc0a86e08ed81523abfca6e6a827c932cc39d404dc99259c324ac766db46db1ada47a0a7fd6b691b58fba6fe7a8aca02bd43903f39b51b6e3874c137261bb290e57648915bd4ce15191c9cad22b99c7b35754cd398ea230df05e1d21bff62a135f4c81aa57c71dffe7c74bda49830d1f0e3aadcbc8a3f9213432aac2de9ba48b27926b976cdbcbe522ad45ffdbf812363ca89a5e7b68b2b8264c01ef6b1f2ca95d8a31d729bc6f9f9dbca2146c9504fd1f5fad2964824412df2ea6ccd65c3999cfacaaea01184b21e3ee45a0313caad2030daf250622bf8c1893da2978c4bd32a45314e994a877a33b46d5e38bc53542d7bbc0cd74d488ac9627752e57743e176487a6444152b1cec3439f8f90edff3b1dc84474ab01dd2bd8a05d66c7ffe710964fd8fed9d7d6519c102ecdd20c8703074f275afe4a3c4d3dfc453dfe33eedfe67f187ef29aa44130b7ef4abcc6637ab326ea19d6d648572b7b8a00e9518e52e4b3d7e8e48a38f88ac5c08c7474a8acaff54d4818570fcd4402cfa3d02c0ac05bee474b6dee28e33e9b9017478dee12c056d53db3211ac141b524350b6d5bf1f511a9467f18cbc45d594352ca25d8619c6b1d6829be9935ba45759f6d359c1156c65d7c5a1376edf49ced85594453b52246aa3fad05c5b2473a74de3f102f72dbbaacc0eb2dc52e0f127b65a85d51bfbfd3f3aa5ca7c8a9bb75105a0dabe6923cec868afb0dcb3c2fe7184035503f350bc440b85e87c44ccd47f1638c7f214bacfb9bef3b3dbca5aaf0d4934e478f7347fea845b2c48a084138a3af0f30e828433c6520ff1de9b9a355803f4dfed7d337b3df1ddba8e8d023a277c5fa846f1e810b57076c02ecae4b01cb2bb82e96fe09ee79fd827ca8a55b6f029354ba0a98e50c58caa65dc4b1321dc43ed92f047bd346882d44b9b46fc51baee9fa9087d9ede45998ce4ac6efd1aa405d8dad28f9b93e0ef2a4b681b8d19cd3cc8f4bb858a1a83c768b1a7dc8a5541058d05a844570a49baaf61c8a6a22b1a4c76a7625cf72e84e610b2c22ccc6fad3658e223022bf0f1a805ad6593e134d706d0a74a1bea9d17396a6b9ba0a3e5b47d873987ef291c6000673812679e9f436d3ba307f4878cc947667069f05af2b07e4b8585c95ff1b6d5b36ee4105dee3059eba984422a795f4cc8a05a5cbf0cd3c26da5a2786ac062da776b05b53ac2f693f774523875074dd48dbdffc2344949be0d53be72cad2bfa67f366bbffd08c5632cfb2018b45ac8963e5a4509fd1c6ad521925d8c9fec45fbb623a1f5865f45f2898b094314a3daea743cf26b89db4c8834fadeaf97d554b4c59476900e05b8004a9e4e7af6462e3288fcbf95483a0501f4e429da6f204602ea34352947f73a6cd116984fc838785ebd04201add166083224fe05328e2b92095110fa413e5efbc25be4c60e923194509e4d0eee117e7f03e2f7e95b9b57ab42f4048e58259a6f0a42aa0da801467d37aa4d9f4a0476cc13f4e83b927a8e79b964c0c9d365857e6696ab0875122d76ff19c91e7913422dde95ac4df4b77cad255f03b8800f52118f3c9b353e20249a7a84cf57586ca683be864e415c7c6d1d8fd986d8c457697a25527a2b2788a92760a6323aaed17a28d430dd36f821c223e3a55930af520d3099416ae855d3208e1e866d838be2042e3c698358117c3615565c87c15db66279ce7caf09eb77efed018f4325e83894c6aa1669f751dc620367966cff6f637e1bb3d1236a5e89120b624359893f803a9174f0ee05e48686d8483dfa053656febbe46a90eefdcb86c7b4f0d7fd45d03453149eda115c96dcb2c11a0f9ad2ef37ff31ec1c44ae378e13f91e507c460135821fbf6e4916fcda7338124af557a1d67634117a6bbfa240028cd9bb200643621847e894d6be51d9c2a198639b0dde1352153f4bb5fd4552ce0299d4a03d74cdf2531e2fc4bdb2754afae3f89e0c1b07877685fde4ca5c3e5e753a5afd74520f40439bc317529ef82fcf9521fb1207b3b70e8a034c72621747a9a7ab8f63fc1d0a22e126f2a11b70f530bee92e2b6457ec53156b6732c79e260e39c97745d8d6b4889d993510a6ee4b58b44057240b1d41dc2ae65cf25360c3999581b5d232350a1a66ba22530ff2df71bbe8b8a8412578ccf3a0d6e0c52321dacd66232ddc8162ab886ee0c05c09b28bea2eb4bed9c1b774dcfad0e1acf4a03b0e47bf2e4d002ae00d12eb8edd8ee861f11700d929370aa9e33bcfa9d7426b5cc507b7ce23c2d8b5e36f53f1af62b82aadcb6d1e5dcd55c3e26077f10548e54a35db0d73cb67a9770c20c427d9998277fab088c76bcdaf0a10adb1b559bfc503467a2074539767181035f096ed6e265a9faa4cef10a1b962b29878b513fb29bfdb127177723d40c0ed0fbeac6241abe0f9723813a8527c06f64e911bfff58e58b47ea35eb5622ef18642b0af9a27d5daecf26238836caf8a9d62c9f31f78a905b1a81d6bfa1d363c2cf0cbc9dc6e47a7e67b05dbe223f858fe938aa8e3303e5cb2fa90fbdbd58535b796ab57e6ef534e5f1f032be1903437e2ac35a1a08f314df77896f6dd2c0e5f1671c86e4b42ba562d7f8d162140c90882b68ada83874149cb2ef3202ff7c956bd338f959c52368d71223427ef9149861b709f95d0d76f4dfa9c43286e8b1ea760b5dff3f91e10dc929b1f2ba95cda0b49ddb855c1ae807f0b49446bdb941d9f6b65f3a5554764fbd728b0c9d4135eb9753b3309c278933d4571a587fb856ce1f75800692237809b1f05ea28fd2ac055e44e36396c0d07400d9841a37acfc89bf9d6abe34aea356bdaaa9d3081e0686c78b5d619f171fcd2718da71e8d396fc146a85b8bd216b948405cf2e9c9855fe515ce7c347909f030ca79b17f1712f01d71ac7b5b1cd4270972ac4aea2b41f03f01b037af70f248bfe0fd4af8b48f7e59ea2c9b2ca3446b24a60f124f8022b6afd643b62ac02fd074450af467474627017c37ef1ba69a49a2a0316b7ccab0eb4d9721ec76329838e0fce75b3a1161c8bc0d823942a8f007c4809557d6e60d79bc1464d72d35674a17170d6434d4379f57cf37452e8ca282b27056ab1ae22e6329bed7f270810ff6679e7fe3bccf1d87fcb608bfc33eda65c4a352d33e8fb54115e73243cc72efbc795f970dba3ed8c76aac71d903c39c750d9993f63eb4e65eea5cd68758c69ba53e8be38265cbc4854b2caf2a049b8ae522f935aac3945d6ed01c1e74fb0d0618b7a65dfb54b8c37d009386917373964d23a20f498496e92ee89017a7f24236ac4ddbdd2afdb17a190d0e0b1b9085fc841d26e326f18483abd5118a8434ff6d3ccf19e8f70391f5ee0616cee48f6cd2f73ffa53ec842a3f6dc782d0974e9423f418e399fb8eb28ace6e3f30413f34b62c318ce30ca43878559a13f093af919df7a57789371cf4670d2b41cdc61cff739031daa59dd3f7114afa8d40f2550e6ae4b8480e923dc0fa6fbe37c7fa8405af825b95795db154b3d0595d5c475fba6d8f8c9a1e54810e4085f9a43f186c239a00d917102b9f687d629fe20c7760ae9211160241c81a83b677c6c6d6759a1a14a28b0d9b7cc997cc81bc4a7662e79e65ad269668ab1903cb716027fc954e12e4ae435d9b4466170206ba30c772a212c3396f70053e1617b190af00e37b77c60b1f1e072f0b8396b06385509369a7a5ff637590f08faeecc2d93e2fc3f3a4a75d2db99e5a1bb6e21294bc5debcda11318cd0d9c6bb2cfe6cb87272c2fe572ea8aee8a14947aa2591a6783902add1314c8bd488eefc6fe64a529647045a40999ad67ecf31e6a88365304e70da561bcd11e308b8c59b582c5d6ac78daa3e3890c193bae070939f49e4ef41021e3b1db04f59db1901a041f9a754257dde9bcf426d5beb7dfd1e50755503e64182cfd2216844cb824a7095521bda028f864f59e9036e30cea4f5c1848114da06c03b42a7c5116bda6ff9203e087f84c84dae124cc288c3e83cc0df2d575833bc1623f5ca89d597ab22f8e222d7643c284753c5b02268bc17807c6bc3c58638dfba1a511ab69b4e08870cf1bcfef42aae899b26d16f67cc787f0857552ffe03dea83befbfeb18644bdd63aedebc6d2e754e6e31d87f820cf0ae2c453b1044fede4703fc31b0e703bcd9286a270ad71d817add403821c11838de0a7b8a31f59cd58026e37a40b8fdea0dc6b154d896773615cc03b484114864e134e7aeb2e9a0dc0feeb531449dd35c2e4efa3d049e3620b2d2304bf8480c6af21d801e928a5537fd85762ec8da154a955d60aa24de2baa3f394b4275e0525c1935fe061a52246b0946fc95cc8bd7142ba3da9c7d26de88f458f97845046d141f50ef4e8de2d2218a163985441636d536a551f329d45cb1a961e17a9b82fd7167b01d94e9a88a5a242c2fdc77db28b47e8649759994dfaacc064e89e31983c4c3153b2c052b6af64fbd924fe0d49854730a16c5f32efc6fdd57b6b0d6924bfdd05e35878f9db00ac792194d59aaa60cb2df788ff5127ebf26253ac331eb75802c9506b5f544e34c4dd8843f843f03a961640cb2e57ecee7f6812ebe575342b7f28ae21d6a4c93a7849300ad021c37c2962c18c2bf10099408339b886a86d2e0daa94239eb52970004c730a20d0389b5edbf8f6f25a96f7033f457ef63e004a2712cca6e1d478c668acd415b26faf13fd915cd32c31a410f2567654ae55aac00c354fd4c4d192046120d5d992cce45f9b442399d77862092688b02f22d61d8353a61975fe6261c97b4ae4dd0ba59db2065a0913719413708d690588dee77d02ec2370dfebde0037494c38ac1fa1b613548d207fe262c082bb7ee45f8b5a25ad708bdfc775fc919d004ef7d0a98c036e539b26ed2de66e7d71b5c75708abd0320895bb7b3f182d060f1dcbebbd72acc409e183f72a7b78c9212e67d81f5e74adbbf7ea1ae639a47fe64b3589741b291450f57a3c6050e1007e51f333798384c586026cd8cb915cc1fdae4e01437b141b3d4387feaddaf5697709a1b04b99ba1c64262819552855ba4c590edf8ea3ab255c5ff8e825a5a1e791e703fbcecb7e51acd4ddc4961b6af9acffed89a0fa3b4b860301eb9742c076c93173cdcb2a8851b46a0b3906b6cc7ff56428a6f651e98b72a0330730779ec545d4b023da01d9c0f504c2ea4adec4a22a11342ba152f41c72be26c2f9014cb405599a7eb544bb55376b1cf06267cf70759aa5cd6ededcfeb46b78d9bf1fec00398cea41a10ce083a5620aa6fc1363f32fc5e088a168fb34eae3fed7a066e6474a2ed16b2ef44ec642e52f7ade662664ca25d9a2229d05c8d4fc09c8bb5d5c395b9fcc339cd0f6e5abc84194e5da469ffe78880837ec8c867e6545871aea0af2610bc1bface92ab774755d90b1529895ad139963149aa599943f970b1ccfe818aff81565c19ac9465afe4d87cda9ec373d6a90afada9b899c25dd36f40df91af0520a1d24620ac8e5400baf4ae71b54d4f9ed9d3e11b4ba0ddd66e7cbab3bbad7752213492a7986f211ba3d4958f23fcf0876965f92081124cfa6228b488106b7a1e612f484b3bdb327f3220409a03b7bfe125b6c6e5f267d6e5f49c8e3eb97bd15f8d89bf6af97c6cb5249273daa36f8efbc6e82efbe15f4485ca68a6b1f599706e55c0088916e529c47345e768669756819b734dbc64a347f4220b59b3d17a780d6fc486c5700effba3409deb9c3127be74581844361ba79cd102b0ca11662f15b301b7a092fba1b6a9d2cb7debcc95683458185ac960f5e359acf538f7fd50ae5680d97dd13c74aab4c52c3056a432ecbc7b047985e91e667db2b21fff00b7fdc5a747cac47d90d6789925bda74aae338553d83bde96dab8f016022c459ab25a090d60fcbe203d5e716f9fe6b717a6f32eb6d26a4e29a09923000dd9cba2704f2977bd26c6e88c740378d379f10db653b8c4a0fd2aca55c00df6d627b346cea3e6d4f6fcbe54ad3357975ab27f2a338c5a2d49f1eeb8adea51d53a71a7b411487870b8bb68c333c2606d838186de76c52d114f45aa4d0b59820aa9ece5a635be4cc4b875c3e1f6a3a5c6529a8b0cff33d48f33a0e388f1c760c8a7d16311099bf1effcdb45212ab6b49b9a637b978d372d3eec5aae920e0aebf23012cbe129268ca10579e66c604513f6b2d2dcabd5c8f8cc476df8b62466330cc77d118aacdd13118ef75a8c90752a4c2b91c1c989f02324158db93837633bf0c2f98f8d4d2ccc799a966edd14b3eb4ed7a3c4305847e70e907773dbc4f8179d223b7b37ba5a6623b4556d1a82dc50f4e055373e59523c7ab70e5c857f5916f0c6370e59c04e87dafa998574a16c2c8abd19bba9b5ddd3c04d30512509bb5bd4f8dd2f0cd3b1c0df98abdabb0b6aab9c0485f8a624764e8aee7942102242bccd73a10fdb379081df1d1b29b71f493d7bff9e92fde2ed8ec7a9e99ec4914be953d244168c310732ddd36e090e22cd180f2145f8dfca72e53305d69d64f2343056ff83cac718b52e1d8d26bdfa7c6d1ed870cb006d6e66c76cdcd0fce7ae4b5e9a1264068db8061429ca0d0c5d9031a2658bbb5fb4cd98363823d59e19dad62bbc1cf55f1748e54b7ccc2065888d2bd002d757e2cf0616b5ad2f52c33c469b0fd1ea310a0272dd5cb19f0f6c80c663cb7bd5286cb645b39bec6efa893070bcce4166a3637ffee162cadbf388e3fa3c76d4819fa211fa20283a5dba5e3434ff8033f8e46f92f3282ec1eadadb96adda1b7b771fa6ace7858af6bed5ff3be4822b792c9bc13572f0c4936dd5867abb256e61a10b39f80e91fd50d7984e5cc380d582c8bfce0124c70652a9b0193a1441a409303b808e0e315eeb8da18dddb0d746ccd380609dc39df5ed7929a9ec63182483c7dc91429ac31d56bacda4792493b7a3052305f18ea10ba069201b3688a235bc21b886bdae916f5e06bdc812d3030a6469622a798464da8121d1e9b9cf208567ef003293942ae154bac2e5ccaaaee77803b2aa71f41bb7750b71f6c67c42290b527a540cfbe816b4e3e0039505c1d8be963bbb52dde59554e2bfffcfb4217f4ac4bb33ac377c1ee292521f0ded283a9f4b0bc760ce7a225fa4b86c131a692d3638abf96a386492fdda0d06ad780c3ea70642de00d6fb64bdeb67c77599c026518849df3a5de0bc483f27506101501d814434ba33f65517708a2ac6d51e927b4b1c19432a7278a267fa5ad4ee81b427208f0cd00b120b294eb721393fa1b5b21290977cda76a61bfcbe1e7bf669cd95dd48b3bc3b2faff91829309e5df3fe9a9805c5ff84ca5509af64be2eb1ae182805f456db030a216042ed3e8b47d1d8f24494b3a097ee9c31b7b61c02d1d4bb27ffefc85e7d216050ce50754df2d3be5de4231ec162d53a74483da53142eb0f8cf1631f80c528fcff9a091bd54c0e38d55214ff02bce8f88bcaaf2103cf634e45ffd5818236f7c6e9ff6b766bdc5574fbb8c0981a12c5010f99287c430e00e2ac10029a725f46bb2f3fc516ef2526af94895676bb7fa58ef7f5e9a6f9e0d28ec70e2b93562dc999733130bfa15bff7413b6244683229dcc3e2c5bfa85703dec74d946f403c5ecbd8ac2a3017bc372a534452430353d114a71236b5ceac54eb7bd8d60e2b654b0237cb86bc3c51f24e105d2c7b1705ca75c36f26fd845713f1eb799040f438e5b3f0fa84152a9bffb9d83c8fd715c6c09e16efa74c81b5ccd1dad23005f82c6179fcb36e76fe0fbbffb9074d7c04999be1e675bccb01d6d16f249d236e0970b59711f909cd8368f42ea81769bda1dc103a489f31dcfca4f5afd432741aed220ef1e6f2635d9ceb90ec28864d84586e8026c9f96bf7c1a87de6ad07f3fc2b7a84a3b68640d756f664d0dcfd314909fa1fbd3c6f6e28bf4f266681f6094248d011193c1b9f1a4ac4cbd2e33ec3c3fb28cae0ae3dff493776629b33c0c78d778abdcf1c0efb4b8d3ede9686cd0ef333f62eb5d9ea04c2e65b2a6b1445fdfa8ada285eb113aaf9baa7750e48501f44a96f313ff023abfca548ae5d75dc70909a8c6f97935c5c9b778c03c2eb264d13d4ec359ba5e3d43435a9f65b9a77b7e9541159844210fe7919d096735cbc09507e7b05f16613a29a512714bb9004460beb6b8ee7de87bb07041ecd4b3fd8f3e5a794b26be53c81eabccb69851ce5ab40fe817274445cd5fc61b01ac6656de9855516d7b0cb9af56e289f6e5e04c12e755a91e04bdc4350eb46cc71e996ba9151e56e9dc84d93b83c23ec4e5862a347cbd094111173780a5a6dcd30e55c77acda1d1492a2896e3b156f54f9c93d19e8cd90ecfc118589817921629f04933b9888956cdd806cc09c0dec3ae418f143a970e1f211bb42e6efdf2b88a44a324277709b13578e46bdb4e8b6ed72d4d12e013a9c2cceec22a0d7f7995ba7e5b0f525e76c6831748161b9596eec6936dfeda6f004f160abcbb8f874adcf58e3605d2701e477318f1dbbeeb08af4e4f68c165cf9014f94605c8d81acf3a296cc50307fb349c0956981dfa7d02e5435e1fae4be0efb11c311be475623d8233f1f6fc2c2c0356a84622d7901ba5bdf8f933f8af5ce49b6437dafd19b9df3ac5c789e125ab3eb1c7d82160f4dc34cd20da2d61bb5310913c33da7651d1fb177f705b96689a6d9a2870b433fecd2c143864f89d282d120a45f24e304902124e799632130e655e58245b3b22fa59d61bc59947a6fabb7e59b54d2bf532011bd644c7be0b4572dc9f310088c4d51f0dcb4152db63b33dda12cc1ba345dc7ad44c4b64ce3bde7f3c046f361d88e96968dd597745fed507137f5bec4c85bd8e02bdc8dfebe9e19f3d015fac379427757857de74187042a7f65cf2682336c80871db4173b1e264a4628705946baa8a4f9b294e4364116f0ceb01a6eb62023b1c62d525d8cdc7de45baf5cc1d8186f0ba34ee1760e2d0827287e35ded18ff657834b8b93bc7f2b8f2796594ac7eeb5dae70cb02e729ec1e341d8809d3b44c0ec30699e7cb90a998d785442a07cba0bc1d011c76070d44f950768f1ae5c138322d93ed82e07b8a47c01108a2ed702e59939a950ca058bfaeb926be644d0c2cf7953ceff7fb2b05f12ad1a020b4b6ba303350520bf7b69155ec39a8aff01c123ee2aa44ab5141c2bd6fedac50ac894169c95ff8f7fff47cf0d7587dccc78e19234a83f5580fc7ab8dcb62e61ca68283c74d47dd26728cdeb2a97d40bedd6b31bac7ed36bd42680cd81bb8ca92e03598b1e0af6505b7071b3d45825996a7dce73d225a66419b40766940ec1001634ab8b0a1ccc24861d0c46180fc903b3d730f77b49452fcd7cba64fde21575364a77bfd2e46bafeb070dd76c47e3d4df27bd2913c097ee7eb28fd8d9b87b32b246de05507533c178fbda6a1968bffa12d48c5bc9ec762d89b30c2c634d048560d4f4db6427a0e0e259c2ed7184386c5789fa8499bddfaf6dc507a2745f02a168ac95b1aa561511bf19eee012af91922d87fcff6f259df58f1d8d33718be61bac3cd09474b7af5bd56144fe04ebef8546770cd8e130e42c22c8e418b2d6932e60b4d2041941a9bd85b50e5c3744f386f3e4393cf310bb6ff65b279db43996b642ef8a148aef8e784165a03bf9eafa32ce74e1d165d02ed85ba438c0a3548542a709d3a372c3cd0116448509d76945589378d9e7601ea52d5646131808890883e09c071a385c33fcbab10aa53c353f51684ed60979b828aa90d729e0ac9fe34f6ae7934e61c45d7986376ba3e20ff0bde5c9edb7548d8dbd611efaa8646874767b8d57102730fabc24208146dec225edbf7edb245de24e3e0175a3e82b81097dd5d989d6d2abe9e7036c1e3ab2b637597d68f2248fc2a4853068c02a9acfe081a79179b91a758f7cffe112dd908c9417e88c6f9334539ee38594b8ad2f4351edb8a65719a755b06074946661a8db174faeadc3d30870ee6e2dcd645ba776b0821a67d6fc0ecc9b530e06d7e139bfbf20e770f533fd994e43b3621840d833eef35b0acbb6dfc365b1039562fe15d8d2cdd636ccd3c9ef5895a74ecc7336c3f3a7677b27ff694d2f2ebc2645052d0c4034ca4770a58586655888da9a9847df09f496e602f7a325c7605f6962d19e0fc1536c1e6d61b631320a648a48bf4e72bd01dc351e9bf07d4d52b20126bf848c817393f82806db4c0191a8c7061f9db25c62a91904e31cbde0a1f217eac1aa3887846bf05aa1da69ed7a71811f9592e6d8f91a090de96bcfde0412c41ded480f2ad75afbe60fe4195716b1bea726173d52861da12842f25e69f482ec84f0b427513c024475e02172ba139fbc1b5582c4204fbf37694405fe8f7d44867baa5544d8732a6f282cbcf0c38d51b5efbff2479826ab34cd8761fc4c61e82ebda344b7b2371f940ae5ee79bbdf162c4d88ed4e33924e24f9239b3d913d9ea5b2e184f67855b247c39020734e62be20cf61ab9c94612a3c74eedef6213a6cb44212360f4848e0f8097ab055bd0d7eaaa215c01b7465e1451f06cba18c17c5c38565ca4a8e6dedccc2eb00423cac3316f41bbbb3e87b2f78b4cd8e02d6d1442b77e8b3db93ce5311f1785041dd8997f93bf51a9ea3829b6977c92a580cc7b5087b89e6a839218eecda92d67aec4560ca28daf08139f1f257da6ba6f535d20c9344d8ebc98e121915c78b317befa485f93ca60dcd6b4f0582eeb68dfc5aaeb394545a4f45324ecd114af8086d2cba0eb98e62150647cd3150496d66c061257fcf6f110d1251909579d0187eb6f114e05bc1c8aa38e6d4cc2a3e109f3c7dae6cf2537c8db7ec7b56aa257dbe93abc8cb120547bf414e83f748bbd1ba28e74b3891254353e66d607a66eeffb7ba6e23bb00e8f9bbc7bd982f4bdf9c5ea40f2bfbf17988e20a7bd76caf3dfc1332ffec7283649f8311618912d70298658e55962101e7151a2a4cce856e45b1ac7105497d3974c7a3e56933e8edb288511baec66d6a7c44f93914d3ea7a29f08cdd3218c475923366ff553d358c45c05cf37875a53231eee0c6e38c5d2e4ee51b8d8a6a229deba7c96d359f515226125f58e7faa39dd9dd06fb9eb4349be81b44bac4dc9eeb5bc33d58249b4bf35bb7bae5abbf66cabaf176dcb41f3fb006b24e93e69f50e0d76c10d90df1db6e26f80f9a5dca04db7fbdcc2d41dc526e8bd82757cf73b130ce7b83ea53303dca319870238a0d5222a773f0ac126c23e7c12090b9e7de06afaa2250d8169f4bb9c01030fbae2c0a8030d1624ebbf78fa7991411c428c1ec8ae3d3bdc9296d9ab33c5f06c91d3a42567bb34298a6e8549330ebf5e8409dd8786cb29673b74513278c1c64607f191689e190391b30f1e361a3caa88677902de631f00d20f548ee4a7942f88f0dc0f31de01f3eb3445831cd7a1fb43d2063834b16547dc8ee0462daa075acdef8aa7d06d6e618e488c426156c2bb973a93dd2fb8ce992136bac7a4b85f806441e784ae6463dfad413d867923fd51a895e321bb128df6b124796082056e2d7166dfbbbac2358bdd486c6cbe4e699a6461abd987188e7caa330f638faf630301a672430088fb6c540043b4682aeecc9d0cf811a53b00ef832552dbcf231035b97f267b93612aa883c950929504601b09de66cef8046f9062152083431b2dcf2aa140db4e0d73a9d4883d5f30bd4726f765e7992224d29b6c31bb55b6f542a03bb17384a26b82122c5437be67cece3b68895d6aed7e6bcc67c315bb36909139cadfaaf95d7c1c8ea9cd930deb71b90b2953251f5a91d6de8d7c69837006241b735fd8a2d7fec9749475b548db0c5abbd044b095a9e1d75e0bbfdbae460350d0f972795528250aa6437ec690ac25f5450cf42d2108f96f67278f45db457516ed7dfcc7a98099220b8f5d11e7a85e0e005b06fd46441b5dcb09284092505b82131c43866f62faf7bf996005c78adde48ec838cfd005bec91f1e772306c84364193b45e1cfb5d4ff5619c7251ade63690e37721d88cc1a06456071ff59d3bd7c0c2d705837acbcec615c7124f0d91414d75c389ccb3c75b3b6a8c20e81aab629b4ab28a0c16d6d7f05c531e90270f216cab90555258a5a2452155d09949b20f25e20bdc8adf09597799d3f7a26fca06aff3a4be9aa283ca35d2a6212031736d9afeba39f355974b345cca8109fd2b279f610aaea1d211458f08f6b201347dd7d74101d4bf2bc713c01ee6a52139a4e5ecd95b986eae52a6b6c76c92e28c1660bae9875155dfc0fd35269e83242bb37d554c42da2ed446b22fd0755ebbd9e675d4ecf7d35bc1a15abbe6270f280bef83aa3bd2ea0f7a357ca1889b126b2532706b1d1952cc1f2c3d369f8166b5fb49cbf64ada0099db7a3c3ee00e99db35f3b3af89bf8643869d0eef5b6a29c36b41f24fcc95e237ba171b0008d179abb0d7179f8123af1874b736108e9e74dc1a075a2c73356a37904d5114e1376086088ea6c14e4aada9501dbf5ef87bc6a0ff8b4e1f57b1b0f9b2517bdc0e35a8472e6eb424deee78661deddc55077305ca8be139fe8aff4667032f29a99bca8d29bd8edf24681a777738948211426b2ae10bd40b3b9884ea9765c5b07051cb30cdba6c9839aca0f0073a883d9846f1fe13bb9c44bb78d5d54388849ac7b8c8e86792781ce8ad3787fb9faf9da01b5dac75ca38abf1c8468db670de9650d0eb925e585bc277a2e69b9f7bc31d500ae0a2bf348be0368d1726dc8999dccaa1eaba4d801765e115deed78957df8554225b59df585aba0a6d3be5b996ed1596e9aaf97cd73e06b91e5edfbb7282989dde26eebd16cca81173b3e2a76e499af64a0f09cfa9e628d7c9f27356588c66f389fba760416e0914e6bc9a0d905490165650e6a24f2fbda75ca1c23e9f56deffa5da365ffca31042f26f55a069cf8e9530530d35435e2fc8315b1772839648f80927982e5f685ef53125d3041902355191aec1bc3a1d1fcf931831c93b05d4da77bbe13f40c0115e486988e84603e36ba83f7f5dc7cb4768bb2e71b1e7b3d48fecbeb5240176e334f3b4de44fb45b759b6942dd26d837bc7e20dd277b6ecdf2f324039add1f0f7e87167bfe3d4b8704bdfef0a07c78dc61b8e34d93477088abef41976f2f4c963ba3190ee088b9073ad29f21b3ceb9b4e036a7469cf9ecd7de23e9871c520d70f0b3b8e1c5cf6c2ad69af016ba33591dfb80b137bb7a90db035de1f2bae39f672f2599b8fa9077c6a1a4cb2f94d3bef67ddb7a0533b34bf96fe258344d648bd37cb1d0bb3b746c6b9a5165e647cea692bc0ba697ffbf908d8e795dcba2a3d6b8f24555720cafaef0fbd0050e823d5205a2d47597d614d8872816fe92af584cd7b0e0e99a986835d66fefd4c89ec3f713e8e40c59ba484fa50eef0b65660f5f459307d9331e11c1ee17b4f6f9a32f0202ad2a15a0266363b63bf8ca0e0b4716f9b03ca89d451762722dd6e4bc4fe2456ac3b3af017b8d76b18b5202393ce635f652e5d0117af85a0beddc7bead220dd4b46d57244ad5af2d9dbe1e5f9e965abe65c9c59d24728c059ee07c989131ab9daeabe059452579245f0c839b0a485cc0911e62eaa0ea7610e7c83fc3a0758f69fdc92e551f2274883a05d802f2dd92bce83a64be64eaa28cb3d00d6ab6d5a27b8274afdad77b769845d26deb97ce840ffb2ce6ac7594042991d6deb86e05130e25b79af01e1bc7938d30090c65eef5c0ca1ffe95963f85eb2ae0c7655e8e3616f86a0c904b137ada062b69bed8a31bc34325fc0652e577f53dc3928bdbc98eeca3a1ef56d802ebeb0606b7223c9827e262bc2143a0c362e828afa014f6d3397b7488005c4905c612f6ede29ebe2afd82e38d30d09458d11a7a2cd4e18cf9c6916e078e5f15fa3f5c9311d5963d7c14ab0ca28030ef9a0831973713e70af9719b01fedf6ba77d6404bbf693f28a661132c27182d3c83dbcf80855317ce45dbd504889095a326abd1f95925e5c7933a679bbe9d1d82aa2cb91901390a56a30ff078ef79a9376a16f15455636c05e4cbae944b6c5266c0708e9d74b20aa6a523bb2fa2ddfb0d5cc4a416c15858a1edc6c2f303e8d8088f8f1c103f11f59e63b9ba69f5e334da650d7fbd6a19d978eed24194ccbab53493cdf6effa0783011587455c6fa3562d4d25820edbe15860c4cba6fa3a515b0d041e8e7e67d704f54731f1fee2286f972895909d3686370e99b065cd32f4cb87624a501f3eea837e787eb3a28796799a1a10269145cdc69521aadda5b20a41999ef934781a8d2c5f8f2717b4bcfb91a1e7d8c757a7e8452faece83dfb8b2c2172523e5f8b16dc24056f73c7cace109a1482d580dca72420271c8d08375db4924aa08da86fea3a93347ed88ba578a3c7cddd008180479b149d10940cde93b8ddae3354d77c5823a28343a4d1df60374d2057d1c74254cade407548f70af2af000107b0e763fafb28db71704a4310d3bde2e33276dd545bafe5da59a43b2836b4bfdb31e6bad2820c77aa59f4746dd4332283dca46fb0e32de17814c317f1ef2dd2a084b3374588a189013f63b6569c73027f0e39daf4439886499528fcc653dc103de5e737edc1743a0a6504546a85934c3e3ffcf3315092473eecb124295779a055207ab4da87b1e356b95f1d38a0855ba80feec1584d7818a8d336894b6084e38ef57c9bceb64b161b43996e055f2c3f8c330b823b360000ba563295705d794a57583411ce848af3ed52b7e2e9cc3ec5ef22cd37288cddd58a2603d8bf2e893e6482463cf280acffcefc9de76d6f04ab7f8b017f46723bc68c4a043f1dd928e8429911e57b904770e156409747ef45eda8223ba9242c38a0bcd57e45900c0e271277b4f4ca6cb53835d6535c20bf971f877e40df17053ebd6d98adc0859d139426a5bc5aa3b9a52bdaac37c4df454048b6cecea8eef0c292522c1a4b484dfd2d6efc908d974ae2091328e7eb829686c6573034cb12819df6bbf0ddd4bd7b15a4e0eb5d6ababc4641e7a210a4454cbea2ca4ba42bf6bb5efc0d476cd4736838615df83b8fa2dfa1d54ed7c0df3b4842540dfe633597764acd23e0c5f5d8b750d181ec2fafc88c543e5040fcd6184225f37e0af621139ef079de79f4037e13ac00b19d071f29d65b3f09aafd4e230f6712bd99eaad191946adc7180a76a0e7bfa4fb47ce09008a39f7a693c77e6e4da55468e85537280984900e5db1b7a7d4a2ab73c76473c79cd6e8bc405a6862a98c2d18b4eba2b212c8a8b20d4cd03b9b721c6dd095ae2ba49599de6726033015a5ef1de477d6ca073f45419f24c6036b0153848b1eb63955d2766ddcb56673539ce442a3e82e9b4d2f30c1e7ba7afdac91abf7cee2521af6b1e02c8e2624fbee7106518d0a5c745b8767b7de10131a78c19bbd00c897533d38a327dd7eaddb6660e51f9af4fc4575c9b45e3864202ed1f476c9390ce106c19959bd8e2aea0f3fecf1f9b50f0ea26dad4a5778bc235d5ca6628ad26824e699adf9ee133358f753762cb10a26f7d809081d178ead2371cfad407afb48fcab1534a33cced7a4f8d51ba6bd429846a6260f6754b0230d1190529330f5e473c71277e0a03c913de65b48ac3fb31191a3006904ecf3b972e9410f6d96328406a3831318fb28e38a005b4f8a128e4f67faa32230f5e92adf4088f0b4c03fdd4413fb92f8f6a8a6240ee6b4f6b9f213b9745908285134a8e51158a6f7f7ace71b83938593a57c998c08c490c4b3352db25abb750a5e3a7cfe1d3f0a9ecde2c23cfa980a86c7bb4f561b1f3a1a19c21067d9c70865779ea2851850c223f54deb2bd2e1ab0723b52adf92bb6a7d2b347e0f8f07253e8575dc4c924d6c1c9358f183d31f6990c15cebbefe77818aef4d48b96234a8c068eff086c8648860e32e8094dc733e431309d4d60960b90f02225e5c9ff5d56d965890b44998369b964965a554d9e8a74738a91261319fffcc0356536a3968b6434aa616354387505dc98c4d78b85d93b968285cf1393c7ee0ab2a06a3df86d09c3f3b72b0fe31ad039be1f79d4a19f8456a8390b96d8eacd3f2b3d66d7236b14ed6d0a8dc704906ba339dcd90b5c300cf77b405a4abdd7f3cce8068b2fabddbd277c3fd49713ce848122dc1c17387dd4a8d93acd7a6df04aa30a4473bd920f9ea901d8df0ff1affbe0cce080840b82330ff86f647c1134cf6b30fddcc69c45c501b1b1256598e4c11c0efcd34d82eab6e1a094c4662079f0909e48085d5d92d5e4e8e6b648d531fc417b4ba0db1969e68f6aa8775cf242dae650fe9d368dfbcfdb2ff16ba97a0cd0cbd202ee48b3e72c30091b6081da219e9396500126c3d2d5df49ebe51f588bc1e9b97daf0ace0444c32427ff20b9f7848e4f0ec7d038e243d607ef276f0968c7d3a083eff46680a81d3b6e6e1ab1c58e4703ac494f8e620005e194f7bec409aaa1c1034931c971d80c7a5c39b98f103ca8078668352d7003c6ac93b91c3ff9fffbda15783d9f6aaf3a4db0ce4f6193b58d1aba45c7d1f7da9c414b218d39a2c7ea4f5ff560ec5b6774935d9492d10d61e2ffdfdfd0901a20510b03fea8c125b4577c1b89c2c5a142496c427bf8abfbc531a558d6453b25246fd429b6964205a0ed9211b801f9597a43374167567a1a896d3fef7cd4dd9b3945216e0f1830e56c9634077889a0bd7cf913a484c600e557ec80be7f048961e59968c7e2b39c5e352245778323e51dac6ef665e1ea245565cfcbd4d6dfb5f365e87342fa40cf94ce8dc023c8b327e05c867e3630b0f1fb17030ae66e4e2178d96e9c3161084b1ec583f48034398052c1b4066e3e68c469b284c0cc75a4c760bcc41db0fd4abf5767e6bee5123d3eb3f8812b96922196ea68b9ae5be911158a2254b32e41ef2cfc59e3cae2bc8980994a1d706206e1408f2db0f560c6a8020ab306beb6060fdf7c0f75ca4a248645659a3a8eaeaeb74981ff68a048daad4a3df27802659c76966d3de6e84cd3334bf605dbd61a5f8e40d6c75e63218fdc5baae16408e10f7921ab3f2e0189441fe04a78cf4c4de19acd1a6780263da5620257a5cda202d357c61304df4587ff897f25c9a198f7d8e70574303cc06e210698775944da4b2a75897ef93bfb45d0626e0398b54888efdcaf681adb926a59a48837e7ace728533a3b7b31353ddd77e7a1c916d6688fa882810e619b060498f53c7b95aca4e5298c118208466a571b5b2ede7e65430b779853e9babeb99e30fd3ca0bd75f03213003ce4d79410da9acee5b19df12a98ef4faa6d1677c91cb3184427359e32326e99694eb00e2f4f3dea94384b38e425bfbc989fac099212b422bb4efe6c278d157353410e866d5c369c8452dae8b52c0b99e2cb4e927488e10178ca4c5233735d2f26ba09abca793b9f862d7505bd6fd06e0a072f2ce3bf7f31c6e507ac257fa6331fb698390cb0b16358b0da71d450e4fde73711bf70a66c48d35e705acea5c917a7396631be8b5abc421a0ac17d30a82a38d806b621a1a1405b9755c01dba39951af00028101b805bc4c24f08648c190402e1a9a5a2e8c9c331274d5dd4716db070f986b8ab55d6e34c5d196f892bb614ed7ee1b5de6b5b0a8048c9a8d78dc8486d71d12127ef0903870077bf4fb81af71f4aeadb387505f0174d684006eaa548dd68ce70c79733c7b89b6e3d1008d09b9f1266914ed2962a55610dcaef864b2bdb45009b4c65e1ed6adee3d4132e5886eb88d05c32be2c214031b480da2773bd84d7a430eb205b977eaf4c08992229f3c17c8f1be0005118aa9633a60884d723b65d878fb26a4f7e056f3fa720bb4d3f8694b48041714c402b7846047bee0951f4b2caba241cfee2cfddc4738be4754bc7106b43560cc4d010beb1a40c51d7f198759ea1d1d5b25f2e11801723adb01e4721b3f2bcbabcc266700d9c1ea51d0ce45ec94c328ed5a2487751278adbf137db8a1da4019a767c0ecb232f061d705f94ce271ba7ae95a2eac3e19495c601aff83d788d7995ff39b27f10183c247949e49187a3aedddd06a984c4d7653ef0197c132a09d7697d163a8ce032f0e93096ba544ab5a9b6b0264a0d3da827660582ba453539008b3b99d323fda26cb2df8a3bad03866ac557aa6b59c7154b69b3105ba42925526edfdda3e3ab83d9cd29fcbce92c7f4c7607d8a36b1569adb0105fe0442fce3f7ecfb3c79e11dfa054bc8dc1a13f43f36206d02e0dd7b6140b7f2ce9b5ff18c86bebffa33f01691298599ff4b58570171eece86ed344c8c453ea6dda8971ee4532c0a37064af3ddf857eb6ba19199918b7a5c194dd23f6bdb6c63189d8e9459024871c50ad85b8714de8d6809ff11792e4e22128a3750edbd5d428b2b815a7f68e201bd8513e15afbf6a7d61b0b391090d0333dbedf89faaad4ba1886baf6e3544800b91aefcc35c9d82502ca938e54d599492ef0b6447e797f3db0cd1aa43265d3d4473b9513a8573e528bba26da79b372cd5fb43ae3003ff0247cd0848e17c1506301e755590365290265e9103551b6c653f1eb746a64b53a2ea1bb9c90af8eb3a3a625b6d880c28f10226ef719e7c18292ac4ee2aff386d9b30f02b20c4a6d0dd6274fdce351f35d6f3f1ec7524a9e0def9ed9e7aa9736137a7a2102a1015f84b756beaf99bd73b3610adcf7dbde9aad29c5037636cd4149544d8035a2201561735cca54be448a5ce03e13294d30af531e6644abf595f6dc27109d0fd158e7797fe26ad8b8f778767b540654b31e09d8d3bcef747aa8ca2a8685bf56404c185de62bbe27a99fb759e376ddaca6f0a3a1527981897d965d4f7ddab1c038373bff17c2b08ea6744c4ad291b74efd7c546f88cf6224d6a07d737bc952342bca0febfeba737fb44b2fe548eefd39d9d503d59f25f006e7a332042a3cdc844103ac4d6e89a191da75c978a98a340335750bc0fdffce7c77a5065bd31b305d233a6092d4f6f7dc2111e286461962b39c6b6f552575762da826a6e03acba9f9c6317bdc172e69bceb63fd759b76d7017550f0259d6f8b70dc7ad0ebe4791c78a88d2ead0146c07fa604db0a5c114b5cb78da6c956bffcfa545f35dac2cd1e55256b171bf3ab981ee53b90ec7362270eb8a485267a73739cadcd1971b91e1ebe6d1d790b748e1a80f2c8b63ff9cf2004542ee61c06a1065ecea7ca36f740da306351aaa4cdaef345369f3d1db701934c47e8f92c4695b9da624d3321e49333401d3fbb17f69b0cd3ab1fd1e69212a1221049bfb2454775822fd1cf5339681ab432698b34cc7e8fbbb8e1c842f7df7c0e20bda5471b4c2651af41079a6b047a7e3b6cc5267f5b30136ce7dd2655706f75e76bb474f652c0cdd3c91f44cc9931b35b5f1f4d93d3f7abe461315eff5c13cc36b5d8e700eb31d9d11be9f700587561033fabafb99e39e7f388bd4a0a5aab09041abf1b23a81b5c8bdeab26a192343c5fe587901e728b0a28cb4ae0cbcd317ef8e12c45a429f7d5229cd0bd93f02cf1fe1c1485607aa60a4c059a1c1bd4f6aa4f99b21f91d1641ae5acb6184b7158d0eeab320469bfe6b2064b76cd52dd148aac249bc77ec8f47021afa0ca6f8237ff04cbe6945b5fbcf99d372977e94dfd349dbc4f2fd80f38d0c8c86b363d31fd503f3406abd41039e64d9a68558401d2eb757846dcb15a83f2f9fa24020ac6ed26c764b80eef274a98154101652e4475dd55a2695527a79818f05e2afa4db5fa9f5c04024cd7c3556671f9bb0dcd485fd1a6c222c46e5db506bc273139a1cd4e898aabe055eeb28e33e5e7f5f372f318a3959c9f54a30e1d8b75b6bac95a6b6f91f6a231526407ae9d66c034a9bbb1a5415dfd2853323d2da976b1326b2a374787b3b9738f6a84ccac96e8c3507a6be1602a645a00a5a488f055fdcf352764a053fb547454c6cf2cb90e3fb9c35d3793def0647866ecc956af36c1f38e254a647d42e4fcce8e1c48254fc48783ae824671dd09062b4e48d711fb5ab8ca03593246bd204da4fb1ce5d22f9a0da18acff7d904a0c944aba4d1a881115b813e3b422f6aa250e6775e628887474b2fbccf1bd40987b33111658d359cd5fb594a937e7877aada97a2515f806b5152608e0c9d9df96ec7861d7af0edc2db489edf1c14e52118b76f6dccc5eb677696c8d20600398345b0350f24dca5654ed3f7eb8ff4acbccb54e944bd650ef13dde4a5fc0e1dabd8856c1556ce452df1b14a0cd591638813764c1dc38fdd05c1c95c43be0a13b8aaf02cf3a0d90e40cfdfae88f6aa01c6817324c6c5036d71928708d34a5be8610874cdc2bcae382e7561a68002be26b835fe4983b4619487b2d6f54318f2793f0c2aff3c3a7d45d0d37a2e691e1a3ae93ca57c849bf6dfcbfc2cf64cb20c82daebe2d6a98f170afc9785e55f94735132be38748c6060a2f74a4738a4f7a1e6b1e5a7c0cd50c97d613c24d94a05cc752f96e1899bd899483035a1b0cf48ad0418bb960ef5f664c35dcfc71142f85ab2548995a0930fbd3439a13da9f2e0fbfb7b0ac1a0770701a79929bc0c6c145c37115df7664cacf206a975fe32df213a86a92666623429d96be38fb4cec07e383602739f025405b2fb768e100b6bb5ecf87c4145d87609a5769112bc024cbf394e36017ac84894f159d4accb16fe8241e2d0b8289bdc41ae6670a8b86263b6eebee77f8396a29db7d408d29513b7c114cdae02df5b3a8f244790de1679a5353deaafef002970dd5aa3e1a6dc04be60a123a93a0f5cd43e96693ac00dd305b6304d12a32c48ff8ec7cdf4c8824e2139f2b0137d09ee31743f41cbd4a7f1a02c826b62247b5ba426687a03127f235ba2a2d6f04d9c6debdf7d9154696afa6e75152588528e2f02edc11b8806f29c41b7ba84f751abd0b4e2675ddda8e9f74d8daa47e9804721a792cbcf29e6c04ca0cccb3f3a8f1ea5824d1a2735f1da4520d6fe31280afb9acf0ea495ff7f601de43dbb13a88bc44dfb11a65e107f34cbceb05b6cfcbe64ab728b70d37082f7ef2911860402e1bb085d8403c84457ba2b57bc732c6f36ed462e84973415e422391bf0e000d7c0f9b9ad76756c8c26ebc0d3d50ebe853a5c490c48942c2954e0aa0ce58c1304243a1602c2d8cb3929da678b3837f73dca2472cbaabda2c330d20efeef56cd8c771749d9f9e3978cb4af12e1a14427040a8cf05ea29c6952ac652c58d50378dcee8dad3d3d6d7e706ee243780973f8476e704dea1437662ea00a80ab0aaa0f09a84533d90c1b6f5564e49f45cac7bbf33c4e85a799cfa40fa58fa8b00c10536a61ae6096a25da6337d11d00d003f69a9adef5ef7a19a1f7fc92b1a7e3c7a32f807b5b0ec1f45279f20369d9554e90d2a4fb7fe0bca6a7cdda4b1212d0dc469a460e41e80026198ebedb38655ebb8ae6e1ba2823014d763e9b4a5a2f2847b0e6b4a68861fe517a09670b881c65c8b2d10c9a1b3a253d789fa10c5d7bc7d6f4ad66c91981695babac0114ff74677c958aefd72eb75b75b757a6ebd4adeb62c3b7a793b0a801fb5f6ac0946738380a3b14a08c185303429641a821174ce819d236859657e61fd64ca58ad69c09b2671332a9466d4dcd916bfcf4265f9a2ab7ae420564326f850973a794bacc340f06ae9b3079880f34a79f2f7f7095dfc2530e9f95f5c4fcf8e36ac4432d6d621147b8558f5104c51f3f46632fbb43c602c2daa8cada0d9a80ed90373db03796101692ab2ef49243185ce7a703d2345fb1534f32e028d8418a830fbef9aa1323a2c65ab8b13cd5088bf04e8f746b54f0733e1ba87d1a2d852ef367f3feb7ed5448da1cc4aa6e93a808af96e41a8c52f6cc87dc7ea0bbc7f9d67f258e404ecd9aa00277c917aae330f0305fea58db4977915e5f97d5da2da052c63870c27ccfc759c8cfeac60cb4da3f138ff7db4a5220fe689c309cd1d0f8153e9b18857c883af491ceba796d891b580e895e6b754caa7fd3a401d42d508c1553538bdf9dc2036efc190abd458c8a861d2a5ee651ffb2bc05e4b1378dce48f1b156f52a2a7aa684d4150780b202271129d8591f50fce317bf3947f1b7cc0df3ab60bb0eff65deb63ca7fc362d83471edf11dd6e9c66f5f3dd02f552f8c64326c67c5519c3b9fac1bfb9616c3d0980053fce10fdfdb09871325047bf37d21d0d07e94d37c549acd04dd13d8a7156b1777139e30b85ff7e65a8d250bd8ca87e6df67f5c1a9b81ff6f3a64a8f57e0c4224b01e66b6e7feffb6b8425a047da613bdcf58f8d174addc8cad534f6d7e626c9b8b2da312202eca4c697f90e6b919e5baf95f4cae3fac72dcedc97074cff5425988e673f61df6257956e2171218fc0126686db3cff273a9106c57908f5185afe38d5165ea508821ca3074122aec9342514aa4b354f59d2849a77aba5b5b1c352dc7c4a1e14587992475b378afb4c4d063284f2bfe15c3b96780df2533db3de44176e151ec70e89f4104a111281cacdf5df56641fc7ad7318156278f2c27ad50f37ef417ad50ccc76f3a5a91734a43cbf7ecaabbd3a8dc8a5af8d383463859c2209837024a10df9fed555abd6dab8b1e7a258e594cb57c9e35ce09f9b6e98adebeab48ab5f19e8e1b9b557eb09875317d21a249d82b1fea30fcfc3454cb668f3f1bd6fc8a11c2a414cfbc9d8d124716e4f3b4ac0ad3ddd3b67bf79763486198f44646e5e3ee231631d707673d92b28428f231bc6df7d7005665f17975e16db2ba22ce03fc73b171a75cd6369b85ad7687a87dd2805eb565b7fb34bddb350de285bb3451ef800ac91209360c6290f51466d606b6d65cbaffeb2ef7783aa8031364f27b364607746cf3e7b5603d254a47f15ce8dd521f221137ec3720a3749792165a21a6cb629cf8038440a4bde91fe1d09248653ef626ef9819216b671695c60bb73a66b951578a7ca41c1c35abdf9a71e225ba7cd0350b88fbf330f334c271534b73304348ff679b08ebb28d69b2231a500db9deaf93d7764714ed0eb68f7dd05d46f97383007ef26df4d0002a38141b665ed4df771faf6b15998d3a0f09147b4068a25e9c26e0201d6f20b68c8f95fefb403112095e1ee2aaed61169bfd9e6c7451ebae743ce87976ce540e93d0772963ae36e63f539687ce231f670b91c45db944a71a82f7a569a869b7416e545177d8aa8bb91b21239e2f954469ddee825047d98e97f8619795cefd7b81b75279cd9901c2f6f7764298428a3745dc639b4a2e7d6af6a91afa9c1e61fc6a4057e56950590e8430e5a7d8b1a8d550ff4ff4cb326fa75e16339f5a50fa57b2fff53671e62269aca8cb6e009f63cc78e0c4fe990a475c14446631d5bb38879ec29cb22d31d3957b6fcf3c8e6bc97cf14f96b5d370096b79b698ec0838fcb6fa47d01f51cef76d3f02d020a358bef73d39e88183399efb9444393421546a0445beaa5cfacef766e432d6030ff03c49c7f00143832c8a376067f9db08d73367bbf8ea66e34899141e77b9978461c3cba04079fe6716f08680c6a1fdec79393338c79f801d732e1ca24f11591557b58f5cb1cf7c0f39d8747939b1095ed9f70265ac55d609f5220e2502673316566002b29f83b503eb1de4d32111e5378cf330b32a8ef202dfe68b3b9a125dda76d25d0e77d5ea84aaf4a5d013998e4fd46028233a648a832dc63c403f419a6a0d6db27839872b0a4ae8e2008c2c5bf7383307b76cf490e2e02c32da6c26dac627319a19b4448a2859c54de3cd95c2b782f07a3abad872abed3707806cc6e75d515320bc264edc17c7fc15935e3c7394ef343b6f5645a2fbe887cfefad48415df2f0a694ac6a5f17eb84ec22563b7c468578357897e116c777a235bd30c926a5d1a3c0d3d0641fee1d373a355081759e15e1e55736729e3ae20f454356b6b3f758a87a72b000635aa946473dcafe1c7cfdd27e177286e844a06097ea11fcbc6a07759a6ac3ce726f1a2cfc74717fdd94a6d988b2f920b98d9d58e4eaf5859cc27f37d552b986715b0a1f0381dcd56007bb85f13d50fc16f2ab577d65b07d15e22c13c8c9ce051b2d5fda7567c31f842f55bd4984bcd5bc9b968ca4f0225e1baaf828acc6647d02a6df58712ebbaa0e5650b507eed1d69dca1a8850c412240f885454a2d747e13c961f7c42ef23f80573dddbd301ce7c09634481e5b7fb24c52ac95354f3cd6251882c1698d66b85989015cf13112c0fafd90c00a2763edef9e6e9eec028ed844dec20cf65e251d93d61ac15d8c1a2f939b1e066fd075550b5396d9a68fa3d9d3d3929c96b4bde4e9f0193353bafc8b63f531c476504e599e324f5d663779a4af7740de867b017970bd833543d15bd98bd11bcd40c50f879c4861eeb26bbf240d7833319dc59024f663c1cf0d5753b606e5c99557fd10a5c0e6ce83a9132ecb87aa3c59e8f4c9845dc471642909a1bb6701f7cb78d2e86be295ca17b1b62913ccdecf05189537815ecbfd962b0660efb1d78b1ee25ba82ec1d79ed3cc51fb804ae4983e4135cd370eee087e0bbba6dbce899411368d5a798ffaa9376a7c4f72ed6d3813371f2360b844c01aade75f90308e52c1940b02d45f635d025701d88c393cf4f4a0e891b0dd9d03c08f73be8339034d9a038e2756b9dc50c52f2526743cc9027e15893922bb4bf72619311655ceab8ce33a46f4e8ea56f43ca2d3ec0756471f46ffe970e7aa6e452bd73917b3d693081c4320b5097d391576b8187ebb01697741a41dc69890cd4f54955fe5451eba61ed717ee5639f99cf307aea9658fa976683d44b2e40d3606e3a4eb61285c6b195d2c0f1829fe4080db5b556127c4752c876b97575e0e885732eccc8cff58c4468f4f78a30b327a2702d6ab02f3e6bd4d294a4cb54edd5dd5585a3e8496e4edd1296edd0b2dad07e5d194b468cfccd89627a55c74e1a61145d9ce4c4107ffd72a1bdfd497193556ad5b3c9fab38270e6708017cc9f8d0c7f6c724498ec7b017394c42ce14da1c1f643d869fe8cb0067d47e2605fce4a071fa61c274c5016b9b649126581e4229b43326ae6b0e3d0acc2ac5bf326a1373795f97473a92f4e959f69360b1ba22520880dc5b2cbeb42b135b71f7093278a5e9e16a75758b96aff53c3b79af9be51db959912a2d521ac36d8e5346d70ae7898ba858f7c369c60b6addc5640946c6937c7480b7a6415e7dbe9bc482831a0b3099f588bef3da02413586951fa6d31e229480b9262433ab41c317acf487e7285fdca95e8ee5e9003303b0eb5e0aa2ec060c559c5192f4c6b23c03c9246e89dfbbf842e15510fed538abf9277d7303985ab296b7f0b6b33a2ee4b0ff6f108c3e58e720e6635e27cf8eccb1582e65a9123bc44a6c9520515415fb57083436ee9b7c5696461d3b87fad819f60a9773fff4aef938a4321030b33cd0ba87e16fa810c6325fd865a503cc348646f20aa3339e68db8351fe3e1d5d8c776b6671dc51c9cc094979c8b0c918e6a22f9ff3e3f736e24f64c34c720e41cb9018687ee3c23084993882f52bb970705fc8a529515f0785611f99d26f54553d74eab93d7109413d5e650cdc849bcba15642773ab1abd4c13206453d5d3554407a625b502aa56c2a41bbdeacc55e4d84a71ded4db5f31a72ea8f0207d63a646bc9c6f8f9298f09f5aa6a70dfd10d7f2c896115bd35ad3cb96f0e8cfc00c84cc2318e79b542019632b4c943f51228efd6f35025b8b62bcd4fd48d17cdeded66409fc5b99dfac8d27fe1d7825eac5d3a17cc70b6659f070f2b1962e1be748d927e94921619ef68db45e2b76e84bc1a3923e37dad5e00bc8519bb20966dbc7195f23c2f129734ce18fe26bf842acc2e551e4b698f674f6c9ecfa5eb55e3b91ee7c456df1dd6cd7788c975e03bdca37d53a3d1b229a1e436d9491cbd91087bac34361f4f71d819bd20df40376559ef7fe8c59c13dbe4aaa055707b1e279bae93cb0d166465b3304d22ccf7e9a2dece446d93d2176d01f1ee890a7bd5e0972b775ace24205cf59377c25c512d7f8bf9a6f6fa34e985eef9ffc9971e045ca325c4654f6178f18e601b044cf621c4aad73487117e0e46ad3e71ad4c068db5522b556442a3a81bdf6f5ae700c2615b83a29f40d733eb72619b60eeec8f8beaea90b7355acf741f344a731259681e3180a8483217f9d7887d5829815141bb522438b14f66900a7762928ff57e19732ecf8c02bd089bf77f6b2af9a2fd575b8ddf02596c206546ae45b53ecb551301d3604f43fa3fb22f50a2da6b43a162a02ce4d02c2c9828656b68b8bc3e982fe7270ced5fa3444af17311bd94acd013865290195cd633293fd4bf5618567a52e91bb245670d2d4fa1fab6bc7d3e7be092e342ea5eef30bb07d4b735b755c9ac43df0e305e8a738696dab18b9efa342f71a26a9f1bf6b58f041d7b1b4297ce83d71432fcf12af56cf0c88e9da216105c1f1b9c1a9567faa134d0d51e008850815d80e1e6da7083630df293b0d8d61557441029da453fca66d0788a641811938a3e419ba50ddb7a3e3fc148e996e6198315d6ea38d7ab949725b80ee0fba29cfa7a730d88408e1aaae183958ec7b39d603d6dc0cd28b947ff167484036a02f59de48dc1a613e350f05def4aead64a0d696bf81b0b0d70810c1641b6f0188baf9f433f62ff96b38946cf9901a5700b97d3f647556732e6c6d294ab34b4deb2667c564b1a8a45476184ee4dac29c52208341024a8848bca3e960019f53fed6c481b81b33833da1b9df7f1f6475135483beba51571cc077af16274bd7d8785f22f6af81dc3800f65f839053e970566e8cd9eb1061ea56b09fd74c2b550bbfe783d50e89582be4eae1bfd64cdac1a3d9f5761e4f7d08abb0a1f624ed939d1b1b7c7ed8c47929f0faa82f665171144e12cd8a4e0f213472f5aa4d9ebb51df70c2393a1db8ca66fb24820f9e652c8bbd876d2934beb14365e33f0770bb43b49ae068f554571e9f2148050043f2cbb3b42fd7045ad1cc87b36133f7b1c75afd80b9743e18556dff9b20f73c00f81a839b4a3d1a4a2c8e87312f523bec9986e7adca55d442dc4bcee6238fea2420d0fa026c1c17c1886e1b936f8af7d4b7f890452ce06d5388cfac4e37347a5aa0f12cf9d0464a3d478e8d821c154de02f519f2f0a79a5d1de605fd5a904a5e50ce6d788276a6474c6de64605e095ce6308534701f3a6c4e279c5c63d91dc7a28e011518f52d3bd0853b831748850e013529d3476259f4b5fdfb4cfe4be0b4efbe5c5d9bc92be2b0f66c9e487f480d02ff788ecc8a988c5a2db927d0ca974386f72d3987ae0f486f9629203b7c9c9fee338fa543cf5d84e3fdbf484a0946c43675064579d2978a6e90e57b0e18576ce15b4f4bc64429c41fa03a03e70ea056006633fe78bb198533ad6706123dfe021023ed58e9bbaf445b47dc4a2f3edb07d4d6b9eecaf44c2c719a39f0b5e0b90255831445c8f1dd31c4133b12ba3cc728e51690c38bdfe2fc1eb87b56f823f85fa9bac541e3c88180248f60c4ce08d4c1387604b3e198602fd1f5ad290e70f7f8bdb6dbc1a8551aed93ca0d647398daa50ba9d6e7523a0e2e1486d0ce00d00efb9b68a389b52412b5a6309e4a411452659f960f2b36e50d4146fd29c6663c5b19faf2a72740dd1e9876040f60791019a49b47adc9c0ae5786684964e8cd129525e00da01aa5c5c5bd1802a6fa2ee140ab8fc1693d6f976e530e9cbbb64660ab1da6cc0e4f4d0401579d31ced4cf8d092064fcc16fccfa158b3c5d86bbaec2581485f153976a3f4817a28a50cf8db5a3832f66b474de6be3df003f28159a30a156017ee0621102d952dc7982ceecfa4225b9fe4a7f9c91140221e6a7edaf83f731828926e28ce54a0f6c3fb915110b0f4eab0322b4e07c271c22ce38d2f698574e1934fbfb8c01a8c44b9c35babdb0f3f8e9e0e80a17abfda9812155f4d74e6b63e161ef73a87919b2336f9a322392caf0f656df3f6509b68e47c2fdfa5f267e8c4dbd7b868789820ad1944acedbf3db2b2c55e104b6392a5be71daa006e71f4c1cede93fd43f01f483d84312bd9c494867c86f7d930d977aabe1e39cb6112e0dfd840d960666a4391b1bca115e5d997d9f4db42cf54a7171c8d3195eaf2bb2c685829ea6bc33f39c9044f5ff0bc8e105145e9296913ae84db2988e120a975e44c7b3db508528aee34dd29d863909a5c53d03fd77ba78d6c89821738a6036333d688127478b581770c4fd8af463b0263e21c26c9043bbfa0b2d648eb2bfb85045fa355291e2c0d536eafd77870c50344ee5e9bc6dfc0cd22142d9aa6b2f42d27c679740699025dea47ae043051e31f272ce075f4051951ea607c6f8f2e3861ec31e0f39700042ebf2dfd9263ae586b6d9eab47ee624bf8aa7a5f9b43363c7b1189c935968abaefcf79fbd1650139d64024f59cc1dfaeaec5c3502ecb4a790dd42e06fa1d8531734b72163b965d73b13bca3831b34df8da7dca76f5493d825e737a6eae95c2e37146fb6091f1ecea1f37d7870032cf87d41085beaff656681424abc374cbc66173680d0c627858699537d36bb858a06d2c103ac4f25eb22244aee3684f7c4e394b59019908f9a806f55c593dc7d2e1d976443d81e874f631d686e46e7ba3a900b4ef6fe121cc82bb07bd85800b594f49ec818f5e165c76d9335c1936242b4d4b33627f8cda19a63040e7497ee3441ba151fe4d827a7b6acc88dbe8835af9f27784989411a0f45f290acbb7711d122a46e8c1429b98a38b2c350f4c78b72916487e57c15e3dbc5edc302c7f0bcb521519366e76e08d78720e0bccfa270462f578fc897d8a4b2313882c10a1fe84cfdaee07ba85837460a737d28a1e67847620968aa897a202d09145c61e931691202f4b1e74c53bc8aaac2172f2c3336c6d681d94b605af7bb16f50fb17d7773a3d91c649d43c07eb0b9c65e6f377bc2e9de1a7c6412bde06a99358c7ea8b4fe0e098684e9d3ebd2ef7cf312543d64cfa2d91a2b641308728133a0c039a6444efcebabbef92c7f2748ca4cdeef50d5d94dc2f84d9116b30507f627c1ec4a2cec57c69c7eb95dbdd05daf91b17ceaebc3bd7b9e3f40bd56cbfcacfd57966a9300d909905e17ca772b916ec25cf91286a53f90fa6e47518ef42d73b0bce610ab748a6445493e6801d9dc8b3e709c334aaf196c7732c2b2493af7473141b1be69e072fce8954c0a5c10663130d687340b8c1b6f0efb31f53d58449b4ad9b2cd7f3a86718545ff21f3acb12a8f81ea500a8f5254d940d653aa841ac45ad5eb806f286f48d54b77584499cdd0c9fc0e0f7b18e2e4b6a4c584bb75f3e12972a6fba17e3abc72d31abc02938f0e4e47734118df4ce460590d80afde73c7ad9795a8e9e0e271ea6816a01b77ae3a6e41880cadb52b057ce0b030728eedd331460cd2e6de3cc2cd9b4fa1a028f40bab960084f7c45b08382f138b24277132c707f763d8160051ba773640809443f4ada46817cc66c7de74b5fa571111f39b2236a3ed45b5f3bc6b8b4a33220e17f301f73cc01b406090bc9280779911e21da0f3e3223371535b2fcb32a9ec40ff3c316848a9ab9d9868261ba4754f6db7f24c0c59802175914b87dcfa653ffd10f588aed6f0fa5269acae7e82e4b11600919d4a9d2ef98c7d959d21b3ccc70138df7f606dc72c97cc78854966ecc4ac2429f6e9fc005a75d816d4d5e82547581345165ede9698fac897807107e1ea8c65c4b5502528be874631d23c7a54566d4f65dbf74bb8b81c9442272d0e9ee6b005ebdcc7235fb91c871d847d3722ee9d299dd5f86c87cccd7536c82998780fc85de241ac9fd352bdacdadf98f9b3c79bf531b45b163b8ce24b448f1fc876610d2eb19d6a9efd97aa20dedcc845747961684049d411db62dc172318b28dddd743a96b0a28da3cab1cd2ee324d449cd001a48697481ad4d3434cfa06826676a4a63830563403c656640e189d70ba063002ebe52d378f9f2a4ec8cf5d8f92731d60d68d5280e535d57be0c2a185244a2fa40ceb2343af547edc162ca3c02bb2bd8922c0047c5cb5232a9eb922de95094241f0d4c23d582da8e1f72dbcfac581efd5f8c0ec8067dcb87be9e74409b75f8f5ee2b8e94d5d06fc5680b3353ff0117d82c785e41363db41037231c6daed71bd237a82656526d209d3ed2a5ec36d237eabbc78c276ef4c88c5feca354dbfb5a94fc2f77e3eae7ca816a4c995391959ef555475a8f9fa8af4831d72be98993166eef50f55c7e8e66604d875016447a602282a21f17acbf96f15ad7785f399977a925dfb179a3615d9010fa5aa40579c625251d992e7db851ea63d4eee7c2659d12bde63b0a686ac2c5b9d392dc05400162eaa3bae92987dce121e1d8298c4f4c75eb68c8a2803200ebd558d67d004a7aa6e43f9f03d72b3044163e30427f740f0de483c84aa482289bac79387dd8ca045c1534b11b13cbaa7db015dc53d2512f5a99d67aaefe3c2eac9df915b665659408fca06060535cec099e6f6a4ef918c3fd463b7914d77afa497ba7813da3c8bc4cc32474a0e19a81fbcc392f0f37da91756c6ee6f322cfa498dab8a197f97d5758649a8dc4952c3e5a7e6a35dd2951c28fbddf15ce4ffd84eb66a19fcb575fc617efef6a25baee957960f789c831cba2d75943668828612e887c52e3189470d247924b6ed13f5b6486fe61f354331f6da0df303d71a936b9c20e24b5797da101c0224f1f58904a2dfee0c998717b2bed81f6e44d9400ad6007d2545d5bf1faafdd1e6b0d4612c541b48c41602873e2e244134699859aeacc2a724b747682c36e04161d65b3e6f96a4dea62f3ef78813c58f90236bdfa06eaa54309ab5a02035e5974031fcb3746af77af92273b2b34616f1afaa77a1ab933736c9eabdfc2fde7a61e6ec559af82911be1f36286d29e382ad0e78e7ff3ab49b46b0c777432613647368edf06287a14c8ae158e7bfb210d57a87b38fed74363fbd52ed79ddde65ec99dec19faf3ca8660ac69c93d62e6c839d58bfbe09b218736c6c22238a9d75c8222f0a985530458f8941878dab093b936282676acd4d0ddf895e3e09598156334afb5f2032277faba1a0dc0d40d3cf3a8e9b8357734291065bcdff54b090d41afa1b0a70f9c5d34c3f3da24dd92d919b0413ddc68f09ce8b147e0e93f196cb78e1383070e8aec3b2cead6416f838814db215bbfe2bb17fbda99f5712351760d5fbf4ad1d472d11800e53d55a885f405df790b36d6fcad5c7dd244c7f41a914c1bd1501b3d8a7dc9fe799508ab83ab57774715777d6afbab7699c8ac0df841aed084392ecb211db9ae84cd826d7fc81b1f098f9bcacce3d8eb676edd7e28d5fe0043a115f2238589f58f69f8e28f4376dceaa6dc49bf5ef2348d30a24d88643c3e6a756aa9188fba775c494b82624578d75aee310def157dcd4debb1d5bbe84f532f95c3f364e839543262d6baec5f3e5cd45fcd349ceff4480210be24a7bf25999f20e44102dc318357e10cc7321ecd5c4a36b4c68a7d977cea67a674479c4eaf7ac9fca163e0bc03d81c8ab115d16992ec8be6e39a448468d44be5eb1699091204640a920674b5326f06359007329f7a026c3b7aabe33a76f775f1f71659542bf145ba7e8ce2c32c5820200f043db29376b68c183626b2c4696f455630e6e1629cc3b9787bf8250997325200d7aa1bbf69e8337c85245493edec6701dc0a6a1dee2237751f3b4abbdf7934ed9c68ea61ad4e41ccf9d839958a458c5a80945e56e14b84cdd5a05e7910ce1e594c29afb2497825e59dd8233b657c91b6f4d9c0ee58ed2e891f065daaa5c5f79d705d05a2c4c75463e9df9198bec4b611c78b9612e594059d1e3ab266351a2936d27b3944199466e498bc74a8728c693810c9b61639a2e2288f8f7762af2b1722d7175717889b06223285d26e1134e5ef7358c8f0a3f2943bf79417879d080dd182a1bbee297a7aeba7a501aaee6322669d434670d76d482e327f9342c416c1d91c4d79492516bfa0d30ce122eced03aaf077a75cb58b66bc12c27b3168e7a0d7c3cff08a545d11a5d3d834570e0d879f2a1cdc549d6d697a55992d22574d7e626ba3b0b7268579f6a2c5cea5ba476c7497117d180224dbf7264868f7f9660769e6cba257329ddf67638398094cd1674404e5c0897959d296079b958250934b96d4a96fbca1eb6eb7aed09a6a946588bf27d31bb30a39d7d43da59dd1b0ed3365de93f9f8bc7fe36bf867bbf1a0d00c6aab4d6bc17a6dc2847dfebc8bc6d88c5dd0603b2910dbf1bf53440c4046934f1bc7cc76e2305be0bcc456c8f48354a6f9293328bb4c0c97f80e0e3f45655ea1c134613ef0616557afada9a404babd6cc62c70875a4c3003be47608f09a101f80838b907dfa1554c32b9741eb88e26d8f6a0bdc2517774e0e3160339392620d0d84878e6dfa7ee9bc9f1f26e6a000bb4bb714c19e58388379fec134ca99e00e44daf203cc2300dbe6dc6727953070eaebe4a4219c9a191849fa36fc6c42572c85abfb0e1ca479cd3873014bf6e3e5387bfe73211a976c2097868dec187870f2fef908de1e9cdf9224ca4e81a8e2f54763e30d31a69ac6653714079899e39e621f947427435cc4c76c4cb09abe93d203766b0eadea09259ab7ebfa22dd751decdedde5a4afbc3b1d22538757681e8b555393cbacdffd0f9632d4a3be33b7752cfa84ba088a8e1ddfe173ab0c41f58009b5ca7b81b81a5250fd469538d4db3c4a000e0193a4d692f52cbe138f858992bcedeb1ead7c30cfbf7caf6c6cc59782849ee47c09eb03f7b15de8ab4b2af5e3f12a754c998fc1ad13c6b344247a83b4b68cf24a274ac43156dfb1091a7af2a56cbc0e784eedc3b9e2d765687e3e467d0477f87013159780aaeea354fc9d6591897665295825ddbff6c1de49b50578d06312ca3d16acbe20d2bea1525f7b0b3373296b4f19e5deff4ac1606c1eceb1a44944f0c146356c44f7e02aa684b4d881b772959b9e5fd7d501d6276606808dc70ead2421367cabd28f34eb873bb0395c7c161521dec71f0d563b9c5d2bea3b39c004855119d81899f65106db93d9fc44c6791013afdeb230d84cfe5db4ec0cd6bb336d2571e9ce8ab3f95e6cca8c3a36a6dc07396385621ed5784ff3bd76cadb7ced059fa4aed697ccd2fc7b428f6bd31d7ade4079655792d50cfd6f253000c5fdbccfb8bcdefa6e8102248d8e934cffa98df8acbf90e9206a4ded27fe4ef9ba7ef53b71a4948d26a1a7133f44497dd458b62c6da008ca535ba3db1a4fa4ec7c34a3531375190ac403e617bb7a1015983ae7713d95c93ae57cc150dda1d612c6eca45888b02c4d31c4e6bc6e72744e10da73da93ecd198c2dc8eea00984cccb2be82f7dfe54f6a163aec53117606b70d16db4665aad1047fa0c76715f7714cf186101c85453775b6380a3aeedc58c11d871d976b430f593c45ea6cf0654ca6a4644de1cb79e98b0157f88fc363a73e38a4d7e1cb3029fbccece63f699368fa7472a82d8f4123349e1a0b7d4e3f5c47b4fa04f118a75979fe123ecd94c6ba7a13148eae097b2d0bcf98f3ed647ab0ab30597e26e15dc09a255b0324346035503957423003dc83432c7847e71163d124a870c67438deb7aedbcab06afa03c9f851ab39fc18533798f4b9dcf25e2592e0c5a4d67cc735a0597181e1178823dceca04e494270e67e6e0e347189327bff760ef22ac8d40125ad9afb1b66b4ee990811ec12ef60bb1a06fb48dd4b4845362aa30e067c2ae96814f9ed858ca4c305623d921a07df7f18d119b7f3f0e5fb3665e3f6bc123422fe25a2a637c849cb19ddf0d113ce806655d6396af3d607bb89a2bf03e55aa118042793975f041e4ccc25b3626a2707092d3e52e16df9d9a494a81b93b9602ab8a6bd0250d0d8c2500da32a6cdc1bbb6a0d45b3a0b508a610c4119442d7301b6958528510617e29409d83775e44e02ecf49cc34d094966dd99c94542bfb94b60bb0c47b40bfbc4c0c01deaae741c02bd672d7be97c4d7de98b4b8fe059025a3fc4316a213d877ee45cc1664044488298ea7de7af43c99904fff4fea00aabeb0787fc4392f67daef61931795ab4a565ef433e786eb3c1544b91d7ba097bd69cd6cd8a5be35696aec6dd395c158abd56ef9b3f94c15f8d9be3fbc79439eb5b2f542c4035a02f7dd3bd7935102cc607dad10fe38eeafcb381edd9109077e4c79fa59b405aee879715e9c1df95d338ca924b714e485f1d182edcba712da7080cbb6e5473d9986f07acbb26579ee4108624c77681557dbc8f91dedc43ba4b17468c5dfe4c540bedab66789f4efad9ab94b9bcb1a100e1227238b84d0cdd182f7fd3463a0a59298b24612eb229fb7c0de2838e424d2fa88d15d93188dad950acac8a29c0356c02a7b32f56342e4e968e01831e81b81bdafcc289e4f9e0ba6ed05517673383b3b38656deb4d5d1cfe8c3bb54ce0db08b7c789f3d45e64e5ebec0895864627ea6c55520f8b3c4d15fd174ed96ba646b92315f011fa4385c81194f2cabf73fab4ec6ae0387dbeca8da852f490234a5b81f7577a2576ec4a889b3b9779809e5da1a23ae97f9fc8a8e56d928b987ed325471a9891a8103ab31fc9ddcd9551945e9c47d4eb1ed8ce066f40db00e91cd0cfb6c5c6def5d59de00570800cc4005f6133465ecc88f2b1db12e198db74ca2d54e224115def48202c437683f8060c9bbe9dcf005387dae8a651a6572f75cca629a846de91c45d1672d969256e3aeb54cb6bfaca83124ec7e75f3dfddca1bf78cb73a5ce7c86f0e63fac4481d183e16721506e12bdcc3ca58facd4e431d9267e410bfca4b08dc27ef887d62940904f76b7152d6f44fff32acc7d7f883ebd51c7765f6dbfea37bc48de73bdbcb269abd383f6349f5f9c59fc7d308cf7ebc760e0d377a02882c9680e24d13a55ac23429bd14a17e46911232eecad286432d2c1dace6e73c27d9753cec0f673bd03cec925b3a990a092224001373f14eff6c9240cabab52330791c11d976fcf324dc192ab9ef4f44e9b49b418d0c4c57ad290e3dc9cb881ee8bd293168803af8da0016a2f9e77316af15a0920b6c435bf53fd80b103a041571359c851c27aacbad3dce6a8ae26790e8603e320d0225c97c748a31e145f48692f1b2bde02b4c3e03d4c51648495c04fc58dde56bfd63867fa6117c5a4d67ff0a1c6c094738604e57fd6748d8ed742d75215a4f907afa5d9552e2cceda44ffffca1a59d625ae4406e91e5bc5917170749e27fa427e423b38d2666c06372e01bf617648579cb15a8933345a342a6347a0f17f54f8f2c5cfe967b9c4b53c99498b71b12a2e00f2b3bb5f3f1cbf87e83c69b5f79dd17fcfff71475f0bc0910b2c8f61a7b24e42c057a1a4cd443951ba6964832ddf73923efb3407351216b2a322d9faba2b7ea8f99d9fe10987c78ec2839fcc01a95e9c26085e1007c043b74d558c743c9c655a1ce7a9b0102816a294c9a120e53dac3d6e04f427042641e9b83636891fcddedf9f6b5d2e8903ccd4fd4a61bbd6c3a3bbfa6a0e35a143a7baab37d4a8832917f87bb0ee00f03e50f460c11335c45d31db1d423e052ee090451590cab9b886d75ad5c8c5cf3f678085df7d2b1be3fa3669417991aaea7a9e7a7c3efdb13c29bc26422b77d6803aa2a41122d58b1303851155a4b91446f4921a6bf7673423277ee3a7afe904e96e3c0af87a67806dbe48d731757ccddc96c0234ab731c0e3635ea8248e7e6ec8bc5bc3c3f0c0f9af78271acd767c90dee6eed055741230a93b074cf0a17ccf88dc7337fe5020a788f7c47fbd9b7dc70277cfc1fe20b91720d0081ae48f0698f5be8ca57484d058a83b9a381a1463837e113ff41867aad34cd1aa5829565c798991374a8e1ce04d369ef5b824dbf3d9787f18160806441a4e78e31707cf4f743590b23062ef4e2d92ef007a89305a5f4334206ca2389af93998dabfb7ad5c36d9fe0fb8078315f7e846d3c28a8b68e0cbce3cd8555dca9e887bab8bbd5e47f6162ea18bd794aaf250661a70004c2f02322941c5cef804b5ab0e2a2e60ec2d0b1f8f887f4b5ce660534998736430ae300f5976f119212279de3a9c4958a11c4b207079d34dd175bad9f09270958c34cb40f0f4b171d8eec855cf336259f0a76e6cc9f91e006a3d05eccb79a43eadff680c5842b0dafcbff7bcae5d6e324a87d392e5dee977d0babbe6c16e8addb6f14a2b189f45b061de5c001c70df750ac1f61f8184b4238a8cd1e014a8d22a72a1209a4f7bef362461f933127a5de91a3534eb3e7c93fb9da01dfa34fb60815c1d6cff261fc1ae8795539df2a6dbd433e22b7c480127d7717fb913e799d116d5d6091fa5d4b5592d10c6b47a05b658907f7b43c84470b03fdd2f6eeba4171e84215e67370b3afaa50e9676446f2b6851e8672c49a8d41954b054a6fc08e560f5b736799b3e634c14ea7c1f733bdb84c33f444664434ea8629ec384e6ae6f30064772d72b13ecbd84383773de78ec79df4e21cfadc55a0b4bc82e9c47a9dd3186ed51d1c9a0950ed5a35991b8f9abd09d5a4b091792f2f385a4b6bf97d76b634bd8dd7de1b64e8b44a9b073e3160ee65f23e5008e0400ba11bfe5bad7afd0db6e840b5a0ed9b2942b375b9e21d29ea9ff505db727d53f7eed2adda755c7f0383669062a438cfb1f2fdeb7461da73ffb8e2d9fc5adba4659ecd97d329e965a4cfd1658ff73a66c7672fbc1dfe604b94265bfe73fd8b46dfb1372ad11abbd7b2ac8ac251ed7e86985a51a31458fcf019c4513c0d80b41d8c4c506d728d58197b1aac1163c960ed74223b5888b9588f514e3a6a186ec01b809ec004420c965484303dfd372adfad83620ed8f0597729d9ce10971742bfb5d625036bfd179dbed4e6c9e58c1f7c2acd1bab8b97edc5425ecb3d2c541225909e67c3ca74a4743c1c81008611db6b0d2fd59a782b1a297525f0a61cdfe8e1f9fcf7490de8deaa5ffd3871f1e03d1f2d873ce0abfc95a0df351c187bdeeb45d2f6e3841bb57f9c1af8829a9907ce1b423a6dd8e14417d10cac72a9623ab949dc6dffc3b23cce7b73e28debc6f58cd26f9aff395441b83186b930566cf1fc769b14c2051f31e614d6bd015528df63e273ca95cfadf3bbc6f5e96947302fde51076256685e01d4cb5237cc1edbe19e575a6a0dd1a2bd3949eab648474850657373a172798971ddb3dd918459daf3cd77e53ed1f7fd7304cd31d47f5055d9a7ac5df4d52ce320e4f54ef2a09422a58f9d222314632519bdc60f04d99b90c598d633fe5560dd641987e2860c4cd34323c8c25893ea107630aca5d805281c7a6013a7ae710a35b134650a2e7855ad89c8d3e2bfef09f749e8959871cd9fe95eb16414011c226528f69cde37532f0149bd9242c66187828c59c15861448ac756c9ccf6b0fb2b3262709470b3e07342a1b9cf3abce5a950b5bf291d75637c9b1cd42e64802500333a07738e387b3f5131f16b3d1b61f10131256d18d4f5e1a4b0b57efad911df96cbdb60cd7eb7e7b1a410ffb19fc14e3ff0bca6d3e1e71b4cd9d7c06f78f36624e0d06ed99f7319930c505542d408ed890c9ef8d8558f4ed290d67a956166bd005fae212f312127d28714dffd86acb7a09521edf34bb5b0f20c93f030175cd58eda97497af1868cf77cb5807383ecbaa7a812178f6dfa1c54265b2998ca22b284473d1a858940d8446f28c8d2314b98f77bf4ad1b4546d33f9ad31afa93d15d62593cb313921ea421465bd2a947b9c91a894ff55ed65108a2333d1bb3c29e273cc94579235fef4a0ac7dafc0b7a2c8bb878c5ad896c2c196c0deacc4b8fd7899007e01c8bf770de6d2d4e635feabbeab681586743c2777ac195758d9cf04ce14ce5fe6a718fdd58aebc2af154060053b1649372287f80dc3b1fd786f721674fa41e364777e2d6104e003cf00b16045e2ff1105c4e019cc31580189b6cf91fa2e28b011a671b04e37b1ed175b7aba7d1aa6a617785b2434d47d1fe2182e0462bf2e224f60ab33a05c64981e420a395d5ed8d2fbdbfbf02f5d46fe048df7afee953c5e4d61855246eeabba9a286afcfa808cf9baae3573a39ec3c75f67d4e548d4382573a31e0868dcfed7ef8d5cdef7dbe55227c08284185893e40ccc5a946a91a8f70cded5dfa03e08bc242177cf2af30e211677e845c2344d6c3fe4dac3724af90cbcccd5e6b5b0fcb3ab27554dec547f6c6d0b7e4f7772f869e93f4272120b7992f0433c81177eff34b80868e2c9d70b4456bc13f7b269d504aa99fbe782f24a895edaaef3b3a4855383480c73f31d68e2739600001c10057535e4e6b179ec6aafa565cc22bc55926a13c96aed1ca4b6a1de7bacfed67fa427619c004e0a9484f5e0f6091e374fd15dcc2e023a74e027482694762c0134758894e5c119fb39f54edc561bc290c1227709f9131bf47ae229ce7ec04d1408a4e75b7f13517c95e90fc631cd072d7c0e9ee95b332edd52c3636a00e7b06c7c1b1bd7b655a8f10c03f9d95161ef7f4f84e07280e82f42ad09c9c414aec55616fd5d70d7148f8d26d13ff2b4379f50bc904e65f91a1c0cf409df443b078fbaeed482a8ae67ed6553f0f7f4fb8d416b1e4647256352722834fa634b196bdd6fbdf1f4153e265f7773ab9e63da5ba4c7d01e7466edf00925c6ddfd9df0362b0b070b513d8da0c7e8bd7c15285a158e0b04406eb5e024a9527a81a62f7ef4e4d46a6360675b6bc182c491b578ba404fee7610430b91a87e6db6bba0c5ac76aa1dddf43e2046c739fa83a2db5b3b0e63f5f800af01ee733022359859f531e23515d19938a68b77efef2d1ddad38b1367a0c84db8c289a5200776400ac9f304ed0cc6e56dcbdb05af957990df33b3bc2f3913117d3508c25b7fde6d8d1b971b8f2fa37554c576a4e8c2b06832296577d2575da8e57a324154d8ceb205197c2fbe2dd2436817a475c0bcfb4e8b94304ba046db9b50c14b3002001a93441f1108da28d761ed6debf252b34bed9838f5392de065fef45594dab9f38c25af7c9433162bd5e3ed8cff6eebd8cbab5e3f9ee40dfc0bf8cd06fe970f031e97844b8d10a5113ed36a4332619a2ed670009d0ac2ffe73aec8826bfcae53e358bf6501dc9430e602ee340786bb59e281a79294ea58192be26bf101874ecec237f0178fb4c16a4cb42f3aaae5ddc53adb9d9dff86e9c33c294ad7eff8c0173eaa5b47f23338e43aa01ba3062a0b5af372e2e5931ac8b9f6a075b05a7f1841972ee8749a157ceae9031db9e9cc0730aa38f1437dbf2c8eab26841937e35c3f1c8db5c3226fa3d3a4343f1a68b4c939ba52656fa4e2f47fef0ed9d03cd564655c25f88a46bccfa7e031b80a32a7927a51163698aa2c60399e4a9124992fa7703c7cb10db397fd05d06f6e1a8f861c9a3bd77e82e7f897ff834cb20b3b0cf56b5a4b363a7eb315e11212c3fc0f7adb1c1eb62de9e1d4e9f1ee9965c7f242010999b043b409fe76dee6c0c19c8d3ae1b87ddd3374164ab0f060d287d94735738b151df3f863c318fff0262cf628c5fd3e03121c8a0a76df5d5457427aeae6c51af79e01fd3c32d06fbfd0a41e8e1c5e7f1a4747de515ecc768eb1538dc382713a369c564fc6ed8fe92bd014bf065f59093883142b8a717fe3168ea723bf06fd4cce331c7649de9c78eabf922d99f39b636b03d3c58971adace30072890904f60945753721085a07663c5350dbb49bf768992f5b33e6c8ae35baa5c2d592caaf2572e8915f28765478f7525b1f89dd62a61d426599ee9e88f4292f18449f2e267e6ad4d1ca715a8510f228f142cb14494490ab2b7a0676ea1dab7eb3c5a9c76cc97bef90d245be3cbf8e21a55721107580e67347f8d89c4be2229720f1628eb21359df0e2747a8893a140ddf19a094a7ad9eb212e2aafa467f0fd019b0c2c6edf37525b0e8ec3a9a014130fed43d8b7430a03af3b427c2e850132f9a6e41f1270741067c6a72a72c4e25c8be80c8e8716164ddb34003c78eed15b44a11f61c1f435403d17e474f416bc4a13317bb7a441ce09fdc3fb370ca1ef82d3a6f42e9a547549b53e26cda91027eb4228079ffa0197612bba6455b9deb71f5bb8a9f5184708fc29ead7f06d0932a1ac10033262e791c3dd9856c73f92bdd47911ba38e53a1ff2575d33a256b5fe467720eae58c1ea4f68241cf16797c0d3bc2095b825a47ca3f34cedcc3670d793c3223ac01359e330eb35fddb220d26879a4bccd1eec00536cab6fd74d2f13549dbb4b2277ed6a17a347210943467eacfd5c179bc6ab2c5ad16a96f0f65ecb7033be4483c52d3c6bf38a772ebf8e3bf89fc8747146e460aac0055408c8541e0be7a7a6836e96b079a8a67407112fa75811813c01f21ee68861fef89ed34e60ade580be0128abe4b3380b195127789839e17d035afb8234963a678c58874584c7248efe6c09ff3cb5c6b205aeddf910bde74ac0df86b20a330b4b89066c10947d85ddd07b4c85a2e7dce797c7ac71683025d2f255bc448a0ec09f6182eb7fff41ef0cc34b59f204b28743fb0ff1d9378ef727fd8533698d3052ca78a2d6cb8b64f7f164a2d302b0dc1f2d4af4c2dc613820cf1565f23ad400192a57a09600aa019eb042c48e389e4341b97c5ae21fc3db3458525e33226c357bed0f5ece0cae9df73ee5f4b91e635be</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">您好, 这里需要密码.</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>JavaWeb--JSP</title>
      <link href="/2025/09/26/JaveWeb-JSP/"/>
      <url>/2025/09/26/JaveWeb-JSP/</url>
      
        <content type="html"><![CDATA[<h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><ul><li><code>第一个JSP程序：</code><ul><li>在WEB-INF目录之外创建一个index.jsp文件，然后这个文件中没有任何内容。</li><li>将上面的项目部署后，启动服务器，打开浏览器，访问以下地址:<code>http://localhost:8080/jsp/index.jsp</code> 此时展现在大家面前的是一个空白页</li></ul></li><li><code>过程：</code><ul><li>实际上访问该index.jsp文件时，底层执行的是：index_jsp.class这个java程序。</li><li>这个index.jsp会被Tomcat翻译生成一个index_jsp.java文件，之后Tomcat会将这个java文件编译成一个class文件，最后由JVM来执行这个class文件。</li><li>访问index.jsp，实际上执行的是index_jsp.class中的方法</li></ul></li><li><code>JSP生命周期</code><ul><li>index.jsp访问的时候会自动翻译成index_jsp.java文件，该文件再编译为class文件，index_jsp这就是一个类。</li><li>index_jsp类继承了HttpJspBase，而HttpJspBase类继承了HttpServlet类，故index_jsp类也是一个Servlet</li><li>JSP实际上就是一个Servlet，<strong>Jsp的生命周期和Servlet一样，没有任何区别</strong></li><li>jsp和Servlet一样，都是单例的(假单例)。</li></ul></li><li><code>思考:为什么JSP文件的第一次访问速度较慢？</code><ul><li>大部分运维人员给客户演示项目，都需要先将所以JSP文件先访问一遍、</li><li>第一次访问JSP文件<ul><li>将jsp文件翻译生成Java文件</li><li>编译Java文件生成class文件</li><li>通过class去创建servlet对象</li><li>调用Servlet的init方法</li><li>最后调用servlet对象的service方法</li></ul></li><li>之后访问JSP文件<ul><li>此时直接调用servlet对象的service方法即可</li></ul></li></ul></li><li><code>JSP概念总结</code><ul><li>JSP是什么？<ul><li>JSP是java程序（JSP本质还是一个Servlet）</li><li>JSP是：JavaServer Pages的缩写。（基于Java语言实现的服务器端的页面。）</li><li>Servlet是JavaEE的13个子规范之一，那么JSP也是JavaEE的13个子规范之一。</li><li>JSP是一套规范。所有的web容器/web服务器都是遵循这套规范的，都是按照这套规范进行的“翻译”</li><li>每一个Web容器/Web服务器都会内置一个JSP翻译引擎</li></ul></li><li>对JSP进行错误调试时，依旧需要打开JSP文件对应的Java文件，检查代码</li><li>开发JSP最高境界：看着JSP代码，能想象到Java代码<h1 id="JSP语法"><a href="#JSP语法" class="headerlink" title="JSP语法"></a>JSP语法</h1></li></ul></li><li>在JSP文件中直接编写文字会被翻译到Servlet类的Service方法的<code>out.write(&quot;文字内容&quot;)</code>中，直接翻译到双引号里，被Java程序当做字符串来打印输出到浏览器</li><li></li></ul>]]></content>
      
      
      <categories>
          
          <category> JavaWeb </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> javaWeb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Servlet</title>
      <link href="/2025/09/25/JaveWeb-Servlet/"/>
      <url>/2025/09/25/JaveWeb-Servlet/</url>
      
        <content type="html"><![CDATA[<h2 id="Servlet生命周期"><a href="#Servlet生命周期" class="headerlink" title="Servlet生命周期"></a>Servlet生命周期</h2><ul><li>网站中所有的Servlet接口实现类的实例对象，只能<strong>由Http服务器负责创建</strong>,开发人员不能手动创建Servlet接口实现类的实例对象</li><li>在默认的情况下，用户第一次请求的时候，自动创建Servlet接口实现类对象。(调用无参构造方法)</li><li>在手动配置情况下，要求Http服务器在启动时自动创建某个Servlet接口实现类的实例对象(填写一个大于0的整数即可)</li></ul><div class="tabs" id="servlet"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#servlet-1">基于 XML ⽂件的配置⽅式</button></li><li class="tab"><button type="button" data-href="#servlet-2">基于注解的配置⽅式</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="servlet-1"><ul><li>基于 XML ⽂件的配置⽅式。 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span> <span class="comment">&lt;!--声明一个变量存储servlet接口实现类类路径--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.bjpowernode.controller.OneServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span> <span class="comment">&lt;!--声明servlet接口实现类类路径--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>30<span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span><span class="comment">&lt;!--填写一个大于0的整数即可--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!--为了降低用户访问Servlet接口实现类难度，需要设置简短请求别名--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/newhello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span> <span class="comment">&lt;!--设置简短请求别名,别名在书写时必须以&quot;/&quot;为开头--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="servlet-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/newhello&quot;)</span> </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloServlet</span> <span class="keyword">implements</span> <span class="title class_">Servlet</span> &#123; </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note danger no-icon flat"><p>关于Servlet类中方法的调用次数？</p><ul><li>构造方法只执行一次。</li><li>init方法只执行一次</li><li>service方法：用户发送一次请求则执行一次，发送N次请求则执行N次。</li><li>destroy方法只执行一次</li></ul></div><p>说明:</p><ul><li>用户在发送第一次请求的时候Servlet对象被实例化（AServlet的构造方法被执行了。并且执行的是无参数构造方法。）</li><li>AServlet对象被创建出来之后，Tomcat服务器马上调用了AServlet对象的init方法。</li><li>用户发送第一次请求的时候，init方法执行之后，Tomcat服务器马上调用AServlet对象的service方法。</li><li>用户在发送第二次，或者第三次，或者第四次请求的时候，Servlet对象并没有新建，还是使用之前创建好的Servlet对象，直接调用该Servlet对象的service方法.</li></ul><h3 id="注解详细解释"><a href="#注解详细解释" class="headerlink" title="注解详细解释"></a>注解详细解释</h3><p>我们的第一个注解：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jakarta.servlet.annotation.WebServlet</span><br></pre></td></tr></table></figure><br>在Servlet类上使用：@WebServlet，WebServlet注解中有哪些属性呢？</p><ul><li>name属性：用来指定Servlet的名字。等同于：<code>&lt;servlet-name&gt;</code></li><li>urlPatterns属性：用来指定Servlet的映射路径。可以指定多个字符串。<code>&lt;url-pattern&gt;</code></li><li>loadOnStartUp属性：用来指定在服务器启动阶段是否加载该Servlet。等同于：<code>&lt;load-on-startup&gt;</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//@WebServlet(urlPatterns = &#123;&quot;/welcome1&quot;, &quot;/welcome2&quot;&#125;)</span></span><br><span class="line"><span class="comment">// 注意：当注解的属性是一个数组，并且数组中只有一个元素，大括号可以省略。</span></span><br><span class="line"><span class="comment">//@WebServlet(urlPatterns = &quot;/welcome&quot;)</span></span><br><span class="line"><span class="comment">// 这个value属性和urlPatterns属性一致，都是用来指定Servlet的映射路径的。</span></span><br><span class="line"><span class="comment">//@WebServlet(value = &#123;&quot;/welcome1&quot;, &quot;/welcome2&quot;&#125;)</span></span><br><span class="line"><span class="comment">// 如果注解的属性名是value的话，属性名也是可以省略的。</span></span><br><span class="line"><span class="comment">//@WebServlet(value = &quot;/welcome1&quot;)</span></span><br><span class="line"><span class="comment">//@WebServlet(&#123;&quot;/wel&quot;, &quot;/abc&quot;, &quot;/def&quot;&#125;)</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/wel&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WelcomeServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="GenericServlet"><a href="#GenericServlet" class="headerlink" title="GenericServlet"></a>GenericServlet</h2><ol><li><p>使用MyServlet直接实现Servlet接口，需要将该接口中所有方法实现</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyServlet</span> <span class="keyword">implements</span> <span class="title class_">Servlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig servletConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ServletConfig <span class="title function_">getServletConfig</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getServletInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>我们进行改进</p></li></ol><p>我们让抽象类GenericServlet把不需要的方法实现即可，让service变成抽象类。<br><div class="tabs" id="genericservlet"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#genericservlet-1">GenericServlet</button></li><li class="tab"><button type="button" data-href="#genericservlet-2">MyServlet</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="genericservlet-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">GenericServlet</span>  <span class="keyword">implements</span> <span class="title class_">Servlet</span> &#123;</span><br><span class="line">    <span class="comment">//ServletConfig servletConfig形参，我们不知道传进来的是什么</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig servletConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ServletConfig <span class="title function_">getServletConfig</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getServletInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="genericservlet-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyServlet</span>  <span class="keyword">extends</span> <span class="title class_">GenericServlet</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><ul><li>第一个问题MyServlet还能使用GenericServlet类中的init方法吗?<ul><li>可以。会执行GenericServlet类中的init方法。</li></ul></li><li>第二个问题：init方法是谁调用的？<ul><li>Tomcat服务器调用的。</li></ul></li><li>第三个问题：init方法中的ServletConfig对象是谁创建的？是谁传过来的？<ul><li>都是Tomcat干的。</li><li>Tomcat服务器先创建了ServletConfig对象，然后调用init方法，将ServletConfig对象传给了init方法。</li></ul></li></ul><p>Tomcat服务器伪代码：<br><div class="tabs" id="tomcat"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tomcat-1">Tomcat</button></li><li class="tab"><button type="button" data-href="#tomcat-2">GenericServlet</button></li><li class="tab"><button type="button" data-href="#tomcat-3">MyServlet</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tomcat-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Tomcat</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="comment">// .....</span></span><br><span class="line">        <span class="comment">// Tomcat服务器伪代码</span></span><br><span class="line">        <span class="comment">// 创建LoginServlet对象（通过反射机制，调用无参数构造方法来实例化MyServlet对象）</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.bjpowernode.javaweb.servlet.MyservletServlet&quot;</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> clazz.newInstance();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 向下转型</span></span><br><span class="line">        <span class="type">Servlet</span> <span class="variable">servlet</span> <span class="operator">=</span> (Servlet)obj;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 创建ServletConfig对象</span></span><br><span class="line">        <span class="comment">// Tomcat服务器负责将ServletConfig对象实例化出来。</span></span><br><span class="line">        <span class="comment">// 多态（Tomcat服务器完全实现了Servlet规范）</span></span><br><span class="line">        <span class="type">ServletConfig</span> <span class="variable">servletConfig</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">org</span>.apache.catalina.core.StandardWrapperFacade();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 调用Servlet的init方法</span></span><br><span class="line">        <span class="comment">//将这个实参传入到那个方法里。</span></span><br><span class="line">        servlet.init(servletConfig);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 调用Servlet的service方法</span></span><br><span class="line">        <span class="comment">// ....</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tomcat-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> javax.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">GenericServlet</span> <span class="keyword">implements</span> <span class="title class_">Servlet</span>, ServletConfig,</span><br><span class="line">        java.io.Serializable &#123;</span><br><span class="line">    <span class="comment">//版本号</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> ServletConfig config;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        此构造方法啥也不做，因为Servlet的所有初始化任务都是由init方法完成的。</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">GenericServlet</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// NOOP</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// NOOP by default</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getInitParameter</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getServletConfig().getInitParameter(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Enumeration&lt;String&gt; <span class="title function_">getInitParameterNames</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getServletConfig().getInitParameterNames();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ServletConfig <span class="title function_">getServletConfig</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">/*通过该方法，可以让子类调用父类私有属性*/</span></span><br><span class="line">        <span class="keyword">return</span> config;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ServletContext <span class="title function_">getServletContext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getServletConfig().getServletContext();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getServletInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        <span class="comment">/*该方法是形参，tomcat将实参传进来，然后通过this.config=config</span></span><br><span class="line"><span class="comment">          把局部变量变为全局变量。*/</span></span><br><span class="line">        <span class="built_in">this</span>.config = config;</span><br><span class="line">      <span class="comment">//Tomcat首先调用init()有参方法，然后调用init()无参方法。</span></span><br><span class="line">        <span class="built_in">this</span>.init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/*目的是让子类重写init()方法的无参构造方法。*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        <span class="comment">// NOOP by default</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">log</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        getServletContext().log(getServletName() + <span class="string">&quot;: &quot;</span> + msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">log</span><span class="params">(String message, Throwable t)</span> &#123;</span><br><span class="line">        getServletContext().log(getServletName() + <span class="string">&quot;: &quot;</span> + message, t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest req, ServletResponse res)</span></span><br><span class="line">            <span class="keyword">throws</span> ServletException, IOException;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getServletName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> config.getServletName();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tomcat-3"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> GenericServlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyServlet</span>  <span class="keyword">extends</span> <span class="title class_">GenericServlet</span>&#123;</span><br><span class="line">    <span class="comment">//我们需要在MyServlet中重写init方法</span></span><br><span class="line">    <span class="comment">//子类重写第二个(无参的)就可</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span>  <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;MyServlet init() method execute!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//我想在MyServlet子类中使用Servlet对象怎么办?</span></span><br><span class="line">        ServletConfig config=<span class="built_in">this</span>.getServletConfig();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><h3 id="ServletConfig"><a href="#ServletConfig" class="headerlink" title="ServletConfig"></a>ServletConfig</h3><ul><li>什么是<code>ServletConfig</code>？ <ul><li>ServletConfig是一个接口。是Servlet规范中的一员。</li><li>ServletConfig对象中封装了标签中的配置信息。（web.xml文件中servlet的配置信息）</li></ul></li><li>一个Servlet对应一个ServletConfig对象。 </li><li>Servlet对象是Tomcat服务器创建，并且ServletConfig对象也是Tomcat服务器创建。并且默认情况下，他们都是在用户发送第一次请求的时候创建。 </li><li>Tomcat服务器调用Servlet对象的init方法的时候需要传一个ServletConfig对象的参数给init方法。 </li><li>ServletConfig接口的实现类是Tomcat服务器给实现的。（Tomcat服务器说的就是WEB服务器。） </li><li>ServletConfig接口有哪些常用的方法？ <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">getInitParameter</span><span class="params">(String name)</span>; <span class="comment">// 通过初始化参数的name获取value</span></span><br><span class="line"><span class="keyword">public</span> Enumeration&lt;String&gt; <span class="title function_">getInitParameterNames</span><span class="params">()</span>; <span class="comment">// 获取所有的初始化参数的name</span></span><br><span class="line"><span class="keyword">public</span> ServletContext <span class="title function_">getServletContext</span><span class="params">()</span>; <span class="comment">// 获取ServletContext对象</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getServletName</span><span class="params">()</span>; <span class="comment">// 获取Servlet的name</span></span><br></pre></td></tr></table></figure>以上方法在Servlet类当中，都可以使用this去调用。因为GenericServlet实现了ServletConfig接口。<h3 id="ServletContext-应用域"><a href="#ServletContext-应用域" class="headerlink" title="ServletContext(应用域)"></a>ServletContext(应用域)</h3></li><li>一个ServletContext对象通常对应的是一个web.xml文件。 </li><li>只要在同一个webapp当中，只要在同一个应用当中，所有的Servlet对象都是共享同一个ServletContext对象的。</li><li>ServletContext对象在服务器启动阶段创建，在服务器关闭的时候销毁。这就是ServletContext对象的生命周期。ServletContext对象是应用级对象。</li><li>ServletContext是一个接口，Tomcat服务器对ServletContext接口进行了实现。 <ul><li>ServletContext对象的创建也是Tomcat服务器来完成的。启动webapp的时候创建的。</li></ul></li></ul><p>ServletContext接口中有哪些常用的方法？<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">getInitParameter</span><span class="params">(String name)</span>; <span class="comment">// 通过初始化参数的name获取value</span></span><br><span class="line"><span class="keyword">public</span> Enumeration&lt;String&gt; <span class="title function_">getInitParameterNames</span><span class="params">()</span>; <span class="comment">// 获取所有的初始化参数的name</span></span><br></pre></td></tr></table></figure><br>通过该两个方法可以获得以下的信息：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--以上两个方法是ServletContext对象的方法，这个方法获取的是什么信息？是以下的配置信息--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>pageSize<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>10<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>startIndex<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>0<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--注意：以上的配置信息属于应用级的配置信息，一般一个项目中共享的配置信息会放到以上的标签当中。--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--如果你的配置信息只是想给某一个servlet作为参考，那么你配置到servlet标签当中即可，使用ServletConfig对象来获取。--&gt;</span></span><br></pre></td></tr></table></figure><br>其他方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取应用的根路径（非常重要），因为在java源代码当中有一些地方可能会需要应用的根路径，这个方法可以动态获取应用的根路径</span></span><br><span class="line"><span class="comment">// 在java源码当中，不要将应用的根路径写死，因为你永远都不知道这个应用在最终部署的时候，起一个什么名字。</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getContextPath</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//String contextPath = application.getContextPath();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取文件的绝对路径（真实路径）</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getRealPath</span><span class="params">(String path)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过ServletContext对象也是可以记录日志的</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">log</span><span class="params">(String message)</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">log</span><span class="params">(String message, Throwable t)</span>;</span><br><span class="line"><span class="comment">// 这些日志信息记录到哪里了？</span></span><br><span class="line"><span class="comment">// localhost.2021-11-05.log</span></span><br><span class="line"><span class="comment">// Tomcat服务器的logs目录下都有哪些日志文件？</span></span><br><span class="line"><span class="comment">//catalina.2021-11-05.log 服务器端的java程序运行的控制台信息。</span></span><br><span class="line"><span class="comment">//localhost.2021-11-05.log ServletContext对象的log方法记录的日志信息存储到这个文件中。</span></span><br><span class="line"><span class="comment">//localhost_access_log.2021-11-05.txt 访问日志</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ServletContext对象还有另一个名字：应用域（后面还有其他域，例如：请求域、会话域）</span></span><br><span class="line"><span class="comment">// 如果所有的用户共享一份数据，并且这个数据很少的被修改，并且这个数据量很少，</span></span><br><span class="line"><span class="comment">// 可以将这些数据放到ServletContext这个应用域中</span></span><br><span class="line"><span class="comment">// 存（怎么向ServletContext应用域中存数据）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAttribute</span><span class="params">(String name, Object value)</span>; <span class="comment">// map.put(k, v)</span></span><br><span class="line"><span class="comment">// 取（怎么从ServletContext应用域中取数据）</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">getAttribute</span><span class="params">(String name)</span>; <span class="comment">// Object v = map.get(k)</span></span><br><span class="line"><span class="comment">// 删（怎么删除ServletContext应用域中的数据）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">removeAttribute</span><span class="params">(String name)</span>; <span class="comment">// map.remove(k)</span></span><br></pre></td></tr></table></figure></p><div class="note warning no-icon flat"><p>以后我们编写Servlet类的时候，实际上是不会去直接继承GenericServlet类的，因为我们是B/S结构的系统，这种系统是基于HTTP超文本传输协议的，在Servlet规范当中，提供了一个类叫做HttpServlet，它是专门为HTTP协议准备的一个Servlet类。我们编写的Servlet类要继承HttpServlet。（HttpServlet是HTTP协议专用的。）使用HttpServlet处理HTTP协议更便捷。但是我们需要知道它的继承结构：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">jakarta.servlet.Servlet（接口）【爷爷】</span><br><span class="line">jakarta.servlet.GenericServlet <span class="keyword">implements</span> <span class="title class_">Servlet</span>（抽象类）【儿子】</span><br><span class="line">jakarta.servlet.http.HttpServlet <span class="keyword">extends</span> <span class="title class_">GenericServlet</span>（抽象类）【孙子】</span><br><span class="line"></span><br><span class="line">我们以后编写的Servlet要继承HttpServlet类。</span><br></pre></td></tr></table></figure></p></div><h2 id="HttpServlet"><a href="#HttpServlet" class="headerlink" title="HttpServlet"></a>HttpServlet</h2><div class="note warning no-icon flat"><ul><li><strong>HttpServlet类是专门为HTTP协议准备的。比GenericServlet更加适合HTTP协议下的开发。</strong></li></ul></div><ul><li><p><strong>HttpServlet在哪个包下？</strong></p><ul><li>jakarta.servlet.http.HttpServlet</li></ul></li><li><p><strong>http包下都有哪些类和接口呢？</strong>jakarta.servlet.http.*; </p><ul><li>jakarta.servlet.http.HttpServlet （HTTP协议专用的Servlet类，抽象类）</li><li>jakarta.servlet.http.HttpServletRequest （HTTP协议专用的请求对象）</li><li>jakarta.servlet.http.HttpServletResponse （HTTP协议专用的响应对象）</li></ul></li><li><p><strong>HttpServletRequest对象中封装了什么信息？</strong> </p><ul><li>HttpServletRequest，简称<code>request对象</code>。</li><li>HttpServletRequest中封装了请求协议的全部内容。</li><li>Tomcat服务器（WEB服务器）将“请求协议”中的数据全部解析出来，然后将这些数据全部封装到request对象当中了。</li></ul></li></ul><div class="note warning no-icon flat"><ul><li>我们只需要面向HttpServletRequest，就可以获取请求协议中的数据。</li><li>HttpServletResponse对象是专门用来响应HTTP协议到浏览器的。</li></ul></div><ul><li><strong>回忆Servlet生命周期？</strong><ul><li>用户第一次请求 <ul><li>Tomcat服务器通过反射机制，调用无参数构造方法。创建Servlet对象。(web.xml文件中配置的Servlet类对应的对象。)</li><li>Tomcat服务器调用Servlet对象的init方法完成初始化。</li><li>Tomcat服务器调用Servlet对象的service方法处理请求。</li></ul></li><li>用户第二次请求 <ul><li>Tomcat服务器调用Servlet对象的service方法处理请求。</li></ul></li><li>用户第三次请求 <ul><li>Tomcat服务器调用Servlet对象的service方法处理请求。</li></ul></li><li>…. <ul><li>Tomcat服务器调用Servlet对象的service方法处理请求。</li></ul></li><li>服务器关闭 <ul><li>Tomcat服务器调用Servlet对象的destroy方法，做销毁之前的准备工作。</li><li>Tomcat服务器销毁Servlet对象。</li></ul></li></ul></li><li>HttpServlet源码分析：</li></ul><div class="tabs" id="httpservlet"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#httpservlet-1">HelloServlet</button></li><li class="tab"><button type="button" data-href="#httpservlet-2">GenericServlet</button></li><li class="tab"><button type="button" data-href="#httpservlet-3">HttpServlet</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="httpservlet-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line"><span class="comment">// 用户第一次请求，创建HelloServlet对象的时候，会执行这个无参数构造方法。</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">HelloServlet</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="httpservlet-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">GenericServlet</span> <span class="keyword">implements</span> <span class="title class_">Servlet</span>, ServletConfig,</span><br><span class="line">        java.io.Serializable &#123;</span><br><span class="line">           </span><br><span class="line"><span class="comment">/* 用户第一次请求的时候，HelloServlet对象第一次被创建之后，因为HelloServlet</span></span><br><span class="line"><span class="comment">       没有init方法，HttpServlet也没有，所以执行GenericServlet的init有参构造.。  */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        <span class="built_in">this</span>.config = config;</span><br><span class="line">        <span class="built_in">this</span>.init();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// 用户第一次请求的时候，带有参数的init(ServletConfig config)执行之后，会执行这个没有参数的init()</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        <span class="comment">// NOOP by default</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="httpservlet-3"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HttpServlet模板类。</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">HttpServlet</span> <span class="keyword">extends</span> <span class="title class_">GenericServlet</span> &#123;</span><br><span class="line">    <span class="comment">// 用户发送第一次请求的时候这个service会执行(HelloServlet没有service,执行Httpservlet的)</span></span><br><span class="line">    <span class="comment">// 用户发送第N次请求的时候，这个service方法还是会执行。</span></span><br><span class="line">    <span class="comment">// 用户只要发送一次请求，这个service方法就会执行一次。</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest req, ServletResponse res)</span></span><br><span class="line">        <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">        HttpServletRequest  request;</span><br><span class="line">        HttpServletResponse response;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 将ServletRequest和ServletResponse向下转型为带有Http的HttpServletRequest和HttpServletResponse</span></span><br><span class="line">            request = (HttpServletRequest) req;</span><br><span class="line">            response = (HttpServletResponse) res;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassCastException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ServletException</span>(lStrings.getString(<span class="string">&quot;http.non_http&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 调用重载的service方法。</span></span><br><span class="line">        service(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 这个service方法的两个参数都是带有Http的。</span></span><br><span class="line">    <span class="comment">// 这个service是一个模板方法。</span></span><br><span class="line">    <span class="comment">// 在该方法中定义核心算法骨架，具体的实现步骤延迟到子类中去完成。</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span><br><span class="line">        <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 获取请求方式</span></span><br><span class="line">        <span class="comment">// 这个请求方式最终可能是：&quot;&quot;</span></span><br><span class="line">        <span class="comment">// 注意：request.getMethod()方法获取的是请求方式，可能是七种之一：</span></span><br><span class="line">        <span class="comment">// GET POST PUT DELETE HEAD OPTIONS TRACE</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> req.getMethod();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 如果请求方式是GET请求，则执行doGet方法。</span></span><br><span class="line">        <span class="keyword">if</span> (method.equals(METHOD_GET)) &#123;</span><br><span class="line">            <span class="type">long</span> <span class="variable">lastModified</span> <span class="operator">=</span> getLastModified(req);</span><br><span class="line">            <span class="keyword">if</span> (lastModified == -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// servlet doesn&#x27;t support if-modified-since, no reason</span></span><br><span class="line">                <span class="comment">// to go through further expensive logic</span></span><br><span class="line">                doGet(req, resp);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">long</span> ifModifiedSince;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    ifModifiedSince = req.getDateHeader(HEADER_IFMODSINCE);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IllegalArgumentException iae) &#123;</span><br><span class="line">                    <span class="comment">// Invalid date header - proceed as if none was set</span></span><br><span class="line">                    ifModifiedSince = -<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (ifModifiedSince &lt; (lastModified / <span class="number">1000</span> * <span class="number">1000</span>)) &#123;</span><br><span class="line">                    <span class="comment">// If the servlet mod time is later, call doGet()</span></span><br><span class="line">                    <span class="comment">// Round down to the nearest second for a proper compare</span></span><br><span class="line">                    <span class="comment">// A ifModifiedSince of -1 will always be less</span></span><br><span class="line">                    maybeSetLastModified(resp, lastModified);</span><br><span class="line">                    doGet(req, resp);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    resp.setStatus(HttpServletResponse.SC_NOT_MODIFIED);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(METHOD_HEAD)) &#123;</span><br><span class="line">            <span class="type">long</span> <span class="variable">lastModified</span> <span class="operator">=</span> getLastModified(req);</span><br><span class="line">            maybeSetLastModified(resp, lastModified);</span><br><span class="line">            doHead(req, resp);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(METHOD_POST)) &#123;</span><br><span class="line">            <span class="comment">// 如果请求方式是POST请求，则执行doPost方法。</span></span><br><span class="line">            doPost(req, resp);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(METHOD_PUT)) &#123;</span><br><span class="line">            doPut(req, resp);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(METHOD_DELETE)) &#123;</span><br><span class="line">            doDelete(req, resp);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(METHOD_OPTIONS)) &#123;</span><br><span class="line">            doOptions(req,resp);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(METHOD_TRACE)) &#123;</span><br><span class="line">            doTrace(req,resp);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            <span class="comment">// Note that this means NO servlet supports whatever</span></span><br><span class="line">            <span class="comment">// method was requested, anywhere on this server.</span></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">errMsg</span> <span class="operator">=</span> lStrings.getString(<span class="string">&quot;http.method_not_implemented&quot;</span>);</span><br><span class="line">            Object[] errArgs = <span class="keyword">new</span> <span class="title class_">Object</span>[<span class="number">1</span>];</span><br><span class="line">            errArgs[<span class="number">0</span>] = method;</span><br><span class="line">            errMsg = MessageFormat.format(errMsg, errArgs);</span><br><span class="line"></span><br><span class="line">            resp.sendError(HttpServletResponse.SC_NOT_IMPLEMENTED, errMsg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*子类没有重写doGet就会走父类的，报405错误*/</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span><br><span class="line">        <span class="keyword">throws</span> ServletException, IOException&#123;</span><br><span class="line">        <span class="comment">// 报405错误</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> lStrings.getString(<span class="string">&quot;http.method_get_not_supported&quot;</span>);</span><br><span class="line">        sendMethodNotAllowed(req, resp, msg);</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="comment">/*子类没有重写doPost就会走父类的，报405错误*/</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span><br><span class="line">        <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 报405错误</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> lStrings.getString(<span class="string">&quot;http.method_post_not_supported&quot;</span>);</span><br><span class="line">        sendMethodNotAllowed(req, resp, msg);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note info no-icon flat"><ul><li>假设前端发送的请求是<code>get请求</code>，后端程序员重写的方法是<code>doPost</code></li><li>假设前端发送的请求是<code>post请求</code>，后端程序员重写的方法是<code>doGet</code>会发生什么呢？<ul><li>发生405这样的一个错误。405表示前端的错误，发送的请求方式不对。和服务器不一致。不是服务器需要的请求方式。</li><li>405错误，前端收到这个错误，前端会进行相应的处理。 比如：提示用户，请使用正确的请求方式。</li></ul></li><li>通过以上源代码可以知道：只要HttpServlet类中的doGet方法或doPost方法执行了，必然405.</li><li><p>怎么避免405的错误呢？</p><ul><li>后端重写了doGet方法，前端一定要发get请求。</li><li>后端重写了doPost方法，前端一定要发post请求。</li><li>这样可以避免405错误。</li></ul></li><li><p><strong>这种前端到底需要发什么样的请求，其实应该后端说了算。后端让发什么方式，前端就得发什么方式。</strong></p></li></ul></div><ul><li><p>我们编写的HelloServlet直接继承HttpServlet，直接重写HttpServlet类中的service()方法行吗？ </p><ul><li>可以，但是这样将会享受不到405错误。享受不到HTTP协议专属的东西。</li></ul></li><li><p>最终的一个Servlet类的开发步骤： </p><ul><li>第一步：编写一个Servlet类，直接继承HttpServlet</li><li>第二步：重写doGet方法或者重写doPost方法，到底重写谁，javaweb程序员说了算。</li><li>第三步：将Servlet类配置到web.xml文件当中。</li><li>第四步：准备前端的页面（form表单），form表单中指定请求路径即可。</li></ul></li></ul><h3 id="欢迎资源文件"><a href="#欢迎资源文件" class="headerlink" title="欢迎资源文件"></a>欢迎资源文件</h3><ul><li><strong>前提：</strong><ul><li>用户可以记住网站名，但是不会记住网站资源文件名</li></ul></li><li><strong>默认欢迎资源文件:</strong><ul><li>用户发送了一个针对某个网站的【默认请求】时，此时由Http服务器自动从当前网站返回的资源文件</li><li>正常请求： <a href="http://localhost:8080/myWeb/index.html">http://localhost:8080/myWeb/index.html</a></li><li>默认请求： <a href="http://localhost:8080/myWeb/">http://localhost:8080/myWeb/</a></li></ul></li><li><strong>设置当前网站的默认欢迎资源文件规则：</strong><ul><li>规则位置:网站/web/WEB-INF/web.xml</li><li>规则命令:<ul><li><welcome-file-list></li><li><welcome-file>login.html&lt;/welcome-file&gt;</li><li>&lt;/welcome-file-list&gt;</li></ul></li></ul></li><li>网站设置自定义默认文件定位规则，此时Tomcat自带定位规则将失效</li></ul><ul><li>动态资源：Servlet类。 </li><li>步骤： </li><li>第一步：写一个Servlet </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WelcomeServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line">        out.print(<span class="string">&quot;&lt;h1&gt;welcome to bjpowernode!&lt;/h1&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>第二步：在web.xml文件中配置servlet </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;servlet&gt;</span><br><span class="line">    &lt;servlet-name&gt;welcomeServlet&lt;/servlet-name&gt;</span><br><span class="line">    &lt;servlet-class&gt;com.bjpowernode.javaweb.servlet.WelcomeServlet&lt;/servlet-class&gt;</span><br><span class="line">&lt;/servlet&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;welcomeServlet&lt;/servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;http:<span class="comment">//localhost:8080/myWeb/login.html&lt;/url-pattern&gt;</span></span><br><span class="line">&lt;/servlet-mapping&gt;</span><br></pre></td></tr></table></figure><p> 第三步：在web.xml文件中配置欢迎页</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;welcome-file-list&gt;</span><br><span class="line">    &lt;welcome-file&gt;http:<span class="comment">//localhost:8080/myWeb/login.html&lt;/welcome-file&gt;</span></span><br><span class="line">&lt;/welcome-file-list&gt;</span><br></pre></td></tr></table></figure><div class="note info no-icon flat"><ul><li>关于WEB-INF目录<ul><li>在WEB-INF目录下新建了一个文件：welcome.html</li><li>打开浏览器访问：<a href="http://localhost:8080/servlet07/WEB-INF/welcome.html">http://localhost:8080/servlet07/WEB-INF/welcome.html</a> 出现了404错误。</li><li><strong>注意：放在WEB-INF目录下的资源是受保护的。在浏览器上不能够通过路径直接访问。所以像HTML、CSS、JS、image等静态资源一定要放到WEB-INF目录之外。</strong></li></ul></li></ul></div><h2 id="HttpServletRequest接口详解"><a href="#HttpServletRequest接口详解" class="headerlink" title="HttpServletRequest接口详解"></a>HttpServletRequest接口详解</h2><ul><li><code>HttpServletRequest</code>是一个接口，全限定名称：jakarta.servlet.http.HttpServletRequest </li><li><p>HttpServletRequest对象中都有什么信息？都包装了什么信息？ </p><ul><li><strong>HttpServletRequest对象是Tomcat服务器负责创建的。</strong>这个对象中封装了HTTP的请求协议。</li><li>实际上是用户发送请求的时候，遵循了HTTP协议，发送的是HTTP的请求协议，Tomcat服务器将HTTP协议中的信息以及数据全部解析出来，然后Tomcat服务器把这些信息封装到HttpServletRequest对象当中，传给了我们javaweb程序员。</li><li>javaweb程序员面向HttpServletRequest接口编程，调用方法就可以获取到请求的信息了。</li></ul></li><li><p>request和response对象的生命周期？ </p><ul><li>request对象和response对象，一个是<code>请求对象</code>，一个是<code>响应对象</code>。这两个对象只在当前请求中有效。</li><li>一次请求对应一个request。</li><li>两次请求则对应两个request。</li></ul></li><li>…..</li></ul><h3 id="常用的方法"><a href="#常用的方法" class="headerlink" title="常用的方法"></a>常用的方法</h3><h4 id="获取用户提交的数据"><a href="#获取用户提交的数据" class="headerlink" title="获取用户提交的数据"></a>获取用户提交的数据</h4><ul><li>怎么获取前端浏览器用户提交的数据？</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String,String[]&gt; getParameterMap() 这个是获取Map</span><br><span class="line">Enumeration&lt;String&gt; <span class="title function_">getParameterNames</span><span class="params">()</span> 这个是获取Map集合中所有的key</span><br><span class="line">String[] getParameterValues(String name) 根据key获取Map集合的value</span><br><span class="line">String <span class="title function_">getParameter</span><span class="params">(String name)</span>  获取value这个一维数组当中的第一个元素。这个方法最常用。</span><br><span class="line"><span class="comment">// 以上的4个方法，和获取用户提交的数据有关系。</span></span><br></pre></td></tr></table></figure><details class="folding-tag" ><summary> 思考：如果是你，前端的form表单提交了数据之后，你准备怎么存储这些数据，你准备采用什么样的数据结构去存储这些数据呢？ </summary>              <div class='content'>              <ul><li>前端提交的数据格式：username=abc&amp;userpwd=111&amp;aihao=s&amp;aihao=d&amp;aihao=tt </li><li>我会采用Map集合来存储： </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String,String&gt;</span><br><span class="line">    key存储String</span><br><span class="line">    value存储String</span><br><span class="line">    这种想法对吗？不对。</span><br><span class="line">    如果采用以上的数据结构存储会发现key重复的时候value覆盖。</span><br><span class="line">    key         value</span><br><span class="line">    ---------------------</span><br><span class="line">    username    abc</span><br><span class="line">    userpwd     <span class="number">111</span></span><br><span class="line">    aihao       s</span><br><span class="line">    aihao       d</span><br><span class="line">    aihao       tt</span><br><span class="line">    这样是不行的，因为map的key不能重复。</span><br><span class="line">Map&lt;String, String[]&gt;</span><br><span class="line">    key存储String</span><br><span class="line">    value存储String[]</span><br><span class="line">    keyvalue</span><br><span class="line">    -------------------------------</span><br><span class="line">    username&#123;<span class="string">&quot;abc&quot;</span>&#125;</span><br><span class="line">    userpwd&#123;<span class="string">&quot;111&quot;</span>&#125;</span><br><span class="line">    aihao&#123;<span class="string">&quot;s&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;tt&quot;</span>&#125;</span><br></pre></td></tr></table></figure><ul><li>注意：前端表单提交数据的时候，假设提交了120这样的“数字”，其实是以字符串”120”的方式提交的，所以服务器端获取到的一定是一个字符串的”120”，而不是一个数字。（前端永远提交的是字符串，后端获取的也永远是字符串。）</li></ul>              </div>            </details><p><strong>四个方法的使用</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//username=zhangsan&amp;userpwd=123&amp;interest=s&amp;interest=d</span></span><br><span class="line"><span class="comment">/*Map&lt;String,String[]&gt;</span></span><br><span class="line"><span class="comment">     keyvalue</span></span><br><span class="line"><span class="comment">  ---------------------------</span></span><br><span class="line"><span class="comment">  &quot;username&quot;&#123;&quot;zhangsan&quot;&#125;</span></span><br><span class="line"><span class="comment">  &quot;userpwd&quot;    &#123;&quot;123&quot;&#125;</span></span><br><span class="line"><span class="comment">  &quot;interest&quot;&#123;&quot;s&quot;, &quot;d&quot;&#125;  */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line">            <span class="keyword">throws</span> IOException,ServletException&#123;</span><br><span class="line">  </span><br><span class="line">         <span class="comment">/*1.最常用的方式  String getParameter(String name)*/</span></span><br><span class="line">       <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">userpwd</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;userpwd&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  System.out.println(username);</span><br><span class="line">         System.out.println(userpwd);</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/*2.既然是checkbox，调用方法：request.getParameterValues(&quot;interest&quot;)*/</span></span><br><span class="line">      String[] interests = request.getParameterValues(<span class="string">&quot;interest&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(String  i : interests)&#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*3.直接通过getParameterNames()这个方法，可以直接获取这个Map集合的所有key*/</span></span><br><span class="line">        Enumeration&lt;String&gt; names = request.getParameterNames();</span><br><span class="line">        <span class="keyword">while</span>(names.hasMoreElements())&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> names.nextElement();</span><br><span class="line">            System.out.println(name);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  <span class="comment">/*4.获取参数Map集合*/</span></span><br><span class="line">        Map&lt;String,String[]&gt; parameterMap = request.getParameterMap();</span><br><span class="line">        <span class="comment">// 遍历Map集合(获取Map集合中所有的key，遍历)</span></span><br><span class="line">        Set&lt;String&gt; keys = parameterMap.keySet();</span><br><span class="line">        Iterator&lt;String&gt; it = keys.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> it.next();</span><br><span class="line">  System.out.print(key+<span class="string">&quot;=&quot;</span>);</span><br><span class="line">            <span class="comment">// 通过key获取value</span></span><br><span class="line">            String[] values = parameterMap.get(key);</span><br><span class="line">          <span class="keyword">for</span>(String value : values)&#123;</span><br><span class="line">                System.out.print(value+<span class="string">&quot;,&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            System.out.println();</span><br><span class="line">          </span><br><span class="line">          <span class="comment">/*4.输出结果</span></span><br><span class="line"><span class="comment">          username=zhangsan,</span></span><br><span class="line"><span class="comment">userpwd=123,</span></span><br><span class="line"><span class="comment">interest=s,d,</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="HttpServletRequest接口的其他常用方法："><a href="#HttpServletRequest接口的其他常用方法：" class="headerlink" title="HttpServletRequest接口的其他常用方法："></a>HttpServletRequest接口的其他常用方法：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取客户端的IP地址</span></span><br><span class="line"><span class="type">String</span> <span class="variable">remoteAddr</span> <span class="operator">=</span> request.getRemoteAddr();</span><br><span class="line"></span><br><span class="line"><span class="comment">// get请求在请求行上提交数据。</span></span><br><span class="line"><span class="comment">// post请求在请求体中提交数据。</span></span><br><span class="line"><span class="comment">// 设置请求体的字符集。（显然这个方法是处理POST请求的乱码问题。这种方式并不能解决get请求的乱码问题。）</span></span><br><span class="line"><span class="comment">// Tomcat10之后，request请求体当中的字符集默认就是UTF-8，不需要设置字符集，不会出现乱码问题。</span></span><br><span class="line"><span class="comment">// Tomcat9前（包括9在内），如果前端请求体提交的是中文，后端获取之后出现乱码，怎么解决这个乱码？执行以下代码。</span></span><br><span class="line">request.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在Tomcat9之前（包括9），响应中文也是有乱码的，怎么解决这个响应的乱码？</span></span><br><span class="line">response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line"><span class="comment">// 在Tomcat10之后，包括10在内，响应中文的时候就不在出现乱码问题了。以上代码就不需要设置UTF-8了。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意一个细节</span></span><br><span class="line"><span class="comment">// 在Tomcat10包括10在内之后的版本，中文将不再出现乱码。（这也体现了中文地位的提升。）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// get请求乱码问题怎么解决？</span></span><br><span class="line"><span class="comment">// get请求发送的时候，数据是在请求行上提交的，不是在请求体当中提交的。</span></span><br><span class="line"><span class="comment">// get请求乱码怎么解决</span></span><br><span class="line"><span class="comment">// 方案：修改CATALINA_HOME/conf/server.xml配置文件</span></span><br><span class="line">&lt;Connector URIEncoding=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line"><span class="comment">// 注意：从Tomcat8之后，URIEncoding的默认值就是UTF-8，所以GET请求也没有乱码问题了。</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// 获取应用的根路径</span></span><br><span class="line"><span class="type">String</span> <span class="variable">contextPath</span> <span class="operator">=</span> request.getContextPath();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取请求方式</span></span><br><span class="line"><span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> request.getMethod();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取请求的URI</span></span><br><span class="line"><span class="type">String</span> <span class="variable">uri</span> <span class="operator">=</span> request.getRequestURI();  <span class="comment">// /aaa/testRequest</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取servlet path</span></span><br><span class="line"><span class="type">String</span> <span class="variable">servletPath</span> <span class="operator">=</span> request.getServletPath(); <span class="comment">//   /testRequest</span></span><br></pre></td></tr></table></figure><h3 id="请求域对象request"><a href="#请求域对象request" class="headerlink" title="请求域对象request"></a>请求域对象request</h3><ul><li><code>请求域</code>对象要比<code>应用域</code>对象范围小很多。生命周期短很多。请求域只在一次请求内有效。</li><li>一个请求对象request对应一个请求域对象。一次请求结束之后，这个请求域就销毁了。</li></ul><ul><li>请求域对象也有这三个方法：</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 存（怎么向request请求域中存数据）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAttribute</span><span class="params">(String name, Object value)</span>; <span class="comment">// map.put(k, v)</span></span><br><span class="line"><span class="comment">// 取（怎么从request请求域中取数据）</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">getAttribute</span><span class="params">(String name)</span>; <span class="comment">// Object v = map.get(k)</span></span><br><span class="line"><span class="comment">// 删（怎么删除request请求域中的数据）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">removeAttribute</span><span class="params">(String name)</span>; <span class="comment">// map.remove(k)</span></span><br></pre></td></tr></table></figure><ul><li><strong>请求域和应用域的选用原则:</strong>尽量使用小的域对象，因为小的域对象占用的资源较少。</li></ul><div class="note dafult no-icon flat"><p>两个Servlet怎么共享数据？</p><ul><li>将数据放到ServletContext应用域当中，当然是可以的，但是应用域范围太大，占用资源太多。不建议使用。</li><li>可以将数据放到request域当中，然后AServlet转发到BServlet，保证AServlet和BServlet在同一次请求当中，这样就可以做到两个Servlet，或者多个Servlet共享同一份数据。</li></ul></div><h3 id="转发"><a href="#转发" class="headerlink" title="转发"></a>转发</h3><p><strong>原理：</strong>是由WEB服务器来控制的。A资源跳转到B资源，这个跳转动作是Tomcat服务器内部完成的。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一步：获取请求转发器对象</span></span><br><span class="line"><span class="type">RequestDispatcher</span> <span class="variable">dispatcher</span> <span class="operator">=</span> request.getRequestDispatcher(<span class="string">&quot;/b&quot;</span>);</span><br><span class="line"><span class="comment">// 第二步：调用转发器的forward方法完成跳转/转发</span></span><br><span class="line">dispatcher.forward(request,response);</span><br><span class="line">            </span><br><span class="line"><span class="comment">// 第一步和第二步代码可以联合在一起。</span></span><br><span class="line"> request.getRequestDispatcher(<span class="string">&quot;/b&quot;</span>).forward(request,response);</span><br><span class="line"></span><br><span class="line"><span class="comment">//注意:转发的时候是一次请求,会将当前的request和response对象传递给下一个servlet.</span></span><br><span class="line">         </span><br></pre></td></tr></table></figure><ul><li>转发的下一个资源必须是一个Servlet吗？<ul><li>不一定，只要是Tomcat服务器当中的合法资源，都是可以转发的。例如：html….</li></ul></li></ul><div class="note warning no-icon flat"><p>注意：转发的时候，路径的写法要注意，转发的路径以“/”开始，不加项目名。</p></div><p><strong>关于request对象中两个非常容易混淆的方法：</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// uri?username=zhangsan&amp;userpwd=123&amp;sex=1</span></span><br><span class="line"><span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 之前一定是执行过：request.setAttribute(&quot;name&quot;, new Object())</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> request.getAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以上两个方法的区别是什么？</span></span><br><span class="line"><span class="comment">// 第一个方法：获取的是用户在浏览器上提交的数据。</span></span><br><span class="line"><span class="comment">// 第二个方法：获取的是请求域当中绑定的数据。</span></span><br></pre></td></tr></table></figure><br><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250925213814.png"/></div></div></p><div class="note warning no-icon flat"><p>特点:<br>在请求转发过程中，浏览器只发送一个了个Http请求协议包。<br>参与本次请求的所有Servlet共享同一个请求协议包，因此这些Servlet接收的请求方式与浏览器发送的请求方式保持一致</p></div><h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><p><strong><em>工作原理:</em></strong>由浏览器来完成。具体跳转到哪个资源，是浏览器说了算。<br><strong><em>实现命令：</em></strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">response.sendRedirect(<span class="string">&quot;请求地址&quot;</span>)</span><br><span class="line"><span class="comment">//注意:重定向地址需要加上 项目名</span></span><br><span class="line"><span class="comment">//因为浏览器发送请求是需要加上项目名的</span></span><br></pre></td></tr></table></figure></p><p><strong><em>特征:</em></strong></p><ul><li>请求地址：<ul><li>可以把当前网站内部的资源文件地址发送给浏览器 （/网站名/资源文件名）</li><li>可以把其他网站资源文件地址发送给浏览器(<a href="http://ip地址:端口号/网站名/资源文件名">http://ip地址:端口号/网站名/资源文件名</a>)</li></ul></li><li>请求次数：    <ul><li>浏览器至少发送两次请求，但是只有第一次请求是用户手动发送。</li><li>后续请求都是浏览器自动发送的。</li></ul></li><li>请求方式：<ul><li>重定向解决方案中，通过地址栏通知浏览器发起下一次请求，因此通过重定向解决方案调用的资源文件接收的请求方式一定是<code>GET</code><br><strong><em>缺点:</em></strong><br>重定向解决方案需要在浏览器与服务器之间进行多次往返，大量时间消耗在往返次数上，增加用户等待服务时间<div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250925214354.png"/></div></div></li></ul></li></ul><h4 id="转发和重定向区别"><a href="#转发和重定向区别" class="headerlink" title="转发和重定向区别"></a>转发和重定向区别</h4><p>转发和重定向应该如何选择?什么时候使用转发，什么时候使用重定向?</p><ul><li>如果在上一个Servlet当中向request域当中绑定了数据，希望从下一个Servlet当中把request域里面的数据取出来，使用转发机制。</li><li>剩下所有的请求均使用重定向。(重定向使用较多。)</li><li>他俩跳转的资源只要是服务器内部合法的资源即可。(Servlet,JSP,HTML)…….</li><li>转发会存在浏览器刷新问题,而重定向不会</li></ul><h2 id="Session和Cookie"><a href="#Session和Cookie" class="headerlink" title="Session和Cookie"></a>Session和Cookie</h2><h3 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h3><ul><li>什么是会话？<ul><li>用户打开浏览器，进行一系列操作，然后最终将浏览器关闭，这个整个过程叫做：一次会话。会话在服务器端也有一个对应的java对象，这个java对象叫做：session。</li><li>什么是一次请求：用户在浏览器上点击了一下，然后到页面停下来，可以粗略认为是一次请求。请求对应的服务器端的java对象是：<code>request</code></li></ul></li></ul><div class="note warning no-icon flat"><ul><li>一个会话当中包含多次请求。（一次会话对应N次请求。）</li></ul></div><ul><li>在java的servlet规范当中，session对应的类名：<code>HttpSession</code>（jarkata.servlet.http.HttpSession）</li><li>session机制属于B/S结构的一部分。如果使用php语言开发WEB项目，同样也是有session这种机制的。session机制实际上是一个规范。不同的语言对这种会话机制都有实现。</li><li>session对象最主要的作用是：<code>保存会话状态。</code>（用户登录成功了，这是一种登录成功的状态，你怎么把登录成功的状态一直保存下来呢？使用session对象可以保留会话状态。）</li><li>为什么需要session对象来保存会话状态呢？<ul><li>因为HTTP协议是一种<code>无状态协议</code>。</li><li>什么是无状态：请求的时候，B和S是连接的，但是请求结束之后，连接就断了。HTTP协议为什么要设计成这样？因为这样的无状态协议，可以<strong>降低服务器的压力</strong>。请求的瞬间是连接的，请求结束之后，连接断开，这样服务器压力小。</li><li>B和S断开以后，关闭浏览器这个动作，服务器都不会知道</li></ul></li><li>张三打开一个浏览器A，李四打开一个浏览器B，访问服务器之后，在服务器端会生成：<ul><li>张三专属的session对象</li><li>李四专属的session对象</li><li>每个人通过getSession()方法获取的session对象获得的都是他们专属的session对象</li></ul></li><li>为什么不使用request对象保存会话状态？为什么不使用ServletContext对象保存会话状态？<ul><li>request.setAttribute()存，request.getAttribute()取，ServletContext也有这个方法。request是请求域。ServletContext是应用域。</li><li>ServletContext对象的域太大。request对象域太小，均不适合保存会话状态。</li><li>request请求域（HttpServletRequest）、session会话域（HttpSession）、application域（ServletContext）</li><li><strong>request &lt; session &lt; application</strong></li></ul></li></ul><p><strong><em>session的实现原理：</em></strong></p><ul><li>JSESSIONID=xxxxxx 这个是以Cookie的形式保存在浏览器的内存中的。浏览器只要关闭。这个cookie就没有了。</li><li>session列表是一个Map，map的key是sessionid，map的value是session对象。</li><li>用户第一次请求，服务器生成session对象，同时生成id，将id发送给浏览器。</li><li>用户第二次请求，自动将浏览器内存中的id发送给服务器，服务器根据id查找session对象。</li><li><p>关闭浏览器，内存消失，cookie消失，sessionid消失，会话等同于结束</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250925215605.png"/></div></div></li><li><p>Cookie禁用了，session还能找到吗？</p><ul><li>cookie禁用是什么意思？服务器正常发送cookie给浏览器，但是浏览器不要了。<strong>拒收了。并不是服务器不发了。</strong></li><li>找不到了。每一次请求都会获取到新的session对象。</li><li>cookie禁用了，session机制还能实现吗？<ul><li>可以。需要使用URL重写机制。</li><li><a href="http://localhost:8080/servlet12/test/session;jsessionid=19D1C99560DCBF84839FA43D58F56E16">http://localhost:8080/servlet12/test/session;jsessionid=19D1C99560DCBF84839FA43D58F56E16</a></li><li>URL重写机制会提高开发者的成本。开发人员在编写任何请求路径的时候，后面都要添加一个sessionid，给开发带来了很大的难度，很大的成本。所以大部分的网站都是这样设计的：你要是禁用cookie，你就别用了。</li></ul></li></ul></li></ul><div class="note danger no-icon flat"><ul><li>总结一下到目前位置我们所了解的域对象：<ul><li>request（对应的类名：HttpServletRequest）<ul><li>请求域（请求级别的）</li></ul></li><li>session（对应的类名：HttpSession）<ul><li>会话域（用户级别的）</li></ul></li><li>application（对应的类名：ServletContext）<ul><li>应用域（项目级别的，所有用户共享的。）</li></ul></li><li>这三个域对象的大小关系<ul><li>request &lt; session &lt; application</li></ul></li><li>他们三个域对象都有以下三个公共的方法：<ul><li>setAttribute（向域当中绑定数据）</li><li>getAttribute（从域当中获取数据）</li><li>removeAttribute（删除域当中的数据）</li></ul></li></ul></li><li><strong>使用原则：尽量使用小的域。</strong></li></ul></div><h3 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h3><ul><li>session的实现原理中，<strong>每一个session对象都会关联一个sessionid</strong>，例如：<ul><li>JSESSIONID=41C481F0224664BDB28E95081D23D5B8</li><li>以上的这个键值对数据其实就是cookie对象。</li><li>对于session关联的cookie来说，这个cookie是被保存在浏览器的“运行内存”当中。</li><li>只要浏览器不关闭，用户再次发送请求的时候，会自动将运行内存中的cookie发送给服务器。</li><li>例如，这个Cookie: JSESSIONID=41C481F0224664BDB28E95081D23D5B8就会再次发送给服务器。</li><li>服务器就是根据41C481F0224664BDB28E95081D23D5B8这个值来找到对应的session对象的。</li></ul></li><li><strong>cookie怎么生成？cookie保存在什么地方？cookie有啥用？浏览器什么时候会发送cookie，发送哪些cookie给服务器？？？？？？？</strong><ul><li>cookie最终是保存在浏览器客户端上的。</li><li>可以保存在运行内存中。（浏览器只要关闭cookie就消失了。）</li><li>也可以保存在硬盘文件中。（永久保存。）</li></ul></li><li><strong>cookie有啥用呢？</strong><ul><li>cookie和session机制其实都是为了<code>保存会话</code>的状态。</li><li>cookie是将会话的状态保存在浏览器客户端上。（cookie数据存储在浏览器客户端上的。）</li><li>session是将会话的状态保存在服务器端上。（session对象是存储在服务器上。）</li><li>为什么要有cookie和session机制呢？因为<strong>HTTP协议是无状态,无连接协议。</strong></li></ul></li></ul><details class="folding-tag" blue><summary> cookie的经典案例 </summary>              <div class='content'>              <ul><li>京东商城，在未登录的情况下，向购物车中放几件商品。然后关闭商城，再次打开浏览器，访问京东商城的时候，购物车中的商品还在，这是怎么做的？<strong>没有登录，为什么购物车中还有商品呢？</strong><ul><li>将购物车中的商品编号放到cookie当中，cookie保存在硬盘文件当中。这样即使关闭浏览器。硬盘上的cookie还在。下一次再打开京东商城的时候，查看购物车的时候，会自动读取本地硬盘中存储的cookie，拿到商品编号，动态展示购物车中的商品。<ul><li>京东存储购物车中商品的cookie可能是这样的：productIds=xxxxx,yyyy,zzz,kkkk</li><li>注意：cookie如果清除掉，购物车中的商品就消失了。</li></ul></li></ul></li><li><strong>126邮箱中有一个功能：十天内免登录</strong><ul><li>这个功能也是需要cookie来实现的。</li><li>怎么实现的呢？<ul><li>用户输入正确的用户名和密码，并且同时选择十天内免登录。登录成功后。浏览器客户端会保存一个cookie，这个cookie中保存了用户名和密码等信息，这个cookie是保存在硬盘文件当中的，十天有效。在十天内用户再次访问126的时候，浏览器自动提交126的关联的cookie给服务器，服务器接收到cookie之后，获取用户名和密码，验证，通过之后，自动登录成功。</li></ul></li><li>怎么让cookie失效？<ul><li>十天过后自动失效。</li><li>或者改密码。</li><li>或者在客户端浏览器上清除cookie。</li></ul></li></ul></li></ul>              </div>            </details><ul><li>cookie机制和session机制其实都不属于java中的机制，实际上<strong>cookie机制和session机制都是HTTP协议的一部分</strong>。php开发中也有cookie和session机制，只要是你是做web开发，不管是什么编程语言，cookie和session机制都是需要的。</li><li>HTTP协议中规定：任何一个cookie都是由<code>name</code>和<code>value</code>组成的。<strong>name和value都是字符串类型的。</strong></li><li>在java的servlet中，对cookie提供了哪些支持呢？<ul><li>提供了一个Cookie类来专门表示cookie数据。jakarta.servlet.http.Cookie;</li><li>java程序怎么把cookie数据发送给浏览器呢？response.addCookie(cookie);</li></ul></li><li>在HTTP协议中是这样规定的：当浏览器发送请求的时候，会自动携带该path下的cookie数据给服务器。（URL）</li><li><strong>关于cookie的有效时间</strong><ul><li>怎么用java设置cookie的有效时间<ul><li>cookie.setMaxAge(60 * 60); 设置cookie在一小时之后失效。</li></ul></li><li>没有设置有效时间：默认保存在浏览器的运行内存中，浏览器关闭则cookie消失。</li><li>只要设置cookie的有效时间 &gt; 0，这个cookie一定会存储到硬盘文件当中。</li><li>设置cookie的有效时间 = 0 呢？<ul><li>cookie被删除，同名cookie被删除。</li></ul></li><li>设置cookie的有效时间 &lt; 0 呢？<ul><li>保存在运行内存中。和不设置一样。</li></ul></li></ul></li><li><strong>关于cookie的path，cookie关联的路径：</strong><ul><li>假设现在发送的请求路径是“<a href="http://localhost:8080/servlet13/cookie/generate”生成的cookie，如果cookie没有设置path，默认的path是什么？">http://localhost:8080/servlet13/cookie/generate”生成的cookie，如果cookie没有设置path，默认的path是什么？</a></li><li>默认的path是：<a href="http://localhost:8080/servlet13/cookie">http://localhost:8080/servlet13/cookie</a> 以及它的子路径。</li><li>也就是说，以后只要浏览器的请求路径是<a href="http://localhost:8080/servlet13/cookie">http://localhost:8080/servlet13/cookie</a> 这个路径以及这个路径下的子路径，cookie都会被发送到服务器。</li></ul></li><li><strong>手动设置cookie的path</strong>    <ul><li>cookie.setPath(“/servlet13”); 表示只要是这个servlet13项目的请求路径，都会提交这个cookie给服务器。</li></ul></li></ul><p>浏览器发送cookie给服务器了，服务器中的java程序怎么接收？<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Cookie[] cookies = request.getCookies(); <span class="comment">// 这个方法可能返回null</span></span><br><span class="line"><span class="keyword">if</span>(cookies != <span class="literal">null</span>)&#123;</span><br><span class="line">    <span class="keyword">for</span>(Cookie cookie : cookies)&#123;</span><br><span class="line">        <span class="comment">// 获取cookie的name</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> cookie.getName();</span><br><span class="line">        <span class="comment">// 获取cookie的value</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> cookie.getValue();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>使用cookie实现一下十天内免登录功能。</p><h2 id="过滤器和监听器"><a href="#过滤器和监听器" class="headerlink" title="过滤器和监听器"></a>过滤器和监听器</h2><h3 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h3><ul><li><p>当前的OA项目存在什么缺陷？ </p><ul><li>DeptServlet、EmpServlet、OrderServlet。每一个Servlet都是处理自己相关的业务。在这些Servlet执行之前都是需要判断用户是否登录了。如果用户登录了，可以继续操作，如果没有登录，需要用户登录。这段判断用户是否登录的代码是固定的，并且在每一个Servlet类当中都需要编写，显然代码没有得到重复利用。包括每一个Servlet都要解决中文乱码问题，也有公共的代码。这些代码目前都是重复编写，并没有达到复用。怎么解决这个问题? </li></ul></li><li><p><strong>可以使用Servlet规范中的Filter过滤器来解决用户登录问题。</strong></p></li><li><p><strong>Filter是什么，有什么用，执行原理是什么？</strong></p><ul><li>Filter是过滤器。</li><li>Filter可以在Servlet这个目标程序执行之前添加代码。也可以在目标Servlet执行之后添加代码。之前之后都可以添加过滤规则。</li><li>一般情况下，都是在过滤器当中编写公共代码。</li></ul></li><li><p>一个过滤器怎么写呢？ </p><ul><li>第一步：编写一个Java类实现一个接口：jarkata.servlet.Filter。并且实现这个接口当中所有的方法。 <ul><li><code>init方法</code>：在Filter对象第一次被创建之后调用，并且只调用一次。</li><li><code>doFilter方法</code>：只要用户发送一次请求，则执行一次。发送N次请求，则执行N次。在这个方法中编写过滤规则。</li><li><code>destroy方法</code>：在Filter对象被释放/销毁之前调用，并且只调用一次。</li></ul></li><li>第二步：在web.xml文件中对Filter进行配置。这个配置和Servlet很像。 </li></ul></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>filter2<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.bjpowernode.javaweb.servlet.Filter2<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>filter2<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>或者使用注解：@WebFilter({“*.do”})</li></ul><div class="note warning no-icon flat"><ul><li>注意： <ul><li>Servlet对象默认情况下，在服务器启动的时候是不会新建对象的。</li><li>Filter对象默认情况下，在服务器启动的时候会新建对象。</li><li>Servlet是单例的。Filter也是单例的。（单实例。</li></ul></li></ul></div><ul><li></li><li><p>目标Servlet是否执行，取决于两个条件： </p><ul><li>条件一：在过滤器当中是否编写了：<code>chain.doFilter(request, response)</code></li><li>条件二：用户发送的请求路径是否和Servlet的请求路径一致。</li></ul></li><li><p>chain.doFilter(request, response); 这行代码的作用： </p><ul><li>执行下一个过滤器，如果下面没有过滤器了，执行最终的Servlet。</li></ul></li></ul><div class="note warning no-icon flat"><p><strong>注意：Filter的优先级，天生的就比Servlet优先级高。</strong>若/a.do 对应一个Filter，也对应一个Servlet。那么一定是先执行Filter，然后再执行Servlet。</p></div><ul><li><p>关于Filter的配置路径： </p><ul><li>/a.do、/b.do、/dept/save。这些配置方式都是精确匹配。</li><li>/* 匹配所有路径。</li><li>*.do 后缀匹配。不要以 / 开始</li><li>/dept/*  前缀匹配。</li></ul></li><li><p>在web.xml文件中进行配置的时候，Filter的执行顺序是什么？ </p><ul><li>依靠filter-mapping标签的配置位置，越靠上优先级越高。</li></ul></li><li><p><strong>过滤器的调用顺序，遵循栈数据结构。</strong></p></li><li><p>使用@WebFilter的时候，Filter的执行顺序是怎样的呢？ </p><ul><li>执行顺序是：比较Filter这个类名。</li><li>比如：FilterA和FilterB，则先执行FilterA。</li><li>比如：Filter1和Filter2，则先执行Filter1.</li></ul></li><li><p><strong>Filter的生命周期？</strong></p><ul><li>和Servlet对象生命周期一致。</li><li>唯一的区别：Filter默认情况下，在服务器启动阶段就实例化。Servlet不会。</li></ul></li><li><p>Filter过滤器这里有一个设计模式：   </p><ul><li>责任链设计模式。</li><li>过滤器最大的优点： <ul><li>在程序编译阶段不会确定调用顺序。因为Filter的调用顺序是配置到web.xml文件中的，只要修改web.xml配置文件中filter-mapping的顺序就可以调整Filter的执行顺序。显然Filter的执行顺序是在程序运行阶段动态组合的。那么这种设计模式被称为责任链设计模式。</li></ul></li><li>责任链设计模式最大的核心思想： <ul><li>在程序运行阶段，动态的组合程序的调用顺序。</li></ul></li></ul></li></ul><ul><li><strong>过滤器的实现原理</strong></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250926182404.png"/></div></div><h3 id="Listener监听器"><a href="#Listener监听器" class="headerlink" title="Listener监听器"></a>Listener监听器</h3><ul><li><p>什么是监听器？</p><ul><li>监听器是Servlet规范中的一员。就像Filter一样。Filter也是Servlet规范中的一员。</li><li>在Servlet中，所有的监听器接口都是以“Listener”结尾。</li></ul></li><li><p>监听器有什么用？</p><ul><li>监听器实际上是Servlet规范留给我们javaweb程序员的特殊时机。</li><li>特殊的时刻如果想执行这段代码，你需要想到使用对应的监听器。</li></ul></li><li><p><strong>Servlet规范中提供了哪些监听器？</strong></p><ul><li>jakarta.servlet包下：<ul><li>ServletContextListener</li><li>ServletContextAttributeListener</li><li>ServletRequestListener</li><li>ServletRequestAttributeListener</li></ul></li><li>jakarta.servlet.http包下：<ul><li>HttpSessionListener</li><li>HttpSessionAttributeListener<ul><li>该监听器需要使用@WebListener注解进行标注。</li><li>该监听器监听的是什么？是session域中数据的变化。只要数据变化，则执行相应的方法。主要监测点在session域对象上。</li></ul></li><li>HttpSessionBindingListener<ul><li>该监听器不需要使用<code>@WebListener</code>进行标注。</li><li>假设User类实现了该监听器，那么User对象在被放入session的时候触发bind事件，User对象从session中删除的时候，触发unbind事件。</li><li>假设Customer类没有实现该监听器，那么Customer对象放入session或者从session删除的时候，不会触发bind和unbind事件。</li></ul></li><li>HttpSessionIdListener<ul><li>session的id发生改变的时候，监听器中的唯一一个方法就会被调用。</li></ul></li></ul></li></ul></li><li><p>HttpSessionActivationListener</p><ul><li><strong>监听session对象的<code>钝化</code>和<code>活化</code>的。</strong></li><li>钝化：session对象从内存存储到硬盘文件。</li><li>活化：从硬盘文件把session恢复到内存。</li></ul></li><li><p>实现一个监听器的步骤：以ServletContextListener为例。</p><ul><li>第一步：编写一个类实现ServletContextListener接口。并且实现里面的方法。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">contextInitialized</span><span class="params">(ServletContextEvent event)</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">contextDestroyed</span><span class="params">(ServletContextEvent event)</span></span><br></pre></td></tr></table></figure></li><li>第二步：在web.xml文件中对ServletContextListener进行配置，如下：<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>com.bjpowernode.javaweb.listener.MyServletContextListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>当然，第二步也可以不使用配置文件，也可以用注解，例如：@WebListener</p><div class="note warning no-icon flat"><ul><li>注意：所有监听器中的方法都是不需要javaweb程序员调用的，由服务器来负责调用？什么时候被调用呢？<ul><li>当某个特殊的事件发生（特殊的事件发生其实就是某个时机到了。）之后，被web服务器自动调用。</li></ul></li></ul></div></li></ul><p>思考一个业务场景：</p><ul><li><p>请编写一个功能，<strong>记录该网站实时的在线用户的个数</strong></p><ul><li>我们可以通过服务器端有没有分配session对象来判断在线人数，因为一个session代表了一个用户。有一个session就代表有一个用户。如果你采用这种逻辑去实现的话，session有多少个，在线用户就有多少个。这种方式的话：HttpSessionListener够用了。session对象只要新建，则count++，然后将count存储到ServletContext域当中，在页面展示在线人数即可。</li><li>业务发生改变了，只统计登录的用户的在线数量，这个该怎么办？<ul><li>session.setAttribute(“user”, userObj); </li><li>用户登录的标志是什么？session中曾经存储过User类型的对象。那么这个时候可以让User类型的对象实现HttpSessionBindingListener监听器，只要User类型对象存储到session域中，则count++，然后将count++存储到ServletContext对象中。页面展示在线人数即可。</li></ul></li></ul></li><li><p><strong>实现oa项目中当前登录在线的人数</strong></p><ul><li>什么代表着用户登录了？<ul><li>session.setAttribute(“user”, userObj); User类型的对象只要往session中存储过，表示有新用户登录。</li></ul></li><li>什么代表着用户退出了？<ul><li>session.removeAttribute(“user”); User类型的对象从session域中移除了。</li><li>或者有可能是session销毁了。（session超时）</li></ul></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> JaveWeb </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> javaweb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaWeb---互联网通信</title>
      <link href="/2025/09/24/JaveWeb-%E4%BA%92%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1/"/>
      <url>/2025/09/24/JaveWeb-%E4%BA%92%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1/</url>
      
        <content type="html"><![CDATA[<h1 id="关于系统架构"><a href="#关于系统架构" class="headerlink" title="关于系统架构"></a>关于系统架构</h1><div class="note waning no-icon flat"><p><strong>C/S即为用户下载下来的软件，B/S即为用户输入网址访问的网页</strong></p></div><h2 id="C-S结构"><a href="#C-S结构" class="headerlink" title="C/S结构"></a>C/S结构</h2><p><strong><em>优点:</em></strong></p><ul><li><p><strong>速度快</strong>(大量的数据都是集成在客户端软件当中，所以服务器只需要传送很少的数据量<strong>)</strong></p></li><li><p><strong>服务器压力小</strong>(大量的数据都是集成在客户端软件当中，所以服务器只需要传送很少的数据量<strong>)</strong></p></li><li><p><strong>安全</strong>(大量的数据都是集成在客户端软件当中,数据在多个客户端上有缓存<strong>)</strong></p></li></ul><p><strong><em>缺点:</em></strong></p><ul><li><strong>升级维护比较差劲(每一个客户端都需要单独升级)</strong></li></ul><h2 id="B-S架构"><a href="#B-S架构" class="headerlink" title="B/S架构"></a>B/S架构</h2><p><strong><em>优点:</em></strong></p><ul><li><p><strong>升级维护方便，成本比较低。</strong>（只需要升级服务器端即可。）</p></li><li><p><strong>不需要安装特定的客户端软件,只需要打开浏览器，输入网址即可。</strong></p></li></ul><p><strong><em>缺点:</em></strong></p><ul><li><p><strong>速度慢</strong>(所有的数据都是在服务器上，用户发送的每一个请求都需要服务器来响应数据)</p></li><li><p><strong>不安全</strong>(更改服务器数据后所有用户访问的数据都会更改)</p></li></ul><h1 id="B-S结构的系统通信原理"><a href="#B-S结构的系统通信原理" class="headerlink" title="B/S结构的系统通信原理"></a>B/S结构的系统通信原理</h1><h2 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h2><div class="note info no-icon flat"><p><a href="https://www.baidu.com/(网站">https://www.baidu.com/(网站</a>)<br>www.baidu.com 是一个域名</p></div><ul><li><p>在浏览器地址栏上输入域名，回车之后，域名解析器会将域名解析出来一个具体的<code>IP地址</code>和<code>端口号</code>等。解析结果也许是：<a href="http://110.242.68.3:80/index.html">http://110.242.68.3:80/index.html</a></p></li><li><p>IP地址:  一台主机的身份证号</p></li><li>端口号:  一个软件</li></ul><h2 id="Web系统的通信原理"><a href="#Web系统的通信原理" class="headerlink" title="Web系统的通信原理"></a>Web系统的通信原理</h2><ul><li>用户在地址栏输入网址（URL）</li><li>域名解析器进行域名解析：110.242.68.3:80/index.html</li><li>浏览器软件在网络中搜索并找到110.242.68.3这一台主机</li><li>该台主机定位到80端口对应的服务器软件</li><li>80端口对应的服务器软件得知浏览器想要的资源名是：index.html</li><li>服务器软件找到index.html文件，并且将index.html文件中的内容直接输出响应到浏览器上。</li><li>浏览器接收并执行到来自服务器的代码（HTML CSS JS）</li></ul><h2 id="各部分起到的作用"><a href="#各部分起到的作用" class="headerlink" title="各部分起到的作用"></a>各部分起到的作用</h2><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250924213704.png"/></div></div><ul><li>SUN公司负责制定Servlet规范(通过创建接口的方式)</li><li>各大webapp的开发团队实现SUN公司发布的接口，创建类去实现该接口</li><li>Tomcat负责根据用户不同的请求路径，来寻找对应的XXXservlet，根据反射机制来创建对应的对象</li></ul><div class="note warning no-icon flat"><p>这个配置文件的文件名不能乱来。固定的。<br>这个配置文件的存放路径不能乱来。固定的。</p></div><p><strong>Servlet规范中规定了：</strong></p><ul><li>一个合格的webapp应该是一个怎样的目录结构。</li><li>一个合格的webapp应该有一个怎样的配置文件。</li><li>一个合格的webapp配置文件路径放在哪里。</li><li>一个合格的webapp中java程序放在哪里。</li><li>这些都是Servlet规范中规定的。</li><li>Tomcat服务器要遵循Servlet规范。JavaWEB程序员也要遵循这个Servlet规范。这样Tomcat服务器和webapp才能解耦合。</li></ul><h2 id="使用IDEA开发一个Servlet的web"><a href="#使用IDEA开发一个Servlet的web" class="headerlink" title="使用IDEA开发一个Servlet的web"></a>使用IDEA开发一个Servlet的web</h2><h3 id="第一步：基础搭建"><a href="#第一步：基础搭建" class="headerlink" title="第一步：基础搭建"></a>第一步：基础搭建</h3><ul><li><p><strong>创建项目</strong></p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/1754130539354-eae9a9f1-79c5-4fd1-899a-c5bf8be583cb.png"/></div></div></li><li><p><strong>添加模块</strong><br>双击Shift    ——&gt;Add Framework Support..(添加框架支持)———&gt;选择Web Application</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250925131417.png"/></div></div></li><li><p><strong>导入依赖</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>jakarta.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jakarta.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="第二步：编写Servlet"><a href="#第二步：编写Servlet" class="headerlink" title="第二步：编写Servlet"></a>第二步：编写Servlet</h3><p>实现jakarta.servlet.Servlet接口中的5个方法。<br><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/1754131098196-53fef0cd-385f-4178-874f-51d9a4411983.png"/></div></div></p><h3 id="第三步-在web-xml文件中完成StudentServlet类的注册"><a href="#第三步-在web-xml文件中完成StudentServlet类的注册" class="headerlink" title="第三步: 在web.xml文件中完成StudentServlet类的注册"></a>第三步: 在web.xml文件中完成StudentServlet类的注册</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>studentServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.bjpowernode.javaweb.servlet.StudentServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>studentServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servlet/student<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="第四步-给一个html页面，在HTML页面中编写一个超链接"><a href="#第四步-给一个html页面，在HTML页面中编写一个超链接" class="headerlink" title="第四步:给一个html页面，在HTML页面中编写一个超链接"></a>第四步:给一个html页面，在HTML页面中编写一个超链接</h3><ul><li>student.html</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--这里的项目名是 /xmm ，无法动态获取，先写死--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/xmm/servlet/student&quot;</span>&gt;</span>student list<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="第五步：让IDEA工具去关联Tomcat服务器。"><a href="#第五步：让IDEA工具去关联Tomcat服务器。" class="headerlink" title="第五步：让IDEA工具去关联Tomcat服务器。"></a>第五步：让IDEA工具去关联Tomcat服务器。</h3><ol><li>Add Configuration</li><li>左上角加号，点击Tomcat Server —&gt; local<div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/1710849953450-a3e709f9-b321-4db7-a653-a5b5b634dbc2.png"/></div></div></li><li>Deployment（点击这个用来部署webapp），继续点击加号，部署即可。修改 Application context为：/xmm<div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250925131858.png"/></div></div></li></ol><h3 id="第六步-启动tom服务器，浏览器输入地址"><a href="#第六步-启动tom服务器，浏览器输入地址" class="headerlink" title="第六步:启动tom服务器，浏览器输入地址"></a>第六步:启动tom服务器，浏览器输入地址</h3><p>打开浏览器，在浏览器地址栏上输入：<a href="http://localhost:8080/xmm/student.html">http://localhost:8080/xmm/student.html</a><br>注意:前端发送请求要加项目名</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/1710850613636-63c201e9-a100-415e-bc4f-7469abc87e68.png"/></div></div><h1 id="Http协议"><a href="#Http协议" class="headerlink" title="Http协议"></a>Http协议</h1><p><code>HTTP协议</code>：是W3C制定的一种超文本传输协议。(通信协议：发送消息的模板提前被制定好。)</p><ul><li>HTTP协议包括： <ul><li>请求协议 <ul><li>浏览器  向  WEB服务器发送数据的时候，这个发送的数据需要遵循一套标准，这套标准中规定了发送的数据具体格式。</li></ul></li><li>响应协议 <ul><li>WEB服务器  向  浏览器发送数据的时候，这个发送的数据需要遵循一套标准，这套标准中规定了发送的数据具体格式。</li></ul></li></ul></li></ul><h2 id="1-HTTP的请求协议（B-—-gt-S）"><a href="#1-HTTP的请求协议（B-—-gt-S）" class="headerlink" title="1.HTTP的请求协议（B —&gt; S）"></a>1.HTTP的请求协议（B —&gt; S）</h2><ul><li><p>HTTP的请求协议包括：</p><ul><li>请求行</li><li>请求头</li><li>空白行</li><li>请求体</li></ul></li><li><p>HTTP请求协议的具体报文：<code>GET请求</code></p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">GET /servlet05/getServlet?username=lucy&amp;userpwd=<span class="number">1111</span> HTTP/<span class="number">1.1</span>                       请求行</span><br><span class="line">Host: localhost:<span class="number">8080</span>                                                                请求头</span><br><span class="line">Connection: keep-alive</span><br><span class="line">sec-ch-ua: <span class="string">&quot;Google Chrome&quot;</span>;v=<span class="string">&quot;95&quot;</span>, <span class="string">&quot;Chromium&quot;</span>;v=<span class="string">&quot;95&quot;</span>, <span class="string">&quot;;Not A Brand&quot;</span>;v=<span class="string">&quot;99&quot;</span></span><br><span class="line">sec-ch-ua-mobile: ?<span class="number">0</span></span><br><span class="line">sec-ch-ua-platform: <span class="string">&quot;Windows&quot;</span></span><br><span class="line">Upgrade-Insecure-Requests: <span class="number">1</span></span><br><span class="line">User-Agent: Mozilla/<span class="number">5.0</span> (Windows NT <span class="number">10.0</span>; Win64; x64) AppleWebKit/<span class="number">537.36</span> (KHTML, like Gecko) Chrome/<span class="number">95.0</span><span class="number">.4638</span><span class="number">.54</span> Safari/<span class="number">537.36</span></span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=<span class="number">0.9</span>,image/avif,image/webp,image/apng,*<span class="comment">/*;q=0.8,application/signed-exchange;v=b3;q=0.9</span></span><br><span class="line"><span class="comment">Sec-Fetch-Site: same-origin</span></span><br><span class="line"><span class="comment">Sec-Fetch-Mode: navigate</span></span><br><span class="line"><span class="comment">Sec-Fetch-User: ?1</span></span><br><span class="line"><span class="comment">Sec-Fetch-Dest: document</span></span><br><span class="line"><span class="comment">Referer: http://localhost:8080/servlet05/index.html</span></span><br><span class="line"><span class="comment">Accept-Encoding: gzip, deflate, br</span></span><br><span class="line"><span class="comment">Accept-Language: zh-CN,zh;q=0.9</span></span><br><span class="line"><span class="comment">                                                                                    空白行</span></span><br><span class="line"><span class="comment">                                                                                    请求体</span></span><br></pre></td></tr></table></figure><ul><li>HTTP请求协议的具体报文：POST请求 </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">POST /servlet05/postServlet HTTP/<span class="number">1.1</span>                                              请求行</span><br><span class="line">Host: localhost:<span class="number">8080</span>                                                              请求头</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Content-Length: <span class="number">25</span></span><br><span class="line">Cache-Control: max-age=<span class="number">0</span></span><br><span class="line">sec-ch-ua: <span class="string">&quot;Google Chrome&quot;</span>;v=<span class="string">&quot;95&quot;</span>, <span class="string">&quot;Chromium&quot;</span>;v=<span class="string">&quot;95&quot;</span>, <span class="string">&quot;;Not A Brand&quot;</span>;v=<span class="string">&quot;99&quot;</span></span><br><span class="line">sec-ch-ua-mobile: ?<span class="number">0</span></span><br><span class="line">sec-ch-ua-platform: <span class="string">&quot;Windows&quot;</span></span><br><span class="line">Upgrade-Insecure-Requests: <span class="number">1</span></span><br><span class="line">Origin: http:<span class="comment">//localhost:8080</span></span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">User-Agent: Mozilla/<span class="number">5.0</span> (Windows NT <span class="number">10.0</span>; Win64; x64) AppleWebKit/<span class="number">537.36</span> (KHTML, like Gecko) Chrome/<span class="number">95.0</span><span class="number">.4638</span><span class="number">.54</span> Safari/<span class="number">537.36</span></span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=<span class="number">0.9</span>,image/avif,image/webp,image/apng,*<span class="comment">/*;q=0.8,application/signed-exchange;v=b3;q=0.9</span></span><br><span class="line"><span class="comment">Sec-Fetch-Site: same-origin</span></span><br><span class="line"><span class="comment">Sec-Fetch-Mode: navigate</span></span><br><span class="line"><span class="comment">Sec-Fetch-User: ?1</span></span><br><span class="line"><span class="comment">Sec-Fetch-Dest: document</span></span><br><span class="line"><span class="comment">Referer: http://localhost:8080/servlet05/index.html</span></span><br><span class="line"><span class="comment">Accept-Encoding: gzip, deflate, br</span></span><br><span class="line"><span class="comment">Accept-Language: zh-CN,zh;q=0.9</span></span><br><span class="line"><span class="comment">                                                                                  空白行</span></span><br><span class="line"><span class="comment">username=lisi&amp;userpwd=123                                                         请求体</span></span><br></pre></td></tr></table></figure><p><strong><em>请求行</em></strong> </p><ul><li>包括三部分： <ul><li>第一部分：请求方式（7种） <ul><li>get（常用的）</li><li>post（常用的）</li><li>delete</li><li>put</li><li>head</li><li>options</li><li>trace</li></ul></li><li>第二部分：URI <ul><li>什么是URI？ 统一资源标识符。代表网络中某个资源的名字。但是通过URI是无法定位资源的。</li><li>什么是URL？统一资源定位符。代表网络中某个资源，同时，通过URL是可以定位到该资源的。</li><li>URI和URL什么关系，有什么区别？ <ul><li>URL包括URI</li><li><a href="http://localhost:8080/servlet05/index.html">http://localhost:8080/servlet05/index.html</a> 这是URL。</li><li>/servlet05/index.html 这是URI。</li></ul></li></ul></li><li>第三部分：HTTP协议版本号</li></ul></li></ul><p><strong><em>请求头</em></strong></p><ul><li>请求的主机</li><li>主机的端口</li><li>浏览器信息</li><li>平台信息</li><li>cookie等信息</li><li>….</li></ul><p><strong><em>空白行</em></strong></p><ul><li>空白行是用来区分“请求头”和“请求体”</li></ul><p><strong><em>请求体</em></strong></p><ul><li>向服务器发送的具体数据。</li></ul><h2 id="2-HTTP的响应协议（S-—-gt-B）"><a href="#2-HTTP的响应协议（S-—-gt-B）" class="headerlink" title="2. HTTP的响应协议（S —&gt; B）"></a>2. HTTP的响应协议（S —&gt; B）</h2><ul><li>HTTP的响应协议包括：4部分 <ul><li>状态行</li><li>响应头</li><li>空白行</li><li>响应体</li></ul></li><li>HTTP响应协议的具体报文： </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">200</span> ok                                     状态行</span><br><span class="line">Content-Type: text/html;charset=UTF-<span class="number">8</span>               响应头</span><br><span class="line">Content-Length: <span class="number">160</span></span><br><span class="line">Date: Mon, 08 Nov <span class="number">2021</span> <span class="number">13</span>:<span class="number">19</span>:<span class="number">32</span> GMT</span><br><span class="line">Keep-Alive: timeout=<span class="number">20</span></span><br><span class="line">Connection: keep-alive</span><br><span class="line">                                                    空白行</span><br><span class="line">&lt;!doctype html&gt;                                     响应体</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;from get servlet&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h1&gt;from get servlet&lt;/h1&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><strong><em>状态行</em></strong></p><ul><li>三部分组成 <ul><li>第一部分：协议版本号（HTTP/1.1）</li><li>第二部分：状态码（HTTP协议中规定的响应状态号。不同的响应结果对应不同的号码。） <ul><li><strong>1xx: 信息响应：</strong>这类响应结果不是很常见<ul><li>100 Continue: 服务器已接收请求头，客户端应继续发送请求主体。</li><li>101 Switching Protocols: 服务器同意切换协议。</li></ul></li><li><strong>2xx: 成功：</strong>这类状态码基本都是请求成功。<ul><li>200 OK: 请求成功，服务器已返回请求的数据。</li><li>201 Created: 请求已成功，并且服务器创建了新的资源。</li><li>202 Accepted: 服务器已接受请求，但尚未处理。</li><li>204 No Content: 请求成功但无返回内容。</li></ul></li><li><strong>3xx: 重定向：</strong>这类状态码一般是用于告诉浏览器请求的站点已经被移动到其他地址了，需要更换到新的地址。<ul><li>301 Moved Permanently: 请求的资源已被永久移动到新URL。</li><li>302 Found: 请求的资源临时被移动到新URL。</li><li>304 Not Modified: 资源未被修改，可以使用缓存的版本。</li></ul></li><li><strong>4xx: 客户端错误：</strong>这类状态码在我们后续学习中会经常碰到，基本都是由于浏览器发送的请求少携带了什么数据或是请求有问题之类的。<ul><li>400 Bad Request: 服务器无法理解请求的格式。</li><li>401 Unauthorized: 请求需要用户认证。</li><li>403 Forbidden: 服务器拒绝请求。</li><li>404 Not Found: 服务器找不到请求的资源。</li><li>405 Method Not Allowed: 请求方法被禁用。</li><li>429 Too Many Requests: 客户端在给定的时间内发送了太多请求。</li></ul></li><li><strong>5xx: 服务器错误：</strong>这类状态码也会在外面后续学习中经常碰到，基本都是由于服务端出现错误导致的。<ul><li>500 Internal Server Error: 服务器内部错误。</li><li>501 Not Implemented: 服务器不支持请求的功能。</li><li>502 Bad Gateway: 网关或代理服务器收到无效响应。</li><li>503 Service Unavailable: 服务器暂时无法处理请求（超负载或维护）。</li><li>504 Gateway Timeout: 网关或代理服务器未及时收到上游服务器的响应。<br><strong>响应头：</strong> </li></ul></li></ul></li></ul></li><li>响应的内容类型</li><li>响应的内容长度</li><li>响应的时间</li><li>….</li></ul><p><strong>空白行：</strong> </p><ul><li>用来分隔“响应头”和“响应体”的。</li></ul><p><strong>响应体：</strong>         </p><ul><li>响应体就是响应的正文，这些内容是一个长的字符串，这个字符串被浏览器渲染，解释并执行，最终展示出效果。</li><li>怎么向服务器发送GET请求，怎么向服务器发送POST请求？ <ul><li>到目前为止，只有一种情况可以发送POST请求：使用form表单，并且form标签中的method属性值为：method=”post”。</li></ul></li></ul><h2 id="3-GET和POST有什么区别"><a href="#3-GET和POST有什么区别" class="headerlink" title="3.GET和POST有什么区别?"></a>3.GET和POST有什么区别?</h2><ul><li><strong>GET请求和POST请求有什么区别？</strong>   <ul><li>（get请求在“请求行”上发送数据） get请求发送数据的时候，数据会挂在URI的后面，并且在URI后面添加一个“?”，”?”后面是数据。这样会导致发送的数据显示浏览器的地址栏上:<a href="http://localhost:8080/servlet05/getServlet?username=zhangsan&amp;userpwd=1111">http://localhost:8080/servlet05/getServlet?username=zhangsan&amp;userpwd=1111</a></li><li>（post请求在“请求体”当中发送数据）post请求发送数据时在请求体中发送，不会回显到浏览器的地址栏上</li></ul></li><li><strong>发送内容上的区别</strong><ul><li>get请求只能发送普通的字符串。并且发送的字符串长度有限制，不同的浏览器限制不同。</li><li>get请求无法发送大数据量。</li><li>post请求可以发送任何类型的数据，包括普通字符串，流媒体等信息：视频、声音、图片。</li><li>post请求可以发送大数据量，理论上没有长度限制。</li></ul></li><li><strong>适用情况的区别</strong><ul><li>get请求在W3C中是这样说的：get请求比较适合从服务器端获取数据。</li><li>post请求在W3C中是这样说的：post请求比较适合向服务器端传送数据。</li></ul></li><li><p><strong>数据安全性（正确使用的前提下）</strong></p><ul><li>get请求是安全的。get请求是绝对安全的。为什么？因为get请求只是为了从服务器上获取数据。不会对服务器造成威胁。</li><li>post请求是危险的。为什么？因为post请求是向服务器提交数据，如果这些数据通过后门的方式进入到服务器当中，服务器是很危险的。另外post是为了提交数据，所以一般情况下拦截请求的时候，大部分会选择拦截（监听）post请求。</li></ul></li><li><p><strong>是否支持缓存</strong></p><ul><li>get请求支持缓存。 <ul><li>实际上，你只要发送get请求，浏览器做的第一件事都是先从本地浏览器缓存中找，找不到的时候才会去服务器上获取。这种缓存机制目的是为了提高用户的体验。</li></ul></li><li>post请求不支持缓存。(POST是用来修改服务器端的资源的.)</li></ul></li><li><strong>Get请求和POST请求如何选择？</strong><ul><li>如果想从服务器获取资源，建议使用GET请求，如果这个请求是为了向服务器提交数据，建议使用POST请求</li><li>大部分的form表单提交都是post方式，因为form表单中要填写大量的数据，这些数据时手机用户信息，一般需要传给服务器，服务器将数据保存/修改</li><li>如果表单有敏感信息，建议使用post请求，因为get请求会回显信息到地址栏上（如：密码信息）</li><li>做文件上传时一定是post请求，因为传输的数据不是普通文本</li><li>其他情况都可以使用GET请求</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> JavaWeb </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> javaweb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring入门</title>
      <link href="/2025/09/21/Spring-2025-09-21-Spring/"/>
      <url>/2025/09/21/Spring-2025-09-21-Spring/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring启示录"><a href="#Spring启示录" class="headerlink" title="Spring启示录"></a>Spring启示录</h1><h2 id="OCP开闭原则"><a href="#OCP开闭原则" class="headerlink" title="OCP开闭原则"></a>OCP开闭原则</h2><ul><li><strong><code>开闭原则规定</code></strong>：软件开发中应做到 <strong><code>对拓展开放，对修改关闭</code></strong>。即程序可以对原有功能进行拓展，但是不能因为拓展功能而修改原本可以正常运行的程序。因为因为一旦修改，会导致整个项目要进行全方位的重新测试。而导致这个问题的主要原因是：<strong>代码之间耦合度过高</strong></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250921142953.png"/></div></div><ul><li>在这个程序里上层依赖下层。<code>UserController</code>依赖<code>UserServiceImpl</code>，而<code>UserServiceImpl</code>依赖<code>UserDaoImplForMySQL</code>，这样就会导致<strong>下面只要改动，上面必然会受牵连（跟着也会改）</strong>，所谓牵一发而动全身。这样也就同时违背了另一个开发原则：<strong><code>依赖倒置原则</code></strong>。</li></ul><h2 id="依赖倒置原则"><a href="#依赖倒置原则" class="headerlink" title="依赖倒置原则"></a>依赖倒置原则</h2><ul><li>依赖倒置原则(Dependence Inversion Principle)，简称<code>DIP</code>。主要倡导<strong>面向抽象编程，面向接口编程。（不直接手动new对象，由系统为属性分配对象）</strong>,该原则包含两个关键点：<ul><li><strong>高层模块不应该依赖低层模块，两者都应该依赖抽象</strong>。此处抽象通常指<code>接口</code>或者<code>抽象类</code></li><li><strong>抽象不应该依赖细节，细节(具体实现)应该依赖抽象</strong></li></ul></li><li>实现该原则的核心问题：<ol><li><strong>谁来创建对象</strong></li><li><strong>谁来负责为新建的对象赋值</strong></li></ol></li></ul><div class="note info no-icon flat"><ul><li>Spring框架为我们解决了这两个问题。</li><li>通过将对象的创建权/管理权交出去，不再使用硬编码的格式去操纵对象。像这种把对象的创建权和管理权交出去，被称为<code>控制反转</code>。</li></ul></div><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250921143706.png"/></div></div><h2 id="Ioc控制反转"><a href="#Ioc控制反转" class="headerlink" title="Ioc控制反转"></a>Ioc控制反转</h2><ul><li><code>控制反转（Inversion of Control,缩写为IOC）</code>是一种更宽泛的<code>设计模式或架构原则</code>，能够用来降低代码代码之间的耦合度，符合依赖倒置原则。</li><li>控制反转的核心是：<strong>将对象的创建权交出去，将对象和对象之间关系的管理权交出去，有第三方容器来负责创建与维护</strong></li><li></li></ul><p><strong>目的：</strong></p><ul><li><strong>解耦组件：</strong> 组件不需要自己定位或创建依赖，只需要声明需要什么（如通过构造函数参数、setter 方法、字段标注）。容器负责满足这些依赖。</li><li><strong>集中管理配置和生命周期：</strong> 对象的创建、依赖关系、作用域（单例、原型等）可以在一个地方（如 XML、注解、Java Config）集中配置和管理。</li><li><strong>提高可测试性：</strong> 依赖可以更容易地被 Mock 或 Stub 替换进行单元测试。</li><li><strong>促进模块化和可重用性：</strong> 组件更专注于自身业务逻辑，不涉及复杂的依赖管理代码。</li><li><strong>为 AOP 等高级特性提供基础：</strong> IoC 容器是实现面向切面编程（AOP）的常见基础。</li></ul><ul><li>控制反转常见的实现方式：<code>依赖注入</code></li><li>通常依赖注入的方式有两种：<ul><li><strong>Set注入</strong></li><li><strong>构造注入</strong></li></ul></li></ul><h1 id="Spring概述"><a href="#Spring概述" class="headerlink" title="Spring概述"></a>Spring概述</h1><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250921151210.png"/></div></div><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250921151701.png"/></div></div><details class="folding-tag" ><summary> Spirng Context模块 </summary>              <div class='content'>              <p>如果说核心模块中的BeanFactory使Spirng成为容器，那么上下文模块就是Spring成为框架的原因</p><p>此模块拓展类BeanFactory，增加了对国际化（I18N）消息、事件传播、验证的支持。另外提供了许多企业服务，例如电子邮件、JNDI访问、EJB集成、远程以及时序调度（scheduling）服务。也包括了对模版框架例如Velocity和FreeMarker集成的支持</p>              </div>            </details><details class="folding-tag" ><summary> Spring AOP模块 </summary>              <div class='content'>              <p>Spring在它的AOP模块中提供了对面向切面编程的丰富支持，Spring AOP 模块为基于 Spring 的应用程序中的对象提供了事务管理服务。通过使用 Spring AOP，不用依赖组件，就可以将声明性事务管理集成到应用程序中，可以自定义拦截器、切点、日志等操作。</p>              </div>            </details><details class="folding-tag" ><summary> Spring DAO模块 </summary>              <div class='content'>              <p>提供了一个JDBC的抽象层和异常层次结构，消除了烦琐的JDBC编码和数据库厂商特有的错误代码解析，用于简化JDBC。</p>              </div>            </details><details class="folding-tag" ><summary> Spring ORM模块 </summary>              <div class='content'>              <p>Spring提供了ORM模块。Spring并不试图实现它自己的ORM解决方案，而是为几种流行的ORM框架提供了集成方案，包括Hibernate、JDO和iBATIS SQL映射，这些都遵从 Spring 的通用事务和 DAO 异常层次结构。</p>              </div>            </details><details class="folding-tag" ><summary> Spring web MVC模块 </summary>              <div class='content'>              <p>Spring为构建Web应用提供了一个功能全面的MVC框架。虽然Spring可以很容易地与其它MVC框架集成，例如Struts，但Spring的MVC框架使用IoC对控制逻辑和业务对象提供了完全的分离。</p>              </div>            </details><details class="folding-tag" ><summary> Spring webFlux模块 </summary>              <div class='content'>              <p>Spring Framework 中包含的原始 Web 框架 Spring Web MVC 是专门为 Servlet API 和 Servlet 容器构建的。反应式堆栈 Web 框架 Spring WebFlux 是在 5.0 版的后期添加的。它是完全非阻塞的，支持反应式流(Reactive Stream)背压，并在Netty，Undertow和Servlet 3.1+容器等服务器上运行。</p>              </div>            </details><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250921153238.png"/></div></div><details class="folding-tag" ><summary> Spring web模块 </summary>              <div class='content'>              <p>Web 上下文模块建立在应用程序上下文模块之上，为基于 Web 的应用程序提供了上下文，提供了Spring和其它Web框架的集成，比如Struts、WebWork。还提供了一些面向服务支持，例如：实现文件上传的multipart请求。</p>              </div>            </details><h2 id="Spring的特点"><a href="#Spring的特点" class="headerlink" title="Spring的特点"></a>Spring的特点</h2><ul><li><strong>轻量级</strong><ul><li>从大小与开销两方面而言Spring都是轻量的。完整的Spring框架可以在一个大小只有1MB多的JAR文件里发布。并且Spring所需的处理开销也是微不足道的。</li><li>Spring是<code>非侵入式</code>的：Spring应用中的对象不依赖于Spring的特定类。</li></ul></li><li><strong>控制反转</strong><ul><li>Spring通过一种称作控制反转（IoC）的技术促进了松耦合。当应用了IoC，一个对象依赖的其它对象会通过被动的方式传递进来，而不是这个对象自己创建或者查找依赖对象。你可以认为IoC与JNDI相反——不是对象从容器中查找依赖，而是容器在对象初始化时不等对象请求就主动将依赖传递给它。</li></ul></li><li><strong>面向切面</strong><ul><li>Spring提供了面向切面编程的丰富支持，允许通过分离应用的业务逻辑与系统级服务（例如审计（auditing）和事务（transaction）管理）进行内聚性的开发。应用对象只实现它们应该做的——完成业务逻辑——仅此而已。它们并不负责（甚至是意识）其它的系统级关注点，例如日志或事务支持。</li></ul></li><li><strong>容器</strong><ul><li>Spring包含并管理应用对象的配置和生命周期，在这个意义上它是一种容器，你可以配置你的每个bean如何被创建——基于一个可配置原型（prototype），你的bean可以创建一个单独的实例或者每次需要时都生成一个新的实例——以及它们是如何相互关联的。然而，Spring不应该被混同于传统的重量级的EJB容器，它们经常是庞大与笨重的，难以使用。</li></ul></li><li><strong>框架</strong><ul><li>Spring可以将简单的组件配置、组合成为复杂的应用。在Spring中，应用对象被声明式地组合，典型地是在一个XML文件里。Spring也提供了很多基础功能（事务管理、持久化框架集成等等），将应用逻辑的开发留给了你。</li></ul></li></ul><div class="note warning no-icon flat"><p>Spring的这些特征能使编写更干净、更可管理、并且更易于测试的代码。它们也为Spring中的各种模块提供了基础支持。</p></div><h1 id="Spring-入门程序"><a href="#Spring-入门程序" class="headerlink" title="Spring 入门程序"></a>Spring 入门程序</h1><h2 id="引入依赖"><a href="#引入依赖" class="headerlink" title="引入依赖"></a>引入依赖</h2><ul><li>Spring有各种Jar包，来满足不同需求，仅仅使用Spring的IOC功能，只需要引入spring-context这个Jar包即可</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.1.14<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>当引入Spring-Context包之后，还会关联引入一些其他的依赖：</p><div class="tabs" id="设置依赖"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#设置依赖-1">关联引入</button></li><li class="tab"><button type="button" data-href="#设置依赖-2">Maven</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="设置依赖-1"><p><strong>spring aop：</strong> 面向切面编程<br><strong>spring beans：</strong> IoC核心<br><strong>spring core：</strong> spring的核心工具包<br><strong>spring jcl：</strong> spring的日志包<br><strong>spring expression：</strong> spring表达式</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="设置依赖-2"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250921154021.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="定义bean：User"><a href="#定义bean：User" class="headerlink" title="定义bean：User"></a>定义bean：User</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.powernode.spring6.bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="编写Spring的配置文件"><a href="#编写Spring的配置文件" class="headerlink" title="编写Spring的配置文件"></a>编写Spring的配置文件</h2><ul><li>创建一个Spring的配置文件，命名为beans.xml，来统一管理Bean，该文件放在类的根路径下</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--这就是Spring的配置文件--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--IDEA工具为我们提供了这个文件的模板，一定要使用这个模板来创建。--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--这个文件名不一定叫微spring.xml，可以是其它名字。--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--这个文件最好是放在类路径当中，方便后期的移植。--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--放在resources根日灵下，就相当于是放到了类的根路径下。--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 配bean，这样spring才可以帮助我们管理这个对象。--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">  bean标签的两个重要属性:</span></span><br><span class="line"><span class="comment">  id:是这个bean的身份证号，不能重复，是唯一的标识。</span></span><br><span class="line"><span class="comment">  cLass: 必须填写类的全路径，全限定类名。 (带包名的类名)</span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.bean.User&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="编写测试程序"><a href="#编写测试程序" class="headerlink" title="编写测试程序"></a>编写测试程序</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.powernode.spring6.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Spring6Test</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFirst</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="comment">// 第一步:获取Spring 容器对象。</span></span><br><span class="line"><span class="comment">// ApplicationContext 翻译为:应用上下文。其实就是Spring容器</span></span><br><span class="line"><span class="comment">// ApplicationContext 是一个接口。</span></span><br><span class="line"><span class="comment">//ApplicationContext 接口下有很多实现类。其中有一个实现类叫做: CLassPathXmLApplicationContext</span></span><br><span class="line"><span class="comment">// CLassPathXmlApplicationContext 专门从类路径当中加我spring配置文件的一个Spring上下文对象。</span></span><br><span class="line"><span class="comment">// 这行代码只要执行:就相当于启动了Spring容器，解析spring.xml文件，并且实例化所有的ben对象，放到spring容器当中。</span></span><br><span class="line"><span class="comment">// 初始化Spring容器上下文（解析beans.xml文件，创建所有的bean对象）</span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;beans.xml&quot;</span>);</span><br><span class="line"><span class="comment">//第二部:根据id获取bean对象</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">userBean</span> <span class="operator">=</span> applicationContext.getBean(<span class="string">&quot;userBean&quot;</span>);</span><br><span class="line">System.out.println(userBean);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>需要注意的问题：<ul><li>spring的配置文件中id不能重复</li><li>Spirng底层是通过反射机制调用无参数的构造方法，因此想让spring创建对象，必须保证无参数构造方法存在</li><li>配置文件的名称不固定，需要我们在创建类之前手动提供配置文件</li><li>beans.xml这样的配置文件可以有多个，初始化Spring之前指定好即可</li><li>Spring配置文件配置的bean既可以是JDK中的类，也可以是自定义的，只要这个类不是抽象的，且提供了无参构造方法即可</li><li>直接getBean（）方法返回的类型是Object类，如果想直接返回指定类，则需要添加类的Class类型作为第二个参数</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> applicationContext.getBean(<span class="string">&quot;userBean&quot;</span>, User.class);</span><br></pre></td></tr></table></figure><h2 id="使用Bean工厂获得Bean"><a href="#使用Bean工厂获得Bean" class="headerlink" title="使用Bean工厂获得Bean"></a>使用Bean工厂获得Bean</h2><p>BeanFactory是Application的超级父接口，也可以用来加载Bean</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BeanFactory</span> <span class="variable">beanFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring.xml&quot;</span>);</span><br><span class="line"><span class="type">Object</span> <span class="variable">vipBean</span> <span class="operator">=</span> beanFactory.getBean(<span class="string">&quot;vipBean&quot;</span>);</span><br><span class="line">System.out.println(vipBean);</span><br></pre></td></tr></table></figure><h2 id="启用Log4j2日志框架"><a href="#启用Log4j2日志框架" class="headerlink" title="启用Log4j2日志框架"></a>启用Log4j2日志框架</h2><ul><li>首先引入Log4j2的依赖</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--log4j2的依赖--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.19.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-slf4j2-impl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.19.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>然后在类的根路径提供一个log4j2.xml的配置文件（文件名固定，且必须放到类的根路径下）</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">loggers</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    level指定日志级别，从低到高的优先级：</span></span><br><span class="line"><span class="comment">    ALL &lt; TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; OFF</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;spring6log&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">loggers</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">appenders</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--输出日志信息到控制台--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">console</span> <span class="attr">name</span>=<span class="string">&quot;spring6log&quot;</span> <span class="attr">target</span>=<span class="string">&quot;SYSTEM_OUT&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--控制日志输出的格式--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;%d&#123;yyyy-MM-dd HH:mm:ss SSS&#125; [%t] %-3level %logger&#123;1024&#125; - %msg%n&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">console</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">appenders</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>使用日志框架</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Spring6Test</span> &#123;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFirst</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;beans.xml&quot;</span>);</span><br><span class="line"><span class="type">Object</span> <span class="variable">userBean</span> <span class="operator">=</span> applicationContext.getBean(<span class="string">&quot;userBean&quot;</span>);</span><br><span class="line">System.out.println(userBean);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 你自己怎么去使og4j2 记录日志信息呢?</span></span><br><span class="line"><span class="comment">// 第一步:创建日志记录器对象</span></span><br><span class="line"><span class="comment">// 获FirstSpringTest类的日志记录器对象，也就是说只要FirstSpringTest类中的代码执行记录日志的话，就输出相关的日志信息。</span></span><br><span class="line"><span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(Spring6Test.class);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二步:记录日志，根不同的级别来输出日志</span></span><br><span class="line">logger.info(<span class="string">&quot;我是一条日志消息&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;我是一条调试消息&quot;</span>);</span><br><span class="line">logger.error(<span class="string">&quot;我是一条错误消息&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Spring对IoC的实现"><a href="#Spring对IoC的实现" class="headerlink" title="Spring对IoC的实现"></a>Spring对IoC的实现</h1><h2 id="IoC控制反转"><a href="#IoC控制反转" class="headerlink" title="IoC控制反转"></a>IoC控制反转</h2><ul><li><strong>Ioc控制反转是一种设计思想，而依赖注入是IoC思想的具体实现。</strong></li><li>IoC控制反转的作用：降低程序耦合度，提高程序扩展力，达到OCP原则的实现。</li><li>Ioc控制反转中，反转的是什么？<ul><li>反转的是对象间依赖关系的控制权。</li><li>将对象的创建权利和对象间关系的维护权交出去，交给第三方容器负责</li></ul></li></ul><h2 id="依赖注入"><a href="#依赖注入" class="headerlink" title="依赖注入"></a>依赖注入</h2><ul><li>Spring通过依赖注入来完成Bean的管理</li><li>两种注入方式：<ul><li>Set注入</li><li>构造注入</li></ul></li><li>Bean管理： Bean对象的创建，以及Bean对象中属性的赋值（Bean对象间关系的维护）</li></ul><h3 id="Set注入"><a href="#Set注入" class="headerlink" title="Set注入"></a>Set注入</h3><ul><li>Set注入是基于Set方法实现的，故需提供对应的Set方法，且Set方法应符合<code>标准命名规范</code>，底层会通过反射来调用Set方法给属性赋值</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.dao.UserDao&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userServiceBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.service.UserService&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDaoBean&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><strong>实现原理：</strong><ul><li>通过Property标签来获得属性名，ref属性来获得注入的属性类型(通过ref属性来完成bean的装配，这是bean最简单的一种装配方式。装配指的是：创建系统组件之间关联的动作)</li><li>通过属性名来推断出Set方法名（故Set方法应遵循标准命名规范）</li><li>利用反射机制调用相关Set方法来给属性赋值</li></ul></li></ul><h3 id="构造注入"><a href="#构造注入" class="headerlink" title="构造注入"></a>构造注入</h3><ul><li><strong>核心原理：调用构造方法为属性赋值</strong><div class="tabs" id="构造注入"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#构造注入-1">一个参数</button></li><li class="tab"><button type="button" data-href="#构造注入-2">多个参数</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="构造注入-1"><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;orderDaoBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.dao.OrderDao&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;orderServiceBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.service.OrderService&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--index=&quot;0&quot;表示构造方法的第一个参数，将orderDaoBean对象传递给构造方法的第一个参数。--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;0&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;orderDaoBean&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderService</span> &#123;</span><br><span class="line"><span class="keyword">private</span> OrderDao orderDao;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过反射机制调用构造方法给属性赋值</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">OrderService</span><span class="params">(OrderDao orderDao)</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.orderDao = orderDao;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">()</span>&#123;</span><br><span class="line">orderDao.deleteById();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="构造注入-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderService</span> &#123;</span><br><span class="line"><span class="keyword">private</span> OrderDao orderDao;</span><br><span class="line"><span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过反射机制调用构造方法给属性赋值</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">OrderService</span><span class="params">(OrderDao orderDao, UserDao userDao)</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.orderDao = orderDao;</span><br><span class="line"><span class="built_in">this</span>.userDao = userDao;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">()</span>&#123;</span><br><span class="line">orderDao.deleteById();</span><br><span class="line">userDao.insert();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;orderDaoBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.dao.OrderDao&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;orderServiceBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.service.OrderService&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--第一个参数下标是0--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;0&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;orderDaoBean&quot;</span>/&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--第二个参数下标是1--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;1&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDaoBean&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.dao.UserDao&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li><li>也可以不使用参数的下标，直接使用参数的名字实现构造注入，建议最好顺序不要乱，这样会更清晰</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;orderDaoBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.dao.OrderDao&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;orderServiceBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.service.OrderService&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--没有指定下标，也没有指定参数名字--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">ref</span>=<span class="string">&quot;orderDaoBean&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">ref</span>=<span class="string">&quot;userDaoBean&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.dao.UserDao&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><ul><li>构造注入：<ul><li>可以通过下标来指定参数的位置</li><li>可以通过参数名字来指定参数的位置</li><li>也可以不指定下标和参数名，根据类型自动推断</li></ul></li></ul><h2 id="Set注入专题"><a href="#Set注入专题" class="headerlink" title="Set注入专题"></a>Set注入专题</h2><h3 id="注入外部Bean"><a href="#注入外部Bean" class="headerlink" title="注入外部Bean"></a>注入外部Bean</h3><ul><li>前面演示的Set注入就是注入外部Bean的方式</li><li>注入外部Bean的特点：Bean定义在外面，直接使用ref标签注入即可</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.dao.UserDao&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userServiceBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.service.UserService&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDaoBean&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="注入内部Bean"><a href="#注入内部Bean" class="headerlink" title="注入内部Bean"></a>注入内部Bean</h3><ul><li>注入内部Bean的特点：Bean定义在里面，需要在Bean标签中嵌套Bean标签,用的较少</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userServiceBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.service.UserService&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.dao.UserDao&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="注入简单类型"><a href="#注入简单类型" class="headerlink" title="注入简单类型"></a>注入简单类型</h3><ul><li>简单类型包括：<ul><li>基本数据类型</li><li>基本数据类型的包装型</li><li>String和Class</li><li>Number子类</li><li>Date可以通过PropertyEditor 或 Converter 将字符串转换为日期类型</li><li>Enum子类</li><li>URL等扩展类型均可以</li></ul></li><li>注入简单类型的特点：直接使用value标签注入即可</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:config.properties&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><h3 id="级联属性赋值（了解）"><a href="#级联属性赋值（了解）" class="headerlink" title="级联属性赋值（了解）"></a>级联属性赋值（了解）</h3><ul><li>级联属性赋值：在Spring的Set注入中，集合中存放的是对象类型，可以直接在集合定义时为内部对象的属性赋值，简单来说就是可以在Set中给对象的私有属性赋值，而不需要单独创建对象再Set</li><li>要点：<ul><li>必须注意配置顺序正确</li><li>在Spring的配置文件中，clazz属性必须提供Getter方法，因为在复制过程中，Spring需要通过Getter方法获取clazz，再为clazz的属性赋值</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Clazz</span> &#123;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Clazz</span><span class="params">()</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Clazz</span><span class="params">(String name)</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> Clazz clazz;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, Clazz clazz)</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.name = name;</span><br><span class="line"><span class="built_in">this</span>.clazz = clazz;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;clazzBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.Clazz&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;张三&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--要点1：以下两行配置的顺序不能颠倒--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;clazz&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;clazzBean&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--要点2：clazz属性必须有getter方法--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;clazz.name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;高三一班&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="注入数组"><a href="#注入数组" class="headerlink" title="注入数组"></a>注入数组</h3><ul><li>当数组中元素是简单类型时直接使用数组标签即可</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;person&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.Person&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;favariteFoods&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>鸡排<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>汉堡<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>鹅肝<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>当数组中的元素是非简单类型时，需要使用array标签的ref元素来引用其他Bean<div class="tabs" id="注入非简单类型"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#注入非简单类型-1">定义商品</button></li><li class="tab"><button type="button" data-href="#注入非简单类型-2">定义订单</button></li><li class="tab"><button type="button" data-href="#注入非简单类型-3">配置文件</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="注入非简单类型-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Goods</span> &#123;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Goods</span><span class="params">()</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Goods</span><span class="params">(String name)</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="注入非简单类型-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Order</span> &#123;</span><br><span class="line"><span class="comment">// 一个订单中有多个商品</span></span><br><span class="line"><span class="keyword">private</span> Goods[] goods;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Order</span><span class="params">()</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Order</span><span class="params">(Goods[] goods)</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.goods = goods;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="注入非简单类型-3"><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  //分别创建两个bean代表不同种类的水果</span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;goods1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.Goods&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;西瓜&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;goods2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.Goods&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;苹果&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;order&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.Order&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;goods&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--这里使用ref标签即可--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;goods1&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;goods2&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ul><div class="note warning no-icon flat"><p>要点：</p><ul><li>数组是简单类型，使用value标签</li><li>数组是飞简单类型，使用ref标签</li></ul></div><h3 id="注入List集合"><a href="#注入List集合" class="headerlink" title="注入List集合"></a>注入List集合</h3><ul><li>与注入数组类似，使用List标签即可，如果是简单类型，使用value标签，如果是非简单类型，使用ref标签</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line"><span class="comment">// 一个人有多个名字</span></span><br><span class="line"><span class="keyword">private</span> List&lt;String&gt; names;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;peopleBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.People&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;names&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>铁锤<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>张三<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>张三<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>张三<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>狼<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="注入Set集合"><a href="#注入Set集合" class="headerlink" title="注入Set集合"></a>注入Set集合</h3><ul><li>与注入其他类型一致，使用<set>标签，简单类型使用value，非简单类型可以使用ref</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line">    <span class="comment">// 一个人有多个电话</span></span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt; phones;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;peopleBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.People&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;phones&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--非简单类型可以使用ref，简单类型使用value--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>110<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>110<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>120<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>120<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>119<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>119<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="注入Map集合"><a href="#注入Map集合" class="headerlink" title="注入Map集合"></a>注入Map集合</h3><p><strong>要点：</strong></p><ul><li><strong>使用<map>标签</strong></li><li><strong>如果key是简单类型，使用 key 属性，反之使用 key-ref 属性。</strong></li><li><strong>如果value是简单类型，使用 value 属性，反之使用 value-ref 属性。</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line">    <span class="comment">// 一个人有多个住址</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;Integer, String&gt; addrs;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;peopleBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.People&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;addrs&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--如果key不是简单类型，使用 key-ref 属性--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--如果value不是简单类型，使用 value-ref 属性--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;北京大兴区&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;2&quot;</span> <span class="attr">value</span>=<span class="string">&quot;上海浦东区&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;3&quot;</span> <span class="attr">value</span>=<span class="string">&quot;深圳宝安区&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="注入Properties"><a href="#注入Properties" class="headerlink" title="注入Properties"></a>注入Properties</h3><ul><li>java.util.Properties继承java.util.Hashtable，所以Properties本质上也是一个Map集合,故注入方式类似</li></ul><p><strong>要点：</strong></p><ul><li><strong>使用<props>标签</strong></li><li><strong>如果key是简单类型，使用 key 属性，反之使用 key-ref 属性。</strong></li><li><strong>如果value是简单类型，使用 value 属性，反之使用 value-ref 属性。</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Properties properties;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="注入null和空字符串"><a href="#注入null和空字符串" class="headerlink" title="注入null和空字符串"></a>注入null和空字符串</h3><ul><li>注入空字符串使用：<value/> 或者 value=””</li><li>注入null使用：<null/> 或者 不为该属性赋值</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;vipBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.Vip&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--空串的第一种方式--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;property name=&quot;email&quot; value=&quot;&quot;/&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--空串的第二种方式--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">  //注入Null的第一种</span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;vipBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.Vip&quot;</span> /&gt;</span></span><br><span class="line">  //注入Null的第二种</span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;vipBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.Vip&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">null</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="注入的值含义特殊符号"><a href="#注入的值含义特殊符号" class="headerlink" title="注入的值含义特殊符号"></a>注入的值含义特殊符号</h3><ul><li>XML中有5个特殊字符，分别是：&lt;、&gt;、’、”、&amp;</li><li>以上5个特殊符号在XML中会被特殊对待，会被当做XML语法的一部分进行解析，如果这些特殊符号直接出现在注入的字符串当中就会报错。</li></ul><p>解决方案包括两种：</p><ul><li>第一种：特殊符号使用转义字符代替。</li><li>第二种：将含有特殊符号的字符串放到：&lt;![CDATA[]]&gt; 当中。因为放在CDATA区中的数据不会被XML文件解析器解析。</li></ul><p>5个特殊字符对应的转义字符分别是：</p><div class="table-container"><table><thead><tr><th style="text-align:center"><strong>特殊字符</strong></th><th style="text-align:center"><strong>转义字符</strong></th></tr></thead><tbody><tr><td style="text-align:center">&gt;</td><td style="text-align:center">&gt;</td></tr><tr><td style="text-align:center">&lt;</td><td style="text-align:center">&lt;</td></tr><tr><td style="text-align:center">‘</td><td style="text-align:center">&apos;</td></tr><tr><td style="text-align:center">“</td><td style="text-align:center">&quot;</td></tr><tr><td style="text-align:center">&amp;</td><td style="text-align:center">&amp;</td></tr></tbody></table></div><div class="tabs" id="转义"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#转义-1">转义字符</button></li><li class="tab"><button type="button" data-href="#转义-2">![CDATA[]]</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="转义-1"><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;mathBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.Math&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;result&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2 <span class="symbol">&amp;lt;</span> 3&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="转义-2"><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;mathBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.Math&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;result&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--只能使用value标签--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>&lt;![CDATA[2 &lt; 3]]&gt;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="P命名空间注入"><a href="#P命名空间注入" class="headerlink" title="P命名空间注入"></a>P命名空间注入</h2><ul><li>目的：简化Set注入。</li><li>前提条件：<ul><li>在XML文件中引入P命名空间：<code>xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</code></li><li>P命名空间是基于Setter方法的，所以需要对应属性提供Setter方法</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.powernode.spring6.beans;</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Customer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;customerBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.Customer&quot;</span> <span class="attr">p:name</span>=<span class="string">&quot;zhangsan&quot;</span> <span class="attr">p:age</span>=<span class="string">&quot;20&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="C命名空间注入"><a href="#C命名空间注入" class="headerlink" title="C命名空间注入"></a>C命名空间注入</h2><ul><li>目的：简化构造注入。</li><li>前提条件：<ul><li>在XML文件中引入C命名空间：<code>xmlns:c=&quot;http://www.springframework.org/schema/c&quot;</code></li><li>C命名空间是基于构造方法的，所以需要对应属性提供构造方法</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.powernode.spring6.beans;</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyTime</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> year;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> month;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> day;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyTime</span><span class="params">(<span class="type">int</span> year, <span class="type">int</span> month, <span class="type">int</span> day)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.year = year;</span><br><span class="line">        <span class="built_in">this</span>.month = month;</span><br><span class="line">        <span class="built_in">this</span>.day = day;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:c</span>=<span class="string">&quot;http://www.springframework.org/schema/c&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--&lt;bean id=&quot;myTimeBean&quot; class=&quot;com.powernode.spring6.beans.MyTime&quot; c:year=&quot;1970&quot; c:month=&quot;1&quot; c:day=&quot;1&quot;/&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myTimeBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.MyTime&quot;</span> <span class="attr">c:_0</span>=<span class="string">&quot;2008&quot;</span> <span class="attr">c:_1</span>=<span class="string">&quot;8&quot;</span> <span class="attr">c:_2</span>=<span class="string">&quot;8&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="note warning no-icon flat"><p>不管是p命名空间还是c命名空间，注入的时候都可以注入简单类型以及非简单类型。</p></div><h2 id="Util命名空间"><a href="#Util命名空间" class="headerlink" title="Util命名空间"></a>Util命名空间</h2><ul><li>目的：让配置复用</li><li>前提条件：在XML文件中引入Util命名空间：<code>xmlns:util=&quot;http://www.springframework.org/schema/util&quot;</code></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">  http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">util:properties</span> <span class="attr">id</span>=<span class="string">&quot;prop&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;driver&quot;</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;url&quot;</span>&gt;</span>jdbc:mysql://localhost:3306/spring<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;username&quot;</span>&gt;</span>root<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;password&quot;</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">util:properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.MyDataSource1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;properties&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;prop&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.beans.MyDataSource2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;properties&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;prop&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="基于XML的自动装配"><a href="#基于XML的自动装配" class="headerlink" title="基于XML的自动装配"></a>基于XML的自动装配</h2><ul><li>Spring的自动化注入又被称为<code>自动装配</code>，能根据<code>名字</code>进行自动装配，也可根据<code>类型</code>进行自动装配。</li><li>无论是通过名字还是类型进行自动装配，都是基于<code>Set方法</code>进行自动装配的，所以Set方法必须提供。(不考虑使用注解)</li></ul><h3 id="基于名字进行自动装配"><a href="#基于名字进行自动装配" class="headerlink" title="基于名字进行自动装配"></a>基于名字进行自动装配</h3><ul><li>底层调用Set方法进行注入。主要是根据属性名称所对应的Set方法与Bean的ID之间的关联进行自动装配</li></ul><div class="tabs" id="user"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#user-1">UserDao</button></li><li class="tab"><button type="button" data-href="#user-2">UserService</button></li><li class="tab"><button type="button" data-href="#user-3">配置文件</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="user-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;正在保存用户数据。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="user-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> UserDao aaa;</span><br><span class="line">    <span class="comment">// 这个set方法非常关键</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAaa</span><span class="params">(UserDao aaa)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.aaa = aaa;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>&#123;</span><br><span class="line">        aaa.insert();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="user-3"><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.service.UserService&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byName&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;aaa&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.powernode.spring6.dao.UserDao&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><ul><li>配置文件中的autowire=”byName”起到关键作用，表示通过名称进行自动装配</li><li>UserService类中有一个UserDao属性，而UserDao属性的名字是aaa，对应的set方法是setAaa()，正好和UserDao Bean的id是一样的。这就是根据名称自动装配。</li></ul><h3 id="基于类型进行自动装配"><a href="#基于类型进行自动装配" class="headerlink" title="基于类型进行自动装配"></a>基于类型进行自动装配</h3>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
          <category> Java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Ajax</title>
      <link href="/2025/09/18/Ajax-java%E5%85%A5%E9%97%A8/"/>
      <url>/2025/09/18/Ajax-java%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="Ajax的使用"><a href="#Ajax的使用" class="headerlink" title="Ajax的使用"></a>Ajax的使用</h1><h2 id="传统请求及缺点"><a href="#传统请求及缺点" class="headerlink" title="传统请求及缺点"></a>传统请求及缺点</h2><ul><li><p>传统的请求都有哪些？</p></li><li><p>点击超链接</p></li><li>提交form表单</li><li><p>使用JS代码发送请求</p></li><li><p>window.open(url)</p></li><li>document.location.href = url</li><li>window.location.href = url</li><li><p>….</p></li><li><p>传统请求存在的问题</p></li><li><p>页面全部刷新导致了用户的体验较差。</p></li><li>传统的请求导致用户的体验有空白期。（用户的体验是不连贯的）</li></ul><h2 id="AJAX概述"><a href="#AJAX概述" class="headerlink" title="AJAX概述"></a>AJAX概述</h2><ul><li>AJAX不能称为一种技术，它是多种技术的综合产物。</li><li>AJAX可以让浏览器发送一种特殊的请求，这种请求可以是：异步的。</li><li><p>什么是异步，什么是同步？</p></li><li><p>假设有t1和t2线程，t1和t2线程并发，就是异步。</p></li><li>假设有t1和t2线程，t2在执行的时候，必须等待t1线程执行到某个位置之后t2才能执行，那么t2在等t1，显然他们是排队的，排队的就是同步。</li><li><p><strong>AJAX可以发送异步请求</strong>。也就是说，在同一个浏览器页面当中，可以发送多个ajax请求，这些ajax请求之间不需要等待，是并发的。</p></li><li><p>AJAX代码属于WEB前端的JS代码。和后端的java没有关系，后端也可以是php语言，也可以是C语言。</p></li><li>AJAX 应用程序可能使用 XML 来传输数据，但将数据作为纯文本或 JSON 文本传输也同样常见。</li><li><strong>AJAX可以更新网页的部分，而不需要重新加载整个页面。（页面局部刷新）</strong></li><li>AJAX可以做到在同一个网页中同时启动多个请求，类似于在同一个网页中启动“多线程”，一个“线程”一个“请求”。</li></ul><h2 id="XMLHttpRequest对象"><a href="#XMLHttpRequest对象" class="headerlink" title="XMLHttpRequest对象"></a>XMLHttpRequest对象</h2><ul><li>XMLHttpRequest对象是AJAX的核心对象，发送请求以及接收服务器数据的返回，全靠它了。</li><li>XMLHttpRequest对象，现代浏览器都是支持的，都内置了该对象。直接用即可。</li><li>创建XMLHttpRequest对象</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var xhr = new XMLHttpRequest();</span><br></pre></td></tr></table></figure><ul><li><strong>XMLHttpRequest对象的方法</strong></li></ul><div class="table-container"><table><thead><tr><th><strong>方法</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>abort()</td><td>取消当前请求</td></tr><tr><td>getAllResponseHeaders()</td><td>返回头部信息</td></tr><tr><td>getResponseHeader()</td><td>返回特定的头部信息</td></tr><tr><td>open(<em>method</em>, <em>url</em>, <em>async</em>, <em>user</em>, <em>psw</em>)</td><td>规定请求method：请求类型 GET 或 POSTurl：文件位置async：true（异步）或 false（同步）user：可选的用户名称psw：可选的密码</td></tr><tr><td>send()</td><td>将请求发送到服务器，用于 GET 请求</td></tr><tr><td>send(<em>string</em>)</td><td>将请求发送到服务器，用于 POST 请求</td></tr><tr><td>setRequestHeader()</td><td>向要发送的报头添加标签/值对</td></tr></tbody></table></div><ul><li><strong>XMLHttpRequest对象的属性</strong></li></ul><div class="table-container"><table><thead><tr><th><strong>属性</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>onreadystatechange</td><td>定义当 readyState 属性发生变化时被调用的函数</td></tr><tr><td>readyState</td><td>保存 XMLHttpRequest 的状态。0：请求未初始化 1：服务器连接已建立 2：请求已收到 3：正在处理请求 4：请求已完成且响应已就绪</td></tr><tr><td>responseText</td><td>以字符串返回响应数据</td></tr><tr><td>responseXML</td><td>以 XML 数据返回响应数据</td></tr><tr><td>status</td><td>返回请求的状态号200: “OK”403: “Forbidden”404: “Not Found”</td></tr><tr><td>statusText</td><td>返回状态文本（比如 “OK” 或 “Not Found”）</td></tr></tbody></table></div><h2 id="AJAX-GET请求"><a href="#AJAX-GET请求" class="headerlink" title="AJAX GET请求"></a>AJAX GET请求</h2><p>发送AJAX get请求，前端代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>发送ajax get请求<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn&quot;</span>).<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">//1. 创建AJAX核心对象</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">//2. 注册回调函数</span></span></span><br><span class="line"><span class="language-javascript">          xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">readyState</span> == <span class="number">4</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">status</span> == <span class="number">200</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 通过XMLHttpRequest对象的responseText属性可以获取到服务器响应回来的内容。</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 并且不管服务器响应回来的是什么，都以普通文本的形势获取。（服务器可能响应回来：普通文本、XML、JSON、HTML...）</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// innerHTML属性是javascript中的语法，和ajax的XMLHttpRequest对象无关。</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// innerHTML可以设置元素内部的HTML代码。（innerHTML可以将后面的内容当做一段HTML代码解释并执行）</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//document.getElementById(&quot;myspan&quot;).innerHTML = this.responseText</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mydiv&quot;</span>).<span class="property">innerHTML</span> = <span class="variable language_">this</span>.<span class="property">responseText</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// innerText也不是AJAX中的，是javascript中的元素属性，和XMLHttpRequest无关。</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// innerText也是设置元素中的内容，但是即使后面是一段HTML代码，也是将其看做一个普通字符串设置进去。</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//document.getElementById(&quot;myspan&quot;).innerText = this.responseText</span></span></span><br><span class="line"><span class="language-javascript">              &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">status</span>)</span></span><br><span class="line"><span class="language-javascript">              &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">//3. 开启通道</span></span></span><br><span class="line"><span class="language-javascript">          xhr.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;/ajax/ajaxrequest2&quot;</span>, <span class="literal">true</span>)</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">//4. 发送请求</span></span></span><br><span class="line"><span class="language-javascript">          xhr.<span class="title function_">send</span>()</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>发送ajax get请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;myspan&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mydiv&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="AJAX-GET请求的缓存问题"><a href="#AJAX-GET请求的缓存问题" class="headerlink" title="AJAX GET请求的缓存问题"></a>AJAX GET请求的缓存问题</h2><ul><li>对于<strong>低版本</strong>的IE浏览器来说，AJAX的get请求可能会走缓存。存在缓存问题。对于现代的浏览器来说，<strong>大部分浏览器都已经不存在AJAX get缓存问题</strong>了。</li><li><p>什么是AJAX GET请求缓存问题呢？</p></li><li><p>在HTTP协议中是这样规定get请求的：get请求会被缓存起来。</p></li><li><p>发送AJAX GET请求时，在同一个浏览器上，前后发送的AJAX请求路径一样的话，对于低版本的IE来说，第二次的AJAX GET请求会走缓存，不走服务器。</p></li><li><p>POST请求在HTTP协议中规定的是：POST请求不会被浏览器缓存。</p></li><li><p>GET请求缓存的优缺点：</p></li><li><p>优点：直接从浏览器缓存中获取资源，不需要从服务器上重新加载资源，速度较快，用户体验好。</p></li><li><p>缺点：无法实时获取最新的服务器资源。</p></li><li><p>浏览器什么时候会走缓存？</p></li><li><p>第一：是一个GET请求</p></li><li><p>第二：请求路径已经被浏览器缓存过了。第二次发送请求的时候，这个路径没有变化，会走浏览器缓存。</p></li><li><p>如果是低版本的IE浏览器，怎么解决AJAX GET请求的缓存问题呢？</p></li><li><p>可以在请求路径url后面添加一个时间戳，这个时间戳是随时变化的。所以每一次发送的请求路径都是不一样的，这样就不会走浏览器的缓存问题了。</p></li><li>可以采用时间戳：”url?t=” + new Date().getTime()</li><li>或者可以通过随机数：”url?t=” + Math.random()</li><li>也可以随机数+时间戳….</li></ul><h2 id="AJAX-POST请求"><a href="#AJAX-POST请求" class="headerlink" title="AJAX POST请求"></a>AJAX POST请求</h2><ul><li>AJAX POST请求和GET请求只是前端代码有区别。后端代码没有区别。</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 4. 发送AJAX POST请求</span><br><span class="line">xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;) // 设置请求头的内容类型。模拟form表单提交数据。</span><br><span class="line">// 获取表单中的数据</span><br><span class="line">var username = document.getElementById(&quot;username&quot;).value;</span><br><span class="line">var password = document.getElementById(&quot;password&quot;).value;</span><br><span class="line">// send函数中的参数就是发送的数据，这个数据在“请求体”当中发送。</span><br><span class="line">xhr.send(&quot;username=&quot;+username+&quot;&amp;password=&quot;+password)</span><br></pre></td></tr></table></figure><ul><li><p>实现一个案例：使用AJAX POST请求实现用户注册的时候，用户名是否可用。（验证用户名是否可以注册）实现步骤如下：</p></li><li><p>在前端，用户输入用户名之后，失去焦点事件blur发生，然后发送AJAX POST请求，提交用户名</p></li><li>在后端，接收到用户名，连接数据库，根据用户名去表中搜索</li><li><p>如果用户名已存在</p></li><li><p>后端响应消息：对不起，用户名已存在（在前端页面以红色字体展示）</p></li><li><p>如果用户名不存在</p></li><li><p>后端响应消息：用户名可以使用（在前端页面以绿色字体展示）</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;AJAX POST请求验证用户名是否可用&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">      window.onload = function()&#123;</span><br><span class="line">        </span><br><span class="line">        document.getElementById(&quot;username&quot;).onfocus = function ()&#123;</span><br><span class="line">          document.getElementById(&quot;tipMsg&quot;).innerHTML = &quot;&quot;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        document.getElementById(&quot;username&quot;).onblur = function ()&#123;</span><br><span class="line">          //console.log(&quot;正在发送AJAX POST请求验证用户名&quot;)</span><br><span class="line">          // 发送AJAX POST请求</span><br><span class="line">          // 1.</span><br><span class="line">          var xhr = new XMLHttpRequest()</span><br><span class="line">          // 2.</span><br><span class="line">          xhr.onreadystatechange = function () &#123;</span><br><span class="line">            if (this.readyState == 4) &#123;</span><br><span class="line">              if (this.status == 200) &#123;</span><br><span class="line">                document.getElementById(&quot;tipMsg&quot;).innerHTML = this.responseText</span><br><span class="line">              &#125;else&#123;</span><br><span class="line">                alert(this.status)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          // 3.</span><br><span class="line">          xhr.open(&quot;POST&quot;, &quot;/ajax/ajaxrequest4&quot;, true)</span><br><span class="line">          // 4.</span><br><span class="line">          xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)</span><br><span class="line">          // 获取表单数据</span><br><span class="line">          var username = document.getElementById(&quot;username&quot;).value</span><br><span class="line">          xhr.send(&quot;uname=&quot; + username)//这个uname随便写,前端的发送，后端使用这个接受</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">    </span><br><span class="line">    用户名：&lt;input type=&quot;text&quot; id=&quot;username&quot;&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;span id=&quot;tipMsg&quot;&gt;&lt;/span&gt;</span><br><span class="line">    </span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">package com.bjpowernode.ajax.servlet;</span><br><span class="line"></span><br><span class="line">import jakarta.servlet.ServletException;</span><br><span class="line">import jakarta.servlet.annotation.WebServlet;</span><br><span class="line">import jakarta.servlet.http.HttpServlet;</span><br><span class="line">import jakarta.servlet.http.HttpServletRequest;</span><br><span class="line">import jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.PrintWriter;</span><br><span class="line">import java.sql.*;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @program: 代码</span><br><span class="line"> * @ClassName: AjaxRequest4Servlet</span><br><span class="line"> * @version: 1.0</span><br><span class="line"> * @description: 验证用户名是否可用</span><br><span class="line"> * @author: bjpowernode</span><br><span class="line"> * @create: 2022-05-14 10:19</span><br><span class="line"> **/</span><br><span class="line">@WebServlet(&quot;/ajaxrequest4&quot;)</span><br><span class="line">public class AjaxRequest4Servlet extends HttpServlet &#123;</span><br><span class="line">    @Override</span><br><span class="line">    protected void doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">            throws ServletException, IOException &#123;</span><br><span class="line">        // 获取用户名</span><br><span class="line">        String uname = request.getParameter(&quot;uname&quot;);</span><br><span class="line">        // 打布尔标记（一种编程模型）</span><br><span class="line">        boolean flag = false; // 默认是用户名不存在。</span><br><span class="line">        // 连接数据库验证用户名是否存在</span><br><span class="line">        Connection conn = null;</span><br><span class="line">        PreparedStatement ps = null;</span><br><span class="line">        ResultSet rs = null;</span><br><span class="line">        try &#123;</span><br><span class="line">            // 1.注册驱动</span><br><span class="line">            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);</span><br><span class="line">            // 2.获取连接</span><br><span class="line">            conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/bjpowernode?useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=UTC&quot;, &quot;root&quot;, &quot;root&quot;);</span><br><span class="line">            // 3.获取预编译的数据库操作对象</span><br><span class="line">            String sql = &quot;select id,name from t_user where name = ?&quot;;</span><br><span class="line">            ps = conn.prepareStatement(sql);</span><br><span class="line">            ps.setString(1, uname);</span><br><span class="line">            // 4.执行SQL语句</span><br><span class="line">            rs = ps.executeQuery();</span><br><span class="line">            // 5.处理结果集</span><br><span class="line">            if (rs.next()) &#123;</span><br><span class="line">                // 用户名已存在。</span><br><span class="line">                flag = true;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            // 6.释放资源</span><br><span class="line">            if (rs != null) &#123;</span><br><span class="line">                try &#123;</span><br><span class="line">                    rs.close();</span><br><span class="line">                &#125; catch (SQLException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if (ps != null) &#123;</span><br><span class="line">                try &#123;</span><br><span class="line">                    ps.close();</span><br><span class="line">                &#125; catch (SQLException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if (conn != null) &#123;</span><br><span class="line">                try &#123;</span><br><span class="line">                    conn.close();</span><br><span class="line">                &#125; catch (SQLException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 响应结果到浏览器</span><br><span class="line">        response.setContentType(&quot;text/html;charset=UTF-8&quot;);</span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        if (flag) &#123;</span><br><span class="line">            // 用户名已存在，不可用</span><br><span class="line">            out.print(&quot;&lt;font color=&#x27;red&#x27;&gt;对不起，用户名已存在&lt;/font&gt;&quot;);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            // 用户名不存在，可以使用</span><br><span class="line">            out.print(&quot;&lt;font color=&#x27;green&#x27;&gt;用户名可以使用&lt;/font&gt;&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>实现一个案例：用户点击按钮之后，发送AJAX请求，显示学生列表。</p></li><li><p>在后端java程序中拼接HTML代码，然后将HTML代码直接响应到浏览器客户端。</p></li></ul><h2 id="基于JSON的数据交换"><a href="#基于JSON的数据交换" class="headerlink" title="基于JSON的数据交换"></a>基于JSON的数据交换</h2><p>在WEB前端中如何将一个json格式的字符串转换成json对象</p><p>最简单粗暴的方法：在后端拼接JSON格式的字符串，响应给前端的浏览器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">json.append(&quot;[&quot;);</span><br><span class="line">while (rs.next()) &#123;</span><br><span class="line">    // 获取每个学生的信息</span><br><span class="line">    String name = rs.getString(&quot;name&quot;);</span><br><span class="line">    String age = rs.getString(&quot;age&quot;);</span><br><span class="line">    String addr = rs.getString(&quot;addr&quot;);</span><br><span class="line">    // 拼接json格式的字符串</span><br><span class="line">    // &#123;&quot;name&quot;:&quot;   王五    &quot;,&quot;age&quot;:    20      ,&quot;addr&quot;:&quot;      北京大兴区     &quot;&#125;,</span><br><span class="line">    json.append(&quot;&#123;\&quot;name\&quot;:\&quot;&quot;);</span><br><span class="line">    json.append(name);</span><br><span class="line">    json.append(&quot;\&quot;,\&quot;age\&quot;:&quot;);</span><br><span class="line">    json.append(age);</span><br><span class="line">    json.append(&quot;,\&quot;addr\&quot;:\&quot;&quot;);</span><br><span class="line">    json.append(addr);</span><br><span class="line">    json.append(&quot;\&quot;&#125;,&quot;);</span><br><span class="line">&#125;</span><br><span class="line">jsonStr = json.substring(0, json.length() - 1) + &quot;]&quot;;</span><br></pre></td></tr></table></figure><p>但在后端拼接JSON格式的字符串过于痛苦，可以使用阿里巴巴的fastjson组件，可以直接将java对象转换成json格式的字符串</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Student&gt; studentList = new ArrayList&lt;&gt;();</span><br><span class="line">while (rs.next()) &#123;</span><br><span class="line">    // 取出数据</span><br><span class="line">    String name = rs.getString(&quot;name&quot;);</span><br><span class="line">    int age = rs.getInt(&quot;age&quot;);</span><br><span class="line">    String addr = rs.getString(&quot;addr&quot;);</span><br><span class="line">    // 将以上数据封装成Student对象</span><br><span class="line">    Student s = new Student(name, age, addr);</span><br><span class="line">    // 将Student对象放到List集合</span><br><span class="line">    studentList.add(s);</span><br><span class="line">&#125;</span><br><span class="line">// 将List集合转换成json字符串</span><br><span class="line">jsonStr = JSON.toJSONString(studentList);</span><br></pre></td></tr></table></figure><p><strong>注意：使用fastjson需要引入fastjson-1.2.2.jar</strong></p><h2 id="基于XML的数据交换"><a href="#基于XML的数据交换" class="headerlink" title="基于XML的数据交换"></a>基于XML的数据交换</h2><ul><li>注意：如果服务器端响应XML的话，响应的内容类型需要写成： </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.setContentType(<span class="string">&quot;text/xml;charset=UTF-8&quot;</span>);</span><br></pre></td></tr></table></figure><ul><li><p>xml和JSON都是常用的数据交换格式 </p></li><li><p>XML体积大，解析麻烦。较少用。</p></li><li><p>JSON体积小，解析简单，较常用。</p></li><li><p>基于XML的数据交换，前端代码 </p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>使用XML完成数据交换<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn&quot;</span>).<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 1.创建XMLHTTPRequest对象</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 2.注册回调函数</span></span></span><br><span class="line"><span class="language-javascript">            xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">readyState</span> == <span class="number">4</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">status</span> == <span class="number">200</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// 服务器端响应了一个XML字符串，这里怎么接收呢？</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// 使用XMLHTTPRequest对象的responseXML属性，接收返回之后，可以自动封装成document对象（文档对象）</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> xmlDoc = <span class="variable language_">this</span>.<span class="property">responseXML</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">//console.log(xmlDoc)</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// 获取所有的&lt;student&gt;元素，返回了多个对象，应该是数组。</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> students = xmlDoc.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;student&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">//console.log(students[0].nodeName)</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> html = <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; students.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">var</span> student = students[i]</span></span><br><span class="line"><span class="language-javascript">                            <span class="comment">// 获取&lt;student&gt;元素下的所有子元素</span></span></span><br><span class="line"><span class="language-javascript">                            html += <span class="string">&quot;&lt;tr&gt;&quot;</span></span></span><br><span class="line"><span class="language-javascript">                            html += <span class="string">&quot;&lt;td&gt;&quot;</span>+(i+<span class="number">1</span>)+<span class="string">&quot;&lt;/td&gt;&quot;</span></span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">var</span> nameOrAge = student.<span class="property">childNodes</span></span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; nameOrAge.<span class="property">length</span>; j++) &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">var</span> node = nameOrAge[j]</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">if</span> (node.<span class="property">nodeName</span> == <span class="string">&quot;name&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="comment">//console.log(&quot;name = &quot; + node.textContent)</span></span></span><br><span class="line"><span class="language-javascript">                                    html += <span class="string">&quot;&lt;td&gt;&quot;</span>+node.<span class="property">textContent</span>+<span class="string">&quot;&lt;/td&gt;&quot;</span></span></span><br><span class="line"><span class="language-javascript">                                &#125;</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">if</span> (node.<span class="property">nodeName</span> == <span class="string">&quot;age&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="comment">//console.log(&quot;age = &quot; + node.textContent)</span></span></span><br><span class="line"><span class="language-javascript">                                    html += <span class="string">&quot;&lt;td&gt;&quot;</span>+node.<span class="property">textContent</span>+<span class="string">&quot;&lt;/td&gt;&quot;</span></span></span><br><span class="line"><span class="language-javascript">                                &#125;</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                            html += <span class="string">&quot;&lt;/tr&gt;&quot;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;stutbody&quot;</span>).<span class="property">innerHTML</span> = html</span></span><br><span class="line"><span class="language-javascript">                    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">status</span>)</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 3.开启通道</span></span></span><br><span class="line"><span class="language-javascript">            xhr.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;/ajax/ajaxrequest6?t=&quot;</span> + <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>(), <span class="literal">true</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 4.发送请求</span></span></span><br><span class="line"><span class="language-javascript">            xhr.<span class="title function_">send</span>()</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>显示学生列表<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;500px&quot;</span> <span class="attr">border</span>=<span class="string">&quot;1px&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>序号<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>姓名<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>年龄<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span> <span class="attr">id</span>=<span class="string">&quot;stutbody&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;tr&gt;</span></span><br><span class="line"><span class="comment">        &lt;td&gt;1&lt;/td&gt;</span></span><br><span class="line"><span class="comment">        &lt;td&gt;zhangsan&lt;/td&gt;</span></span><br><span class="line"><span class="comment">        &lt;td&gt;20&lt;/td&gt;</span></span><br><span class="line"><span class="comment">    &lt;/tr&gt;</span></span><br><span class="line"><span class="comment">    &lt;tr&gt;</span></span><br><span class="line"><span class="comment">        &lt;td&gt;2&lt;/td&gt;</span></span><br><span class="line"><span class="comment">        &lt;td&gt;lisi&lt;/td&gt;</span></span><br><span class="line"><span class="comment">        &lt;td&gt;22&lt;/td&gt;</span></span><br><span class="line"><span class="comment">    &lt;/tr&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>基于XML的数据交换，后端java程序： </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.ajax.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: 代码</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span>: AjaxRequest6Servlet</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: 服务器端返回XML字符串</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: bjpowernode</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2022-05-15 11:48</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/ajaxrequest6&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AjaxRequest6Servlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line">            <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 注意：响应的内容类型是XML。</span></span><br><span class="line">        response.setContentType(<span class="string">&quot;text/xml;charset=UTF-8&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        &lt;students&gt;</span></span><br><span class="line"><span class="comment">            &lt;student&gt;</span></span><br><span class="line"><span class="comment">                &lt;name&gt;zhangsan&lt;/name&gt;</span></span><br><span class="line"><span class="comment">                &lt;age&gt;20&lt;/age&gt;</span></span><br><span class="line"><span class="comment">            &lt;/student&gt;</span></span><br><span class="line"><span class="comment">            &lt;student&gt;</span></span><br><span class="line"><span class="comment">                &lt;name&gt;lisi&lt;/name&gt;</span></span><br><span class="line"><span class="comment">                &lt;age&gt;22&lt;/age&gt;</span></span><br><span class="line"><span class="comment">            &lt;/student&gt;</span></span><br><span class="line"><span class="comment">        &lt;/students&gt;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">xml</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        xml.append(<span class="string">&quot;&lt;students&gt;&quot;</span>);</span><br><span class="line">        xml.append(<span class="string">&quot;&lt;student&gt;&quot;</span>);</span><br><span class="line">        xml.append(<span class="string">&quot;&lt;name&gt;zhangsan&lt;/name&gt;&quot;</span>);</span><br><span class="line">        xml.append(<span class="string">&quot;&lt;age&gt;20&lt;/age&gt;&quot;</span>);</span><br><span class="line">        xml.append(<span class="string">&quot;&lt;/student&gt;&quot;</span>);</span><br><span class="line">        xml.append(<span class="string">&quot;&lt;student&gt;&quot;</span>);</span><br><span class="line">        xml.append(<span class="string">&quot;&lt;name&gt;lisi&lt;/name&gt;&quot;</span>);</span><br><span class="line">        xml.append(<span class="string">&quot;&lt;age&gt;22&lt;/age&gt;&quot;</span>);</span><br><span class="line">        xml.append(<span class="string">&quot;&lt;/student&gt;&quot;</span>);</span><br><span class="line">        xml.append(<span class="string">&quot;&lt;/students&gt;&quot;</span>);</span><br><span class="line"></span><br><span class="line">        out.print(xml);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AJAX乱码问题"><a href="#AJAX乱码问题" class="headerlink" title="AJAX乱码问题"></a>AJAX乱码问题</h2><ul><li><p>测试内容： </p></li><li><p>发送ajax get请求 </p></li><li><p>发送数据到服务器，服务器获取的数据是否乱码？</p></li><li><p>服务器响应给前端的中文，会不会乱码？</p></li><li><p>发送ajax post请求 </p></li><li><p>发送数据到服务器，服务器获取的数据是否乱码？</p></li><li>服务器响应给前端的中文，会不会乱码？</li><li><p>对于tomcat10来说，关于字符集，我们程序员不需要干涉，不会出现乱码。 </p></li><li><p>对于tomcat9来说呢？ </p></li><li><p>响应中文的时候，会出现乱码，怎么解决？ </p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.setContentType(&quot;text/html;charset=UTF-8&quot;);</span><br></pre></td></tr></table></figure><ul><li>发送ajax post请求的时候，发送给服务器的数据，服务器接收之后乱码，怎么解决？ </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">request.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="AJAX的异步与同步"><a href="#AJAX的异步与同步" class="headerlink" title="AJAX的异步与同步"></a>AJAX的异步与同步</h2><ul><li><p>什么是异步？什么是同步？ </p></li><li><p>ajax请求1和ajax请求2，同时并发，谁也不用等谁，这就是异步。（a不等b，b也不等a）</p></li><li><p>如果ajax请求1在发送的时候需要等待ajax请求2结束之后才能发送，那么这就是同步。（a等待b，或者b等待a，只要发生等待，就是同步。）</p></li><li><p>异步和同步在代码上如何实现？ </p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 假设这个是ajax请求1</span></span><br><span class="line"><span class="comment">// 如果第三个参数是false：这个就表示“ajax请求1”不支持异步，也就是说ajax请求1发送之后，会影响其他ajax请求的发送，只有当我这个请求结束之后，你们其他的ajax请求才能发送。</span></span><br><span class="line"><span class="comment">// false表示，不支持异步。我这个请求发了之后，你们其他的请求都要靠边站。都等着。你们别动呢，等我结束了你们再说。</span></span><br><span class="line">xhr1.<span class="title function_">open</span>(<span class="string">&quot;请求方式&quot;</span>, <span class="string">&quot;URL&quot;</span>, <span class="literal">false</span>)</span><br><span class="line">xhr1.<span class="title function_">send</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 假设这个是ajax请求2</span></span><br><span class="line"><span class="comment">// 如果第三个参数是true：这个就表示“ajax请求2”支持异步请求，也就是说ajax请求2发送之后，不影响其他ajax请求的发送。</span></span><br><span class="line">xhr2.<span class="title function_">open</span>(<span class="string">&quot;请求方式&quot;</span>, <span class="string">&quot;URL&quot;</span>, <span class="literal">true</span>) </span><br><span class="line">xhr2.<span class="title function_">send</span>()</span><br></pre></td></tr></table></figure><ul><li><p>什么情况下用同步？（大部分情况下我们都是使用ajax异步方式，同步很少用。） </p></li><li><p>举一个例子 </p></li><li><p>用户注册 </p></li><li><p>用户名需要发送ajax请求进行校验</p></li><li>邮箱地址也需要发送ajax请求校验</li><li>其他的也可能需要发送ajax请求。。。</li><li>并且最终注册按钮的时候，也是发送ajax请求进行注册。</li><li>那么显然，注册的Ajax请求和校验的ajax请求不能异步，必须等待所有的校验ajax请求结束之后，注册的ajax请求才能发。</li></ul><h2 id=""><a href="#" class="headerlink" title=" "></a> </h2><p>- </p>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 前端基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>算法入门</title>
      <link href="/2025/09/18/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95/"/>
      <url>/2025/09/18/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="从社会实验到算法"><a href="#从社会实验到算法" class="headerlink" title="从社会实验到算法"></a>从社会实验到算法</h1><div class="note no-icon flat"><p>一开始有100个人，每个人都有100元<br>在每一轮都做如下的事情 :<br>每个人都必须拿出1元钱给除自己以外的其他人，给谁完全随机<br>如果某个人在这一轮的钱数为0，那么他可以不给，但是可以接收<br>发生很多很多轮之后，这100人的社会财富分布很均匀吗？此时社会的<code>基尼系数</code>会是多少？</p></div><ul><li>首先从一个社会实验开始，该实验的规则看似非常公平，甚至对于0元者还有”优待”，所以乍一眼望去我们会感觉应当随着次数增多，金币的分布会越平均，于是我们编写一个Java程序来模拟这个实验，并计算出这个社会的基尼系数。</li></ul><div class="tabs" id="模拟实验"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#模拟实验-1">实验模拟</button></li><li class="tab"><button type="button" data-href="#模拟实验-2">实验进行100次</button></li><li class="tab"><button type="button" data-href="#模拟实验-3">实验进行100000次</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="模拟实验-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Experiment</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;一个社会的基尼系数是一个在0~1之间的小数&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;基尼系数为0代表所有人的财富完全一样&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;基尼系数为1代表有1个人掌握了全社会的财富&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;基尼系数越小，代表社会财富分布越均衡；越大则代表财富分布越不均衡&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;在2022年，世界各国的平均基尼系数为0.44&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;目前普遍认为，当基尼系数到达 0.5 时&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;就意味着社会贫富差距非常大，分布非常不均匀&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;社会可能会因此陷入危机，比如大量的犯罪或者经历社会动荡&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;测试开始&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> <span class="number">1000</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;人数 : &quot;</span> + n);</span><br><span class="line">        System.out.println(<span class="string">&quot;轮数 : &quot;</span> + t);</span><br><span class="line">        experiment(n, t);</span><br><span class="line">        System.out.println(<span class="string">&quot;测试结束&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 完全按照说的来实验</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">experiment</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> t)</span> &#123;</span><br><span class="line">        <span class="type">double</span>[] wealth = <span class="keyword">new</span> <span class="title class_">double</span>[n];</span><br><span class="line">        Arrays.fill(wealth, <span class="number">100</span>);</span><br><span class="line">        <span class="type">boolean</span>[] hasMoney = <span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; t; i++) &#123;</span><br><span class="line">            Arrays.fill(hasMoney, <span class="literal">false</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (wealth[j] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    hasMoney[j] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (hasMoney[j]) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">other</span> <span class="operator">=</span> j;</span><br><span class="line">                    <span class="keyword">do</span> &#123;</span><br><span class="line">                        <span class="comment">// (int) (Math.random() * n);</span></span><br><span class="line">                        <span class="comment">// int : 0 ~ n-1，等概率随机</span></span><br><span class="line">                        other = (<span class="type">int</span>) (Math.random() * n);</span><br><span class="line">                    &#125; <span class="keyword">while</span> (other == j);</span><br><span class="line">                    wealth[j]--;</span><br><span class="line">                    wealth[other]++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(wealth);</span><br><span class="line">        System.out.println(<span class="string">&quot;列出每个人的财富(贫穷到富有) : &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            System.out.print((<span class="type">int</span>) wealth[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">10</span> == <span class="number">9</span>) &#123;</span><br><span class="line">                System.out.println();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">&quot;这个社会的基尼系数为 : &quot;</span> + calculateGini(wealth));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 计算基尼系数</span></span><br><span class="line">    <span class="comment">// 看代码就可以轻易知道怎么算的</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">calculateGini</span><span class="params">(<span class="type">double</span>[] wealth)</span> &#123;</span><br><span class="line">        <span class="type">double</span> <span class="variable">sumOfAbsoluteDifferences</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">sumOfWealth</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> wealth.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            sumOfWealth += wealth[i];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                sumOfAbsoluteDifferences += Math.abs(wealth[i] - wealth[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sumOfAbsoluteDifferences / (<span class="number">2</span> * n * sumOfWealth);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="模拟实验-2"><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">一个社会的基尼系数是一个在0~1之间的小数</span><br><span class="line">基尼系数为0代表所有人的财富完全一样</span><br><span class="line">基尼系数为1代表有1个人掌握了全社会的财富</span><br><span class="line">基尼系数越小，代表社会财富分布越均衡；越大则代表财富分布越不均衡</span><br><span class="line">在2022年，世界各国的平均基尼系数为0.44</span><br><span class="line">目前普遍认为，当基尼系数到达 0.5 时</span><br><span class="line">就意味着社会贫富差距非常大，分布非常不均匀</span><br><span class="line">社会可能会因此陷入危机，比如大量的犯罪或者经历社会动荡</span><br><span class="line">测试开始</span><br><span class="line">人数 : 100</span><br><span class="line">轮数 : 100</span><br><span class="line">列出每个人的财富(贫穷到富有) : </span><br><span class="line">80 81 82 84 84 84 85 86 86 87 </span><br><span class="line">87 88 89 89 89 90 90 91 91 91 </span><br><span class="line">92 92 92 92 92 93 94 94 94 95 </span><br><span class="line">95 95 95 96 96 97 97 97 97 97 </span><br><span class="line">97 98 98 98 98 98 99 99 99 100 </span><br><span class="line">100 100 100 100 100 101 101 101 101 101 </span><br><span class="line">101 101 102 102 102 102 102 103 103 103 </span><br><span class="line">104 104 104 105 105 105 106 107 107 107 </span><br><span class="line">108 108 109 109 110 111 112 113 113 113 </span><br><span class="line">116 116 116 119 119 120 120 123 124 131 </span><br><span class="line"></span><br><span class="line">这个社会的基尼系数为 : 0.056606</span><br><span class="line">测试结束</span><br><span class="line"></span><br><span class="line">进程已结束，退出代码为 0</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="模拟实验-3"><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">一个社会的基尼系数是一个在0~1之间的小数</span><br><span class="line">基尼系数为0代表所有人的财富完全一样</span><br><span class="line">基尼系数为1代表有1个人掌握了全社会的财富</span><br><span class="line">基尼系数越小，代表社会财富分布越均衡；越大则代表财富分布越不均衡</span><br><span class="line">在2022年，世界各国的平均基尼系数为0.44</span><br><span class="line">目前普遍认为，当基尼系数到达 0.5 时</span><br><span class="line">就意味着社会贫富差距非常大，分布非常不均匀</span><br><span class="line">社会可能会因此陷入危机，比如大量的犯罪或者经历社会动荡</span><br><span class="line">测试开始</span><br><span class="line">人数 : 100</span><br><span class="line">轮数 : 1000000</span><br><span class="line">列出每个人的财富(贫穷到富有) : </span><br><span class="line">0 1 2 4 4 4 5 6 8 9 </span><br><span class="line">9 11 11 11 12 13 13 14 14 16 </span><br><span class="line">17 20 20 20 25 26 27 27 28 29 </span><br><span class="line">30 30 32 32 34 36 36 37 37 39 </span><br><span class="line">41 44 46 47 49 53 53 53 53 55 </span><br><span class="line">56 60 63 63 63 72 75 90 92 93 </span><br><span class="line">93 94 95 97 97 103 105 108 111 111 </span><br><span class="line">112 114 114 121 128 129 136 143 146 151 </span><br><span class="line">154 160 170 181 183 189 197 202 227 231 </span><br><span class="line">239 272 273 279 304 310 355 419 484 893 </span><br><span class="line"></span><br><span class="line">这个社会的基尼系数为 : 0.552244</span><br><span class="line">测试结束</span><br><span class="line"></span><br><span class="line">进程已结束，退出代码为 0</span><br><span class="line"></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><ul><li>这是一个乍一看很公平的实验，但实际中，随着模拟的次数越来越多，这个实验的基尼系数会非常高</li></ul><details class="folding-tag" cyan><summary> 实验原因 </summary>              <div class='content'>              <ul><li>刚开始次数过少，财富差距无法拉开明显差距所以基尼系数很小，但随着次数越来越多，逐渐出现“少数人掌握大量财富，多数人财富微薄甚至为 0” 的格局</li><li><strong>关键机制 1：<code>单轮内 “固定支出 + 随机收入” 的不对称，必然产生微小差距</code></strong><ul><li><strong>支出端（刚性固定）</strong>：只要手里有钱（&gt;0 元），无论你有 100 元还是 1 元，都必须拿出1 元（支出金额与自身财富无关，是 “定额税” 式的强制流出）；</li><li><strong>收入端（完全随机）</strong>：所有人拿出的钱（总捐赠额 = 当前非 0 元人数 ×1 元）会随机分给 100 人（包括 0 元者），每人收到的金额可能是 0 元、1 元、2 元…… 最多等于总捐赠额。</li></ul></li><li><strong>关键机制 2：<code>多轮 “差距累积效应”，让微小差距滚雪球式放大</code></strong><ul><li>单轮的微小差距（如 99 元 vs 101 元），不会因后续轮次 “随机抵消”，反而会复利式累积</li><li>财富基数的 “非对称影响”：同样是 1 元的支出 / 收入，对富人（如 200 元）和穷人（如 10 元）的影响天差地别 ——<ul><li>富人支出 1 元，仅减少 0.5% 财富，几乎无影响；</li><li>穷人支出 1 元，减少 10% 财富，极易陷入 “财富缩水→变 0 元” 的循环。</li></ul></li></ul></li><li><strong>关键机制 3：<code>0 元者 “豁免机制”，进一步固化差距</code></strong><ul><li>若 0 元者收到 1 元（变成 1 元），下一轮必须支出 1 元；若再没收到收入，又会回到 0 元，陷入 “0 元→1 元→0 元” 的死循环，无法形成财富基数。</li><li>非 0 元者的 “优势循环”：财富多的人（如 200 元）几乎不可能变 0 元，能持续参与 “支出 1 元 + 接收收入”—— 即使短期收到 0 元，财富仅从 200→199，仍有足够基数应对后续波动，且有更多机会 “接住” 他人的随机捐赠，财富持续增长。</li></ul></li><li><p>基尼系数随轮次上升的本质：<strong>财富离散度持续扩大</strong></p></li><li><p>总结：“随机分配”≠“均匀分配”</p></li><li><strong>这个实验的核心启示是：<code>规则的微小不对称，会通过 “累积效应” 被无限放大。</code></strong>即使初始绝对均匀，只要存在 “固定支出 + 随机收入” 的不对称，以及 “0 元者难以积累” 的机制，随机波动就不会抵消差距，反而会让财富逐渐向少数人集中 —— 这也是现实中 “马太效应”（富者愈富，贫者愈贫）的简化模型。</li></ul>              </div>            </details><ul><li>这个实验的目的仅仅是引起对学习算法的兴趣，告诉我们不要以感觉为标准来判断算法，应当认真思考，仔细学习。</li></ul><h1 id="选择、冒泡、插入排序"><a href="#选择、冒泡、插入排序" class="headerlink" title="选择、冒泡、插入排序"></a>选择、冒泡、插入排序</h1><ul><li>这是算法中最基础的排序方法，也有人叫他们：<psw>三傻排序</psw></li></ul><h2 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h2><ul><li>选择排序的原理：每次从待排序的元素中找出最小的元素，将其放到已排序的元素序列的末尾。</li><li><p>一句话总结：i~n-1的范围上，找到最小值并放在i位置，然后i+1~n-1的范围上，找到最小值并放在i+1位置，以此类推，直到n-1位置。</p></li><li><p>代码实现过程：</p><ul><li>先设置一个变量来不断存储最小值，初始值为第一个元素。</li><li>采用双层循环，外循环用来遍历数组，内循环在遍历过程中寻找每次的最小值。</li><li>在整个数组遍历中，不断比较每一个元素和最小值的大小，若找到更小的元素，则更新最小值，并记录下当前位置。</li><li>在执行完一次内循环以后，用交换最小值和i的位置，将最小值放到已排序的元素序列的末尾。</li></ul></li></ul><div class="tabs" id="选择排序"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#选择排序-1">核心代码</button></li><li class="tab"><button type="button" data-href="#选择排序-2">完整代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="选择排序-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">selectSort</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">    <span class="comment">//此时元素数量过少无需排序，直接返回</span></span><br><span class="line">    <span class="keyword">if</span>(arr ==<span class="literal">null</span>|| arr.length&lt;<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//记录最小值的下标</span></span><br><span class="line">    <span class="type">int</span> minIndex;</span><br><span class="line">    <span class="comment">//记录最小值</span></span><br><span class="line">    <span class="type">int</span> minVal;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length-<span class="number">1</span>;i++)&#123;</span><br><span class="line">        <span class="comment">// 每次开始循环更新最小值和下标，更新为当前进行的元素</span></span><br><span class="line">        minIndex = i;</span><br><span class="line">        minVal = arr[i];</span><br><span class="line">        <span class="comment">// 从i+1开始循环，找到最小值</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;arr.length;j++)&#123;</span><br><span class="line">            <span class="comment">//找到最小值则将最小值的位置更新为当前元素</span></span><br><span class="line">            <span class="keyword">if</span>(arr[j]&lt;minVal)&#123;</span><br><span class="line">                minIndex = j;</span><br><span class="line">                minVal=arr[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//如果位置有更新则说明有比当前元素还小的元素，更新位置</span></span><br><span class="line">        <span class="comment">//如果下标值不变则证明当前位置便是未排序的部分中最小的元素</span></span><br><span class="line">        <span class="keyword">if</span>(minIndex!=i)&#123;</span><br><span class="line">            swap(arr,i,minIndex);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="选择排序-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SelectSort</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">        arr[i] = arr[j];</span><br><span class="line">        arr[j] = temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] randomArray(<span class="type">int</span> n)&#123;</span><br><span class="line">        <span class="type">int</span>[] array = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            array[i]=(<span class="type">int</span>)(Math.random()*<span class="number">100</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> array;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">selectSort</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(arr ==<span class="literal">null</span>|| arr.length&lt;<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//记录最小值的下标</span></span><br><span class="line">        <span class="type">int</span> minIndex;</span><br><span class="line">        <span class="comment">//记录最小值</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">minVal</span> <span class="operator">=</span> arr[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length-<span class="number">1</span>;i++)&#123;</span><br><span class="line">            minIndex = i;</span><br><span class="line">            minVal = arr[i];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;arr.length;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(arr[j]&lt;minVal)&#123;</span><br><span class="line">                    minIndex = j;</span><br><span class="line">                    minVal=arr[j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(minIndex!=i)&#123;</span><br><span class="line">                swap(arr,i,minIndex);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr = randomArray(<span class="number">10</span>);</span><br><span class="line">        selectSort(arr);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">            System.out.print(arr[i]+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h2><ul><li>冒泡排序是一种简单直观的排序算法。它的工作原理是重复地走访过要排序的数列，一次比较两个元素，如果它们的顺序错误就把它们交换过来。走访数列的工作是重复地进行直到没有再需要交换，也就是说该数列已经排序完成。</li><li><p>每次循环从数组前边逐个筛选较大的值放到尾部</p></li><li><p>代码实现过程：</p><ul><li>循环判断后，将大的值放到数组尾部后，便不再判断尾部的值</li><li>可以理解为从数组最大的值开始找起，找到最大值后排好，再找下一个最大值，直到数组排序完成</li></ul></li></ul><div class="tabs" id="冒泡排序"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#冒泡排序-1">核心代码</button></li><li class="tab"><button type="button" data-href="#冒泡排序-2">完整代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="冒泡排序-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">bubbleSort</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(arr ==<span class="literal">null</span>|| arr.length&lt;<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//        0~n-1</span></span><br><span class="line"><span class="comment">//        0~n-2</span></span><br><span class="line"><span class="comment">//        0~n-3</span></span><br><span class="line">    <span class="comment">//每结束一次循环代表找到一个最大值，排好一位数，以此往复</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> end=arr.length-<span class="number">1</span>;end&gt;<span class="number">0</span>;end--)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> start=<span class="number">0</span>;start&lt;end;start++)&#123;</span><br><span class="line">            <span class="comment">//在数组中不断判断找到最大值</span></span><br><span class="line">            <span class="keyword">if</span>(arr[start]&gt;arr[start+<span class="number">1</span>])&#123;</span><br><span class="line">                swap(arr,start,start+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="冒泡排序-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SelectSort</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">        arr[i] = arr[j];</span><br><span class="line">        arr[j] = temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] randomArray(<span class="type">int</span> n)&#123;</span><br><span class="line">        <span class="type">int</span>[] array = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            array[i]=(<span class="type">int</span>)(Math.random()*<span class="number">100</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> array;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">bubbleSort</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(arr ==<span class="literal">null</span>|| arr.length&lt;<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        0~n-1</span></span><br><span class="line"><span class="comment">//        0~n-2</span></span><br><span class="line"><span class="comment">//        0~n-3</span></span><br><span class="line">        <span class="comment">//每结束一次循环代表找到一个最大值，排好一位数，以此往复</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> end=arr.length-<span class="number">1</span>;end&gt;<span class="number">0</span>;end--)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> start=<span class="number">0</span>;start&lt;end;start++)&#123;</span><br><span class="line">                <span class="comment">//在数组中不断判断找到最大值</span></span><br><span class="line">                <span class="keyword">if</span>(arr[start]&gt;arr[start+<span class="number">1</span>])&#123;</span><br><span class="line">                    swap(arr,start,start+<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr = randomArray(<span class="number">10</span>);</span><br><span class="line">        bubbleSort(arr);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">            System.out.print(arr[i]+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h2><ul><li>插入排序的工作原理是将未排序的数组元素插入到已排序的数组中，从而得到一个新的有序数组。</li><li><p>类似于打扑克牌，将手上的牌排好一部分后，未排好的牌依次按顺序插入到已排好的牌中，最终达到整体有序的效果。</p></li><li><p>代码实现过程：</p><ul><li>将数组从0~1,0~2,0~3…0~n-1依次进行排序。</li><li>将0~1的元素插入到0~0的数组中，得到0~1有序的数组。</li><li>将0~2的元素插入到0~0,0~1的数组中，得到0~2有序的数组。</li><li>以此类推</li></ul></li></ul><div class="tabs" id="插入排序"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#插入排序-1">核心代码</button></li><li class="tab"><button type="button" data-href="#插入排序-2">完整代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="插入排序-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">insertionSort</span><span class="params">(<span class="type">int</span>[] arr)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr==<span class="literal">null</span>||arr.length==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length-<span class="number">1</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=i;j&gt;=<span class="number">0</span>;j--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j+<span class="number">1</span>]&lt;arr[j])&#123;</span><br><span class="line">                swap(arr,j,j+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="插入排序-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SelectSort</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">        arr[i] = arr[j];</span><br><span class="line">        arr[j] = temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] randomArray(<span class="type">int</span> n)&#123;</span><br><span class="line">        <span class="type">int</span>[] array = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            array[i]=(<span class="type">int</span>)(Math.random()*<span class="number">100</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> array;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">insertionSort</span><span class="params">(<span class="type">int</span>[] arr)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr==<span class="literal">null</span>||arr.length==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length-<span class="number">1</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=i;j&gt;=<span class="number">0</span>;j--)&#123;</span><br><span class="line">                <span class="keyword">if</span>(arr[j+<span class="number">1</span>]&lt;arr[j])&#123;</span><br><span class="line">                    swap(arr,j,j+<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr = randomArray(<span class="number">10</span>);</span><br><span class="line">        insertionSort(arr);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">            System.out.print(arr[i]+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="三种排序总结"><a href="#三种排序总结" class="headerlink" title="三种排序总结"></a>三种排序总结</h2><p><strong>选择排序：</strong></p><ul><li><strong>基本思想</strong>：每一趟从无序区选择最小（或最大）元素，放到有序区的末尾。</li><li><strong>时间复杂度</strong>：<ul><li>最好：O(n²)</li><li>最坏：O(n²)</li><li>平均：O(n²)</li></ul></li><li><strong>空间复杂度</strong>：O(1)</li><li><strong>稳定性</strong>：不稳定（可能改变相等元素的相对顺序）</li><li><strong>特点</strong>：<ul><li>交换次数少（最多 n-1 次交换），但比较次数多；</li><li>不管数据有序与否，时间复杂度都一样；</li><li>简单直观，但性能比插入排序稍差。</li></ul></li></ul><p><strong>冒泡排序：</strong></p><ul><li><strong>基本思想</strong>：通过相邻元素比较并交换，把较大（或较小）的元素逐步“冒泡”到序列的一端。</li><li><strong>时间复杂度</strong>：<ul><li>最好：O(n)（序列本身有序，只需一次冒泡即可）</li><li>最坏：O(n²)</li><li>平均：O(n²)</li></ul></li><li><strong>空间复杂度</strong>：O(1)</li><li><strong>稳定性</strong>：稳定（相邻元素相等时不交换顺序）</li><li><strong>特点</strong>：<ul><li>思想直观，常用于入门讲解；</li><li>效率较低，数据量大时不推荐。</li></ul></li></ul><p><strong>插入排序：</strong></p><ul><li><strong>基本思想</strong>：把序列分为有序区和无序区，每次将无序区的第一个元素插入到有序区合适的位置。</li><li><strong>时间复杂度</strong>：<ul><li>最好：O(n)（原本接近有序时）</li><li>最坏：O(n²)</li><li>平均：O(n²)</li></ul></li><li><strong>空间复杂度</strong>：O(1)（原地排序）</li><li><strong>稳定性</strong>：稳定（相等元素不会交换顺序）</li><li><strong>特点</strong>：<ul><li>简单，适合数据量小或基本有序的情况；</li><li>插入过程像整理扑克牌。</li></ul></li></ul><h1 id="二分搜索"><a href="#二分搜索" class="headerlink" title="二分搜索"></a>二分搜索</h1><ol><li>在有序数组中确定num存在还是不存在</li><li>在有序数组中找&gt;=num的最左位置</li><li>在有序数组中找&lt;=num的最右位置</li><li>二分搜索不一定发生在有序数组上（比如寻找峰值问题）</li></ol><h1 id="链表入门题"><a href="#链表入门题" class="headerlink" title="链表入门题"></a>链表入门题</h1><h2 id="单双链表及其反转"><a href="#单双链表及其反转" class="headerlink" title="单双链表及其反转"></a>单双链表及其反转</h2><h3 id="按值传递，按引用传递"><a href="#按值传递，按引用传递" class="headerlink" title="按值传递，按引用传递"></a>按值传递，按引用传递</h3><ul><li>一般基本数据类型默认是<code>按值传递</code>，函数会获得参数的副本，修改副本不会修改原始值</li><li>引用数据类型默认为<code>按引用传递</code>，在函数中的操作会直接影响原始值</li><li>C和C++可以通过传递指针来使函数在修改副本的同时也修改原始值</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// int、long、byte、short</span></span><br><span class="line">        <span class="comment">// char、float、double、boolean</span></span><br><span class="line">        <span class="comment">// 还有String</span></span><br><span class="line">        <span class="comment">// 都是按值传递</span></span><br><span class="line">        <span class="comment">//在f(int)函数中修改a，但a并没有变化</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        f(a);</span><br><span class="line">        System.out.println(a);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 其他类型按引用传递</span></span><br><span class="line">        <span class="comment">// 比如下面的Number是自定义的类</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        在内存的堆空间申请了一片区域，哪个区域保存了5</span></span><br><span class="line"><span class="comment">//        同时在栈空间新建了一个变量b,可以通过b找到堆空间的5</span></span><br><span class="line">        <span class="type">Number</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Number</span>(<span class="number">5</span>);</span><br><span class="line"><span class="comment">//        这里看似是b被设为空,实则是拷贝了一个b&#x27;进入函数，使b&#x27;也指向堆中的空间</span></span><br><span class="line"><span class="comment">//        所以函数内也只是将b&#x27;指向的位置改为空，对实际的b无影响</span></span><br><span class="line">        g1(b);</span><br><span class="line">        System.out.println(b.val);</span><br><span class="line"><span class="comment">//        这里g2将b的值改为6</span></span><br><span class="line"><span class="comment">//        实际上操作的是b&#x27;，将b&#x27;指向的地方的value改为了6，但b和b&#x27;指向了同一个地方</span></span><br><span class="line"><span class="comment">//        所以b的val也会变成6</span></span><br><span class="line">        g2(b);</span><br><span class="line">        System.out.println(b.val);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 比如下面的一维数组</span></span><br><span class="line">        <span class="type">int</span>[] c = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> &#125;;</span><br><span class="line">        g3(c);</span><br><span class="line">        System.out.println(c[<span class="number">0</span>]);</span><br><span class="line">        g4(c);</span><br><span class="line">        System.out.println(c[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">        a = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Number</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> val;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Number</span><span class="params">(<span class="type">int</span> v)</span> &#123;</span><br><span class="line">            val = v;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">g1</span><span class="params">(Number b)</span> &#123;</span><br><span class="line">        b = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">g2</span><span class="params">(Number b)</span> &#123;</span><br><span class="line">        b.val = <span class="number">6</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">g3</span><span class="params">(<span class="type">int</span>[] c)</span> &#123;</span><br><span class="line">        c = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">g4</span><span class="params">(<span class="type">int</span>[] c)</span> &#123;</span><br><span class="line">        c[<span class="number">0</span>] = <span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 单链表节点</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> val;</span><br><span class="line">        <span class="keyword">public</span> ListNode next;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">(<span class="type">int</span> val, ListNode next)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.val = val;</span><br><span class="line">            <span class="built_in">this</span>.next = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="实现链表反转"><a href="#实现链表反转" class="headerlink" title="实现链表反转"></a>实现链表反转</h3><ul><li>假设一个链表的指向为: 11-&gt;22-&gt;33-&gt;44-&gt;55</li><li>反转后效果则为:       55-&gt;44-&gt;33-&gt;22-&gt;11</li><li>构造函数原型<ul><li>首先函数必须有一个参数，这个参数就是链表的头结点</li><li>其次，函数还应当有返回值，返回值就是反转后的链表头结点</li><li>我们可以使用堆栈的方式来实现链表反转</li></ul></li><li>题目链接：<a href="https://leetcode.cn/problems/reverse-linked-list/">https://leetcode.cn/problems/reverse-linked-list/</a></li><li><strong><em>反转链表实现：</em></strong><ul><li>从头结点开始，先将当前节点的下一个结点的位置用一个变量暂存起来(因为等会修改下一个节点的位置，不存储起来会导致链表断连)</li><li>然后修改当前节点的下一个结点为前一个结点(即使是单链表也可以，因为前一个节点是每次实现反转后，将当前结点存在前一个结点，存完后再向后移动链表)</li><li>让前一个结点等于当前结点(这就是上一步说的更新节点，链表反转后并后移以后，当前结点就是前结点)</li><li>将当前结点后移，进行下一轮循环</li><li>循环结束后，返回的是pre节点，这是反转后链表的头结点，不是head因为此时在循环的最后一步，head会移动到链表末尾，指向NULL</li></ul></li></ul><div class="tabs" id="单链表反转"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#单链表反转-1">单链表反转</button></li><li class="tab"><button type="button" data-href="#单链表反转-2">双链表反转</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="单链表反转-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 单链表节点</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> val;</span><br><span class="line">        <span class="keyword">public</span> ListNode next;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">(<span class="type">int</span> val, ListNode next)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.val = val;</span><br><span class="line">            <span class="built_in">this</span>.next = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">while</span> (head != <span class="literal">null</span>) &#123;</span><br><span class="line">                next = head.next;</span><br><span class="line">                head.next = pre;</span><br><span class="line">                pre = head;</span><br><span class="line">                head = next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> pre;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="单链表反转-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 双链表节点</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">DoubleListNode</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> value;</span><br><span class="line">    <span class="keyword">public</span> DoubleListNode last;</span><br><span class="line">    <span class="keyword">public</span> DoubleListNode next;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DoubleListNode</span><span class="params">(<span class="type">int</span> v)</span> &#123;</span><br><span class="line">        value = v;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 反转双链表</span></span><br><span class="line"><span class="comment">// 没有找到测试链接,如下方法是对的</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> DoubleListNode <span class="title function_">reverseDoubleList</span><span class="params">(DoubleListNode head)</span> &#123;</span><br><span class="line">    <span class="type">DoubleListNode</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">DoubleListNode</span> <span class="variable">next</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="literal">null</span>) &#123;</span><br><span class="line">        next = head.next;</span><br><span class="line">        head.next = pre;</span><br><span class="line">        head.last = next;</span><br><span class="line">        pre = head;</span><br><span class="line">        head = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="合并两个有序链表"><a href="#合并两个有序链表" class="headerlink" title="合并两个有序链表"></a>合并两个有序链表</h2><ul><li>要求：将两个升序链表合并为一个新的升序链表并返回。新链表是通过拼接给定的两个链表的所有节点组成的。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250911165520.png"/></div></div><ul><li><p><strong><em>合并链表实现：</em></strong></p><ul><li>先判断两个有序链表谁的头结点更小，将头结点小的结点作为合并后的链表的头结点。</li><li>分别定义两个指针cur1和cur2，一个连接在头结点小的那个结点的下一个结点上，一个连接在头结点较大的那个结点上，假设此题选第一个链表的1作为头结点，那么cur1将指向2，cur2将指向第二个链表的1，并设置pre作为前驱结点，pre指向第一步比较中较小的那个结点</li><li>定义循环，循环的结束条件是有一条链表的元素全部遍历完</li><li>在循环中，不断比较cur1和cur2的值，将较小的值连接到新的链表上，并向后移动移动对应指针，更新pre的值为当前较小的结点，并继续循环</li><li>当循环结束时，直接将另一条有元素未比较的链表的剩余元素链接到新的链表上，因为链表是有序的，所以直接链接即可</li><li>返回新链表头结点</li></ul></li><li><p><a href="https://leetcode.cn/problems/merge-two-sorted-lists/">测试连接</a></p></li><li><div class="tabs" id="合并链表"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#合并链表-1">代码</button></li><li class="tab"><button type="button" data-href="#合并链表-2">leetcode测试代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="合并链表-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title function_">mergeTwoLists</span><span class="params">(ListNode head1, ListNode head2)</span> &#123;</span><br><span class="line">            <span class="comment">//一方为空，则无需合并直接返回另一个链表即可</span></span><br><span class="line">            <span class="keyword">if</span> (head1 == <span class="literal">null</span> || head2 == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> head1 == <span class="literal">null</span> ? head2 : head1;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//判断谁的头结点小谁做新生成的链表的头(在前面确定好head后，在中间连接过程head没有任何变化，最后作为返回值返回)</span></span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">head</span> <span class="operator">=</span> head1.val &lt;= head2.val ? head1 : head2;</span><br><span class="line">            <span class="comment">//cur1连接头结点后一个结点（）</span></span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">cur1</span> <span class="operator">=</span> head.next;</span><br><span class="line">            <span class="comment">//cur2连接未做头结点的那个结点的后一个结点</span></span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">cur2</span> <span class="operator">=</span> head == head1 ? head2 : head1;</span><br><span class="line"><span class="comment">//            pre保存当前结点的前驱，cur1更新后继</span></span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> head;</span><br><span class="line"><span class="comment">//            当两链表都不为空就不断比较谁小，谁作为下一个结点</span></span><br><span class="line">            <span class="keyword">while</span> (cur1 != <span class="literal">null</span> &amp;&amp; cur2 != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (cur1.val &lt;= cur2.val) &#123;</span><br><span class="line">                    pre.next = cur1;</span><br><span class="line">                    cur1 = cur1.next;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    pre.next = cur2;</span><br><span class="line">                    cur2 = cur2.next;</span><br><span class="line">                &#125;</span><br><span class="line">                pre = pre.next;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//            有一个链表全部比较完了，此时未比较完的链表剩余元素一定大于比较完的链表的每一个元素，故直接将未比较的剩余链表元素直接连到刚刚排序好的新链表</span></span><br><span class="line">            pre.next = cur1 != <span class="literal">null</span> ? cur1 : cur2;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="合并链表-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">mergeTwoLists</span><span class="params">(ListNode list1, ListNode list2)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(list1==<span class="literal">null</span>||list2==<span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> list1==<span class="literal">null</span>?list2:list1;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">head</span> <span class="operator">=</span> list1.val&gt;list2.val ? list2:list1;</span><br><span class="line">        ListNode cur1=head.next;</span><br><span class="line">        ListNode cur2= head==list1?list2:list1;</span><br><span class="line">        ListNode pre=head;</span><br><span class="line">        <span class="keyword">while</span>(cur1!=<span class="literal">null</span>&amp;&amp;cur2!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cur1.val&lt;cur2.val)&#123;</span><br><span class="line">                pre.next=cur1;</span><br><span class="line">                cur1=cur1.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                pre.next=cur2;</span><br><span class="line">                cur2=cur2.next;</span><br><span class="line">            &#125;</span><br><span class="line">            pre=pre.next;</span><br><span class="line">        &#125;</span><br><span class="line">        pre.next=cur1==<span class="literal">null</span>?cur2:cur1;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="两个链表相加"><a href="#两个链表相加" class="headerlink" title="两个链表相加"></a>两个链表相加</h2></li><li>实际上就是利用链表实现<code>高精度算法</code>的加法</li><li>它们每位数字都是按照 <code>逆序</code> 的方式存储的，并且每个节点只能存储一位数字</li><li>题目链接：<a href="https://leetcode.cn/problems/add-two-numbers/"></a></li></ul><ul><li><strong><em>链表相加实现：</em></strong><ul><li>创建一个ans结点，该结点只用来作为结果链表的头结点返回</li><li>创建一个cur结点，该结点来记录当前操作位置，每次计算更新位置</li><li>创建一个进位变量carry，记录当前位相加的结果是否超过10，超过则进位</li><li>定义循环，每次循环移动两条链表到下一位，链表的结束条件为两条链表都为空</li><li>在循环中，直接计算两个链表数值相加的结果，并分别记录下结果的个位和十位</li><li>判断是否为第一次计算，如果是第一次计算，则将cur指向ans结点，如果不是则将cur指向下一个结点</li><li>不断循环，直到两条链表都为空</li><li>最后跳出循环后，如果carry为1，则再创建一个数值为1的结点，并添加到链表末尾</li></ul></li></ul><div class="tabs" id="链表相加"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#链表相加-1">代码</button></li><li class="tab"><button type="button" data-href="#链表相加-2">提交代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="链表相加-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 不要提交这个类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> val;</span><br><span class="line">        <span class="keyword">public</span> ListNode next;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">(<span class="type">int</span> val, ListNode next)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.val = val;</span><br><span class="line">            <span class="built_in">this</span>.next = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title function_">addTwoNumbers</span><span class="params">(ListNode h1, ListNode h2)</span> &#123;</span><br><span class="line"><span class="comment">//            ans作为结果链表的头结点，第一次计算初始化后便不再改变，cur为记录当前操作的位置，每次计算更新</span></span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="literal">null</span>, cur = <span class="literal">null</span>;</span><br><span class="line">            <span class="comment">//carry表示当前位是否进位</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">carry</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> sum, val; <span class="comment">// 声明变量</span></span><br><span class="line">                 h1 != <span class="literal">null</span> || h2 != <span class="literal">null</span>; <span class="comment">// 终止条件，需要两条链表都为空，结果才为false，跳出循环</span></span><br><span class="line">                 <span class="comment">//移动指针到下一位（为空时保持 null）</span></span><br><span class="line">                 h1 = h1 == <span class="literal">null</span> ? <span class="literal">null</span> : h1.next, <span class="comment">// 每一步h1的跳转</span></span><br><span class="line">                         h2 = h2 == <span class="literal">null</span> ? <span class="literal">null</span> : h2.next <span class="comment">// 每一步h2的跳转</span></span><br><span class="line">            ) &#123;</span><br><span class="line">                <span class="comment">//sum来暂时存储每一位相加的结果</span></span><br><span class="line">                sum = (h1 == <span class="literal">null</span> ? <span class="number">0</span> : h1.val)</span><br><span class="line">                        + (h2 == <span class="literal">null</span> ? <span class="number">0</span> : h2.val)</span><br><span class="line">                        + carry;</span><br><span class="line"></span><br><span class="line">                val = sum % <span class="number">10</span>;</span><br><span class="line">                carry = sum / <span class="number">10</span>;</span><br><span class="line">                <span class="keyword">if</span> (ans == <span class="literal">null</span>) &#123;</span><br><span class="line">                    ans = <span class="keyword">new</span> <span class="title class_">ListNode</span>(val);</span><br><span class="line">                    cur = ans;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    cur.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(val);</span><br><span class="line">                    cur = cur.next;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (carry == <span class="number">1</span>) &#123;</span><br><span class="line">                cur.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> ans;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="链表相加-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">addTwoNumbers</span><span class="params">(ListNode l1, ListNode l2)</span> &#123;</span><br><span class="line">        ListNode ans=<span class="literal">null</span>;</span><br><span class="line">        ListNode cur=<span class="literal">null</span>;</span><br><span class="line">        <span class="type">int</span> carry=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> sum,val;</span><br><span class="line">            l1!=<span class="literal">null</span>||l2!=<span class="literal">null</span>;</span><br><span class="line">            l1=l1==<span class="literal">null</span>?<span class="literal">null</span>:l1.next,</span><br><span class="line">            l2=l2==<span class="literal">null</span>?<span class="literal">null</span>:l2.next)&#123;</span><br><span class="line">                sum=(l1==<span class="literal">null</span>?<span class="number">0</span>:l1.val)+(l2==<span class="literal">null</span>?<span class="number">0</span>:l2.val)+carry;</span><br><span class="line">                val=sum%<span class="number">10</span>;</span><br><span class="line">                carry=sum/<span class="number">10</span>;</span><br><span class="line">                <span class="keyword">if</span>(ans==<span class="literal">null</span>)&#123;</span><br><span class="line">                    ans= <span class="keyword">new</span> <span class="title class_">ListNode</span>(val);</span><br><span class="line">                    cur=ans;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    cur.next=<span class="keyword">new</span> <span class="title class_">ListNode</span>(val);</span><br><span class="line">                    cur=cur.next;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(carry!=<span class="number">0</span>)&#123;</span><br><span class="line">                cur.next=<span class="keyword">new</span> <span class="title class_">ListNode</span>(carry);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="划分链表"><a href="#划分链表" class="headerlink" title="划分链表"></a>划分链表</h2><ul><li>题目要求：将链表分为两个部分，前一部分小于x，后一部分大于等于x，且划分后不改变链表的相对次序</li><li><p>题目链接：<a href="https://leetcode.cn/problems/partition-list/">https://leetcode.cn/problems/partition-list/</a></p></li><li><p><strong><em>划分链表实现：</em></strong></p><ul><li>首先定义四个结点，分别表示小于x的链表头结点，小于x的链表尾结点，大于等于x的链表头结点，大于等于x的链表尾结点，以及当前遍历的结点的下一个结点的位置</li><li>遍历链表，首先先更新next结点为下一个结点</li><li>然后判断当前结点的数值是否小于x，如果是，则将当前结点插入到小于x的链表末尾，并更新小于x的链表尾结点为当前结点</li><li>如果当前结点的数值大于等于x，则将当前结点插入到大于等于x的链表末尾，并更新大于等于x的链表尾结点为当前结点</li><li>如果这是第一个元素还需要记录该链表的头为当前结点</li><li>更新当前链表到下一个结点</li><li>最后遍历结束，判断小于x的链表是否有值，</li><li>若没有则直接返回大于x的链表的头指针，若有值则将大于等于x的链表头结点连接到小于x的链表尾结点的next位置</li><li>返回小于x的链表头结点</li></ul></li></ul><div class="tabs" id="划分代码"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#划分代码-1">代码</button></li><li class="tab"><button type="button" data-href="#划分代码-2">提交代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="划分代码-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 不要提交这个类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> val;</span><br><span class="line">        <span class="keyword">public</span> ListNode next;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">(<span class="type">int</span> val, ListNode next)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.val = val;</span><br><span class="line">            <span class="built_in">this</span>.next = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title function_">partition</span><span class="params">(ListNode head, <span class="type">int</span> x)</span> &#123;</span><br><span class="line">            <span class="comment">//&lt; x的区域的链表的头和尾</span></span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">leftHead</span> <span class="operator">=</span> <span class="literal">null</span>, leftTail = <span class="literal">null</span>;</span><br><span class="line">            <span class="comment">//&gt;= x的区域的链表的头和尾</span></span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">rightHead</span> <span class="operator">=</span> <span class="literal">null</span>, rightTail = <span class="literal">null</span>;</span><br><span class="line">            <span class="comment">// 用来存储下一个结点的位置，防止链表断连</span></span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">while</span> (head != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">//更新next的位置</span></span><br><span class="line">                next = head.next;</span><br><span class="line">                <span class="comment">//断连，重新划分该结点属于哪个链表,必须要要，否则可能有成环的情况</span></span><br><span class="line">                head.next = <span class="literal">null</span>;</span><br><span class="line">                <span class="comment">//小于的区域</span></span><br><span class="line">                <span class="keyword">if</span> (head.val &lt; x) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (leftHead == <span class="literal">null</span>) &#123;</span><br><span class="line">                        leftHead = head;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        leftTail.next = head;</span><br><span class="line">                    &#125;</span><br><span class="line">                    leftTail = head;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (rightHead == <span class="literal">null</span>) &#123;</span><br><span class="line">                        rightHead = head;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        rightTail.next = head;</span><br><span class="line">                    &#125;</span><br><span class="line">                    rightTail = head;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//更新到原链表的下一个结点</span></span><br><span class="line">                head = next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (leftHead == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> rightHead;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// &lt; x的区域有内容，将大于区域的头接到小于区域的尾部</span></span><br><span class="line">            leftTail.next = rightHead;</span><br><span class="line">            <span class="keyword">return</span> leftHead;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="划分代码-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">partition</span><span class="params">(ListNode head, <span class="type">int</span> x)</span> &#123;</span><br><span class="line">        ListNode leftHead=<span class="literal">null</span>,leftTail=<span class="literal">null</span>,rightHead=<span class="literal">null</span>,rightTail=<span class="literal">null</span>;</span><br><span class="line">        ListNode next=<span class="literal">null</span>;</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">while</span>(head!=<span class="literal">null</span>)&#123;</span><br><span class="line">            next=head.next;</span><br><span class="line">            head.next=<span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">if</span>(head.val&lt;x)&#123;</span><br><span class="line">                <span class="keyword">if</span>(leftHead==<span class="literal">null</span>)</span><br><span class="line">                    leftHead=head;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    leftTail.next=head;</span><br><span class="line">                leftTail=head;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(rightHead==<span class="literal">null</span>)</span><br><span class="line">                    rightHead=head;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    rightTail.next=head;</span><br><span class="line">                rightTail=head;</span><br><span class="line">            &#125;</span><br><span class="line">            head=next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(leftHead==<span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> rightHead;</span><br><span class="line">        leftTail.next=rightHead;</span><br><span class="line">        <span class="keyword">return</span> leftHead;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="队列和栈"><a href="#队列和栈" class="headerlink" title="队列和栈"></a>队列和栈</h1><ul><li>队列：先进先出</li><li>栈：先进后出<h2 id="使用链表和数组实现"><a href="#使用链表和数组实现" class="headerlink" title="使用链表和数组实现"></a>使用链表和数组实现</h2></li><li><p>使用链表实现队列：</p><ul><li>这里直接使用Java内部提供的双端链表实现的队列<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Queue1</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// java中的双向链表LinkedList</span></span><br><span class="line">    <span class="comment">// 单向链表就足够了</span></span><br><span class="line">    <span class="keyword">public</span> Queue&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 调用任何方法之前，先调用这个方法来判断队列内是否有东西</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 向队列中加入num，加到尾巴</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">offer</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        queue.offer(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从队列拿，从头拿</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">poll</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue.poll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回队列头的元素但是不弹出</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">peek</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue.peek();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回目前队列里有几个数</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>使用数组实现队列：</p><ul><li>前提是该队列最大长度是固定的，即数组的长度是固定的</li><li>不要求队列的头部必须待在数组头部，可以待在数组的任意位置</li></ul></li><li>实际刷题时更常见的写法，因为常数时间好，且一般笔试、面试都会有一个明确数据量</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Queue2</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] queue;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> l;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> r;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 加入操作的总次数上限是多少，一定要明确</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Queue2</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        queue = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        l = <span class="number">0</span>;</span><br><span class="line">        r = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 调用任何方法之前，先调用这个方法来判断队列内是否有东西</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> l == r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">offer</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        queue[r++] = num;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">poll</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue[l++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ?</span></span><br><span class="line">    <span class="comment">// l...r-1 r</span></span><br><span class="line">    <span class="comment">// [l..r)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">head</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue[l];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">tail</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue[r - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> r - l;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>使用数组实现栈:<ul><li>链表实现的栈Java内部已经提供了，不过常数时间不太好</li><li>前提依旧是最大长度固定</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Stack2</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span>[] stack;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> size;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 同时在栈里的元素个数不会超过n</span></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Stack2</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">            stack = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">            size = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 调用任何方法之前，先调用这个方法来判断栈内是否有东西</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> size == <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">            stack[size++] = num;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> stack[--size];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">peek</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> stack[size - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> size;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>设置环形队列</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyCircularQueue</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span>[] queue;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> l, r, size, limit;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 同时在队列里的数字个数，不要超过k</span></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">MyCircularQueue</span><span class="params">(<span class="type">int</span> k)</span> &#123;</span><br><span class="line">            queue = <span class="keyword">new</span> <span class="title class_">int</span>[k];</span><br><span class="line">            l = r = size = <span class="number">0</span>;</span><br><span class="line">            limit = k;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 如果队列满了，什么也不做，返回false</span></span><br><span class="line">        <span class="comment">// 如果队列没满，加入value，返回true</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">enQueue</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (isFull()) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                queue[r] = value;</span><br><span class="line">                <span class="comment">// r++, 结束了，跳回0</span></span><br><span class="line">                r = r == limit - <span class="number">1</span> ? <span class="number">0</span> : (r + <span class="number">1</span>);</span><br><span class="line">                size++;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 如果队列空了，什么也不做，返回false</span></span><br><span class="line">        <span class="comment">// 如果队列没空，弹出头部的数字，返回true</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">deQueue</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (isEmpty()) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// l++, 结束了，跳回0</span></span><br><span class="line">                l = l == limit - <span class="number">1</span> ? <span class="number">0</span> : (l + <span class="number">1</span>);</span><br><span class="line">                size--;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 返回队列头部的数字（不弹出），如果没有数返回-1</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">Front</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (isEmpty()) &#123;</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> queue[l];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">Rear</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (isEmpty()) &#123;</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">last</span> <span class="operator">=</span> r == <span class="number">0</span> ? (limit - <span class="number">1</span>) : (r - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">return</span> queue[last];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> size == <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isFull</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> size == limit;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="栈和队列相互实现"><a href="#栈和队列相互实现" class="headerlink" title="栈和队列相互实现"></a>栈和队列相互实现</h2><h3 id="使用栈实现队列"><a href="#使用栈实现队列" class="headerlink" title="使用栈实现队列"></a>使用栈实现队列</h3><ul><li>仅仅需要两个栈即可实现，一个栈叫做in，一个栈叫做out，in栈用来接收数据，out栈用来输出数据，倒数据时严格遵循两点要求<ul><li>out栈为空时，才能倒数据到out栈</li><li>一旦倒数据，in栈必须一下倒完，不能有数据留在in栈中</li></ul></li><li>测试链接 : <a href="https://leetcode.cn/problems/implement-queue-using-stacks/">https://leetcode.cn/problems/implement-queue-using-stacks/</a></li><li><strong><em>实现流程：</em></strong><ul><li>先对两个栈进行初始化，使用泛型时，要记住使用引用数据类型</li><li>接着编写in栈倒数据到out栈的方法，这个方法十分重要，应当实现当out栈为空时，将in栈的数据倒入out栈中，当out栈不为空则不进行操作</li><li>编写入队的push方法时，直接将数据push到in栈中即可，另外要在push方法后调用inToOut()方法，在out栈为空的时候，将in栈的数据倒到out栈中，防止数据一直堆积在in栈中</li><li>编写pop方法时，要先调用inToOut()方法，确保out栈中没数据的时候，及时从in栈中获取，然后返回out栈的栈顶元素</li><li>编写peek方法时，要先调用inToOut()方法，确保out栈中没数据的时候，及时从in栈中获取，然后返回out栈的栈顶元素</li><li>编写empty方法时，即可以判断in栈和out栈是否都为空，也可以先调用inToOut()方法，再判断out栈是否为空</li></ul></li></ul><div class="tabs" id="栈实现队列"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#栈实现队列-1">实现代码</button></li><li class="tab"><button type="button" data-href="#栈实现队列-2">测试代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="栈实现队列-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyQueue</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> Stack&lt;Integer&gt; in;</span><br><span class="line">        <span class="keyword">public</span> Stack&lt;Integer&gt; out;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">MyQueue</span><span class="params">()</span> &#123;</span><br><span class="line">            in = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;Integer&gt;();</span><br><span class="line">            out = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;Integer&gt;();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">inToOut</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="comment">// 只有out栈为空时，才能倒数据</span></span><br><span class="line">            <span class="keyword">if</span> (out.empty()) &#123;</span><br><span class="line">                <span class="keyword">while</span> (!in.empty()) &#123;</span><br><span class="line">                    out.push(in.pop());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">            <span class="comment">// 当out栈为空时，则将in栈的数据全倒到out栈中</span></span><br><span class="line">            <span class="comment">// 当out栈不为空时，则先存在in栈中</span></span><br><span class="line">            in.push(x);</span><br><span class="line">            inToOut();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">            inToOut();</span><br><span class="line">            <span class="keyword">return</span> out.pop();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">peek</span><span class="params">()</span> &#123;</span><br><span class="line">            inToOut();</span><br><span class="line">            <span class="keyword">return</span> out.peek();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">empty</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> in.isEmpty() &amp;&amp; out.isEmpty();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="栈实现队列-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyQueue</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Stack&lt;Integer&gt; in;</span><br><span class="line">    <span class="keyword">public</span> Stack&lt;Integer&gt; out;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyQueue</span><span class="params">()</span> &#123;</span><br><span class="line">        in= <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;Integer&gt;();</span><br><span class="line">        out= <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;Integer&gt;();</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  将in栈的数据全部倒到out栈中</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">inToOut</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(out.empty())&#123;</span><br><span class="line">            <span class="keyword">while</span>(!in.empty())&#123;</span><br><span class="line">                out.push(in.pop());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line"></span><br><span class="line">        in.push(x);</span><br><span class="line"><span class="comment">//  如果out栈还有数据就不执行，如果没有数据则推in栈的数据到out栈</span></span><br><span class="line">        inToOut();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        inToOut();</span><br><span class="line">        <span class="keyword">return</span> out.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">peek</span><span class="params">()</span> &#123;</span><br><span class="line">        inToOut();</span><br><span class="line">        <span class="keyword">return</span> out.peek();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">empty</span><span class="params">()</span> &#123;</span><br><span class="line">        inToOut();</span><br><span class="line">        <span class="keyword">return</span> out.empty();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your MyQueue object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * MyQueue obj = new MyQueue();</span></span><br><span class="line"><span class="comment"> * obj.push(x);</span></span><br><span class="line"><span class="comment"> * int param_2 = obj.pop();</span></span><br><span class="line"><span class="comment"> * int param_3 = obj.peek();</span></span><br><span class="line"><span class="comment"> * boolean param_4 = obj.empty();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="使用队列实现栈"><a href="#使用队列实现栈" class="headerlink" title="使用队列实现栈"></a>使用队列实现栈</h3><ul><li>使用队列实现栈，使用一个队列即可，实际主要变化的是入队操作，使其入队后在队列的次序和栈的次序一致，出队操作则保持栈的先进后出的次序</li><li>测试链接 : <a href="https://leetcode.cn/problems/implement-stack-using-queues/">https://leetcode.cn/problems/implement-stack-using-queues/</a></li><li>入队操作的时间复杂度为O(N),其他操作的时间复杂度均为O(1)</li><li><strong><em>实现原理：</em></strong> 每当元素入队时，记录下当前队列长度，将队列现有数据全部出队，将新元素入队，再把原来的数据重新入队，这样就实现了入队时的栈先进后出的次序</li></ul><div class="tabs" id="队列实现栈"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#队列实现栈-1">实现代码</button></li><li class="tab"><button type="button" data-href="#队列实现栈-2">测试代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="队列实现栈-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyStack</span> &#123;</span><br><span class="line"></span><br><span class="line">Queue&lt;Integer&gt; queue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">MyStack</span><span class="params">()</span> &#123;</span><br><span class="line">queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Integer&gt;();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// O(n)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> queue.size();</span><br><span class="line">queue.offer(x);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">queue.offer(queue.poll());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> queue.poll();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> queue.peek();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">empty</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> queue.isEmpty();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="队列实现栈-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyStack</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Queue&lt;Integer&gt; queue;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyStack</span><span class="params">()</span> &#123;</span><br><span class="line">        queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Integer&gt;();</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="type">int</span> n=queue.size();</span><br><span class="line">        queue.offer(x);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            queue.offer(queue.poll());</span><br><span class="line">        &#125;        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue.poll();        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue.peek();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">empty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your MyStack object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * MyStack obj = new MyStack();</span></span><br><span class="line"><span class="comment"> * obj.push(x);</span></span><br><span class="line"><span class="comment"> * int param_2 = obj.pop();</span></span><br><span class="line"><span class="comment"> * int param_3 = obj.top();</span></span><br><span class="line"><span class="comment"> * boolean param_4 = obj.empty();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="栈的入门题目——最小栈"><a href="#栈的入门题目——最小栈" class="headerlink" title="栈的入门题目——最小栈"></a>栈的入门题目——最小栈</h2><ul><li><ul><li>栈的入门题目，要求实现一个栈，并且实现一个getmin()方法，要求时间复杂度为O(1)，因此不能依靠遍历获得最小值</li></ul></li><li>测试链接 : <a href="https://leetcode.cn/problems/min-stack/">https://leetcode.cn/problems/min-stack/</a></li><li><strong><em>最小栈实现思路：</em></strong><ul><li>使用两个栈，一个栈用于存储数据，一个栈用于存储最小值</li><li>每次在数据栈中添加元素时，比较新添数据和最小栈的栈顶哪个更小，将更小的数据重新压入最小栈，一直保持数据栈和最小栈的数量一致</li><li>每次删除数据时，同步删除最小栈的栈顶数据</li><li>每次获取最小值时，直接返回最小栈的栈顶数据</li></ul></li><li>因为前面提到的内置栈的常数时间复杂度较慢，所以这里两种方式的栈都记录一下<div class="tabs" id="最小栈"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#最小栈-1">测试代码——内置栈</button></li><li class="tab"><button type="button" data-href="#最小栈-2">测试代码——自定义数组栈</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="最小栈-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MinStack</span> &#123;</span><br><span class="line">    <span class="comment">// 初始化最小栈和数据栈</span></span><br><span class="line">    <span class="keyword">public</span> Stack&lt;Integer&gt; data;</span><br><span class="line">    <span class="keyword">public</span> Stack&lt;Integer&gt; min;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MinStack</span><span class="params">()</span> &#123;</span><br><span class="line">        data = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;Integer&gt;();</span><br><span class="line">        min = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;Integer&gt;();       </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="comment">// 先将数据压入数据栈中</span></span><br><span class="line">        data.push(val);</span><br><span class="line">        <span class="comment">// 如果最小栈为空或者新添的数据小于最小栈的栈顶数据，则将新添的数据重新压入最小栈</span></span><br><span class="line">        <span class="keyword">if</span>(min.isEmpty()||val&lt;min.peek())&#123;</span><br><span class="line">            min.push(val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 否则，将最小栈的栈顶数据重新压入最小栈</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            min.push(min.peek());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 删除两个栈的栈顶数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        data.pop();</span><br><span class="line">        min.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 返回数据栈的栈顶数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> data.peek();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 返回最小栈的栈顶数据即为最小值</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMin</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> min.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your MinStack object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * MinStack obj = new MinStack();</span></span><br><span class="line"><span class="comment"> * obj.push(val);</span></span><br><span class="line"><span class="comment"> * obj.pop();</span></span><br><span class="line"><span class="comment"> * int param_3 = obj.top();</span></span><br><span class="line"><span class="comment"> * int param_4 = obj.getMin();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="最小栈-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MinStack</span> &#123;</span><br><span class="line">    <span class="comment">// 定义一个比较大的数，如果测试题目的测试数据又变大则增大这个最大值即可</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">int</span> Max=<span class="number">10001</span>;</span><br><span class="line"><span class="comment">// 两个数组，分别代替数据栈和最小栈</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] data;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] min;</span><br><span class="line"><span class="comment">// 记录当前的数据量</span></span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MinStack</span><span class="params">()</span>&#123;</span><br><span class="line">        data = <span class="keyword">new</span> <span class="title class_">int</span>[Max];</span><br><span class="line">        min = <span class="keyword">new</span> <span class="title class_">int</span>[Max];</span><br><span class="line">        size=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        data[size]=val;</span><br><span class="line">        <span class="keyword">if</span>(size==<span class="number">0</span>||val&lt;=min[size-<span class="number">1</span>])</span><br><span class="line">            min[size]=val;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            min[size]=min[size-<span class="number">1</span>];</span><br><span class="line">        size++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 直接将长度减一即可，增加数据时会直接将原始数据覆盖掉</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        size--;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> data[size-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMin</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> min[size-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your MinStack object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * MinStack obj = new MinStack();</span></span><br><span class="line"><span class="comment"> * obj.push(val);</span></span><br><span class="line"><span class="comment"> * obj.pop();</span></span><br><span class="line"><span class="comment"> * int param_3 = obj.top();</span></span><br><span class="line"><span class="comment"> * int param_4 = obj.getMin();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ul><h2 id="双端队列"><a href="#双端队列" class="headerlink" title="双端队列"></a>双端队列</h2><ul><li>双端队列和名字一样，是一个队列，允许在两端进行插入和删除操作，即可以从头部尾部进，也可以从头部尾部出</li><li>用双链表实现只需要特殊化一下插入和删除的逻辑即可，这里主要记一下用固定数组实现双端队列</li><li>测试链接 : <a href="https://leetcode.cn/problems/design-circular-deque/">https://leetcode.cn/problems/design-circular-deque/</a></li></ul><h1 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h1><h2 id="二叉树的遍历"><a href="#二叉树的遍历" class="headerlink" title="二叉树的遍历"></a>二叉树的遍历</h2><ul><li>二叉树的遍历，分为前序、中序、后序、层序遍历，这里主要记录二叉树的三序遍历<ul><li>前序遍历：先遍历根节点，再遍历左子树，最后遍历右子树</li><li>中序遍历：先遍历左子树，再遍历根节点，最后遍历右子树</li><li>后序遍历：先遍历左子树，再遍历右子树，最后遍历根节点</li><li>层序遍历：按照层的顺序遍历，即先遍历根节点，再遍历左右子树，最后遍历左右子树的子节点</li></ul></li><li>二叉树的三序遍历有递归和非递归两种方式，任何一种递归的方式都可以转换为非递归方式，因此这里主要记录一下递归方式</li></ul><h3 id="递归遍历"><a href="#递归遍历" class="headerlink" title="递归遍历"></a>递归遍历</h3><ul><li><p>二叉树的遍历实现思路：</p><ul><li>创建一个函数，在函数中，如果当前节点为空则退出</li><li>接着先序遍历则优先打印当前结点的值，接着递归调用该函数，此时传入的值为当前节点的左子树，接着调用函数传入当前结点的右子树</li><li>中序后序的区别仅仅是打印和递归调用的顺序不同</li></ul></li><li><p>递归序：</p><ul><li>1-&gt;2-&gt;4-&gt;4-&gt;4-&gt;2-&gt;5-&gt;5-&gt;5-&gt;2-&gt;</li><li>1-&gt;3-&gt;6-&gt;6-&gt;6-&gt;3-&gt;7-&gt;7-&gt;7-&gt;3-&gt;</li><li>1</li></ul></li><li>递归序即为在递归过程中访问的顺序，不难发现，只要一个结点不为空结点，那么一定会访问三次，而三种遍历方式，控制的就是他是在哪次访问的时候输出当前结点的值</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250913184222.png"/></div></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> val;</span><br><span class="line">        <span class="keyword">public</span> TreeNode left;</span><br><span class="line">        <span class="keyword">public</span> TreeNode right;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">TreeNode</span><span class="params">(<span class="type">int</span> x)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.val = x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 先序遍历</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">preTraversal</span><span class="params">(TreeNode head)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.print(head.val+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        preTraversal(head.left);</span><br><span class="line">        preTraversal(head.right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 中序遍历 </span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">inTraversal</span><span class="params">(TreeNode head)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        inTraversal(head.left);</span><br><span class="line">        System.out.print(head.val+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        inTraversal(head.right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 后序遍历</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">afterTraversal</span><span class="params">(TreeNode head)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        afterTraversal(head.left);</span><br><span class="line">        afterTraversal(head.right);</span><br><span class="line">        System.out.print(head.val+<span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">head</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="number">1</span>);</span><br><span class="line">        head.left = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="number">2</span>);</span><br><span class="line">        head.right = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="number">3</span>);</span><br><span class="line">        head.left.left = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="number">4</span>);</span><br><span class="line">        head.left.right = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="number">5</span>);</span><br><span class="line">        head.right.left = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="number">6</span>);</span><br><span class="line">        head.right.right = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="number">7</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;先序遍历结果： &quot;</span>);</span><br><span class="line">        preTraversal(head);</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;中序遍历结果： &quot;</span>);</span><br><span class="line">        inTraversal(head);</span><br><span class="line">        System.out.println();</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;后序遍历结果： &quot;</span>);</span><br><span class="line">        afterTraversal(head);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="非递归遍历"><a href="#非递归遍历" class="headerlink" title="非递归遍历"></a>非递归遍历</h3><h4 id="先序遍历"><a href="#先序遍历" class="headerlink" title="先序遍历"></a>先序遍历</h4><ul><li>用栈实现二叉树的先序遍历思路：</li><li>实现思路：<ul><li>判断当前节点是否为空，不为空时则将结点压入栈</li><li>接着循环遍历栈，循环条件为栈不为空，循环过程中先弹出一个结点，此时应当记录一下该结点</li><li>输出弹出的那个结点的值</li><li>因为栈是先进后出，所以应当先判断是否有右子树，有则将右子树入栈，无则判断是否有左子树，有则将左子树入栈，无则退出此次循环</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">preOrder</span><span class="params">(TreeNode head)</span>&#123;</span><br><span class="line"><span class="comment">//       为空就直接返回</span></span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        将当前结点压入栈</span></span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        stack.push(head);</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line"><span class="comment">//            栈顶元素出栈，并记录下该结点</span></span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">            System.out.print(node.val+<span class="string">&quot; &quot;</span>);</span><br><span class="line"><span class="comment">//            判断出栈的结点是否有右子树</span></span><br><span class="line">            <span class="keyword">if</span>(node.right!=<span class="literal">null</span>)&#123;</span><br><span class="line">                stack.push(node.right);</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//            判断出栈的结点是否有左子树</span></span><br><span class="line">            <span class="keyword">if</span>(node.left!=<span class="literal">null</span>)&#123;</span><br><span class="line">                stack.push(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="中序遍历"><a href="#中序遍历" class="headerlink" title="中序遍历"></a>中序遍历</h4><ul><li>用栈实现二叉树的中序遍历思路：<ul><li>将树的左边界依次进栈，直到左边界全部压入栈中</li><li>接着将栈里元素弹出，打印该结点并将弹出结点的右树重复执行上一个步骤直到栈为空</li><li>测试链接：<a href="https://leetcode.cn/problems/binary-tree-inorder-traversal/">https://leetcode.cn/problems/binary-tree-inorder-traversal/</a> <figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> static <span class="literal">void</span> inOrder(TreeNode head)&#123;</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="built_in">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">Stack</span>&lt;TreeNode&gt; <span class="built_in">stack</span> = <span class="literal">new</span> <span class="built_in">Stack</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span>(!<span class="built_in">stack</span>.isEmpty()||head!=<span class="built_in">null</span>)&#123;</span><br><span class="line"><span class="comment">//            将当前结点的左侧子树全部压入栈，之后head为空，但栈不为空，再执行else方法</span></span><br><span class="line">            <span class="keyword">if</span>(head!=<span class="built_in">null</span>)&#123;</span><br><span class="line">                <span class="built_in">stack</span>.push(head);</span><br><span class="line">                head = head.left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">//                将栈中元素出栈并打印，且如果该结点有右子树的话使其再次执行前一个步骤</span></span><br><span class="line">                head = <span class="built_in">stack</span>.pop();</span><br><span class="line">                System.out.print(head.val+<span class="string">&quot; &quot;</span>);</span><br><span class="line">                head = head.right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h4 id="后序遍历"><a href="#后序遍历" class="headerlink" title="后序遍历"></a>后序遍历</h4><ul><li>后续遍历有两种实现方法，一种是使用两个栈来实现，另一种是使用一个栈加上哨兵记录栈内结点来实现</li><li>非递归的后序遍历事实上和先序遍历一样，只是将左右子树顺序交换一下后再倒过来输出。先序是中-&gt;左-&gt;右，交换位置后是中-&gt;右-&gt;左，再倒过来输出就是后序:左-&gt;右-&gt;中</li><li>类似两个栈实现队列的思路，通过两个栈来实现后序遍历</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">postOrder</span><span class="params">(TreeNode head)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;TreeNode&gt; in = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        Stack&lt;TreeNode&gt; out = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        in.push(head);</span><br><span class="line">        TreeNode node;</span><br><span class="line">        <span class="keyword">while</span>(!in.isEmpty())&#123;</span><br><span class="line">            node = in.pop();</span><br><span class="line">            out.push(node);</span><br><span class="line">            <span class="keyword">if</span>(node.left!=<span class="literal">null</span>)&#123;</span><br><span class="line">                in.push(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(node.right!=<span class="literal">null</span>)&#123;</span><br><span class="line">                in.push(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!out.isEmpty())&#123;</span><br><span class="line">            System.out.print(out.pop().val+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ul><li>递归方法遍历二叉树，前面分析了每个结点都会访问三次，所以时间复杂度是O(n),非递归方法每个结点也都会进栈和出栈，时间复杂度也是O(n)</li><li>不管是递归还是非递归，空间复杂度都是O(h)，此处h为<code>树的高度</code></li><li>两个栈实现后序遍历的方法，非常好写且容易理解但不推荐，因为他要一下收集全部的结点，最后逆序输出，额外的空间复杂度为O(N)，很浪费空间。</li></ul><div class="tabs" id="遍历二叉树"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#遍历二叉树-1">代码</button></li><li class="tab"><button type="button" data-href="#遍历二叉树-2">输出</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="遍历二叉树-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> val;</span><br><span class="line">        <span class="keyword">public</span> TreeNode left;</span><br><span class="line">        <span class="keyword">public</span> TreeNode right;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">TreeNode</span><span class="params">(<span class="type">int</span> x)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.val = x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    先序遍历</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">preTraversal</span><span class="params">(TreeNode head)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.print(head.val+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        preTraversal(head.left);</span><br><span class="line">        preTraversal(head.right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">inTraversal</span><span class="params">(TreeNode head)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        inTraversal(head.left);</span><br><span class="line">        System.out.print(head.val+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        inTraversal(head.right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">afterTraversal</span><span class="params">(TreeNode head)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        afterTraversal(head.left);</span><br><span class="line">        afterTraversal(head.right);</span><br><span class="line">        System.out.print(head.val+<span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">preOrder</span><span class="params">(TreeNode head)</span>&#123;</span><br><span class="line"><span class="comment">//       为空就直接返回</span></span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        将当前结点压入栈</span></span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        stack.push(head);</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line"><span class="comment">//            栈顶元素出栈，并记录下该结点</span></span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">            System.out.print(node.val+<span class="string">&quot; &quot;</span>);</span><br><span class="line"><span class="comment">//            判断出栈的结点是否有右子树</span></span><br><span class="line">            <span class="keyword">if</span>(node.right!=<span class="literal">null</span>)&#123;</span><br><span class="line">                stack.push(node.right);</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//            判断出栈的结点是否有左子树</span></span><br><span class="line">            <span class="keyword">if</span>(node.left!=<span class="literal">null</span>)&#123;</span><br><span class="line">                stack.push(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">inOrder</span><span class="params">(TreeNode head)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty()||head!=<span class="literal">null</span>)&#123;</span><br><span class="line"><span class="comment">//            将当前结点的左侧子树全部压入栈，之后head为空，但栈不为空，再执行else方法</span></span><br><span class="line">            <span class="keyword">if</span>(head!=<span class="literal">null</span>)&#123;</span><br><span class="line">                stack.push(head);</span><br><span class="line">                head = head.left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">//                将栈中元素出栈并打印，且如果该结点有右子树的话使其再次执行前一个步骤</span></span><br><span class="line">                head = stack.pop();</span><br><span class="line">                System.out.print(head.val+<span class="string">&quot; &quot;</span>);</span><br><span class="line">                head = head.right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">postOrder</span><span class="params">(TreeNode head)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;TreeNode&gt; in = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        Stack&lt;TreeNode&gt; out = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        in.push(head);</span><br><span class="line">        TreeNode node;</span><br><span class="line">        <span class="keyword">while</span>(!in.isEmpty())&#123;</span><br><span class="line">            node = in.pop();</span><br><span class="line">            out.push(node);</span><br><span class="line">            <span class="keyword">if</span>(node.left!=<span class="literal">null</span>)&#123;</span><br><span class="line">                in.push(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(node.right!=<span class="literal">null</span>)&#123;</span><br><span class="line">                in.push(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!out.isEmpty())&#123;</span><br><span class="line">            System.out.print(out.pop().val+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">head</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="number">1</span>);</span><br><span class="line">        head.left = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="number">2</span>);</span><br><span class="line">        head.right = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="number">3</span>);</span><br><span class="line">        head.left.left = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="number">4</span>);</span><br><span class="line">        head.left.right = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="number">5</span>);</span><br><span class="line">        head.right.left = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="number">6</span>);</span><br><span class="line">        head.right.right = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="number">7</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;递归先序遍历结果： &quot;</span>);</span><br><span class="line">        preTraversal(head);</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;递归中序遍历结果： &quot;</span>);</span><br><span class="line">        inTraversal(head);</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;递归后序遍历结果： &quot;</span>);</span><br><span class="line">        afterTraversal(head);</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;非递归先序遍历结果： &quot;</span>);</span><br><span class="line">        preOrder(head);</span><br><span class="line">        System.out.println(<span class="string">&quot;非递归中序遍历结果： &quot;</span>);</span><br><span class="line">        inOrder(head);</span><br><span class="line">        System.out.println(<span class="string">&quot;非递归后序遍历结果： &quot;</span>);</span><br><span class="line">        postOrder(head);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="遍历二叉树-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">先序遍历结果： </span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">4</span> <span class="number">5</span> <span class="number">3</span> <span class="number">6</span> <span class="number">7</span> </span><br><span class="line">中序遍历结果： </span><br><span class="line"><span class="number">4</span> <span class="number">2</span> <span class="number">5</span> <span class="number">1</span> <span class="number">6</span> <span class="number">3</span> <span class="number">7</span> </span><br><span class="line">后序遍历结果： </span><br><span class="line"><span class="number">4</span> <span class="number">5</span> <span class="number">2</span> <span class="number">6</span> <span class="number">7</span> <span class="number">3</span> <span class="number">1</span> </span><br><span class="line">非递归先序遍历结果： </span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">4</span> <span class="number">5</span> <span class="number">3</span> <span class="number">6</span> <span class="number">7</span> </span><br><span class="line">非递归中序遍历结果： </span><br><span class="line"><span class="number">4</span> <span class="number">2</span> <span class="number">5</span> <span class="number">1</span> <span class="number">6</span> <span class="number">3</span> <span class="number">7</span> </span><br><span class="line">非递归后序遍历结果： </span><br><span class="line"><span class="number">4</span> <span class="number">5</span> <span class="number">2</span> <span class="number">6</span> <span class="number">7</span> <span class="number">3</span> <span class="number">1</span> </span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="递归和master公式"><a href="#递归和master公式" class="headerlink" title="递归和master公式"></a>递归和master公式</h1><h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h2><ul><li>递归的底层是利用<code>系统栈</code>实现的，<strong>递归的实现原理</strong>：每次递归调用都会将当前调用的参数保存在系统栈中，当递归调用返回时，系统栈中的参数会依次出栈，并返回给调用者。</li><li><strong>任何的递归都可以用非递归实现</strong>，但非递归实现不一定比递归快，改为非递归的好处是不用系统栈空间，系统栈空间相比内存栈空间更宝贵。</li><li>递归该非递归的必要性：<ul><li>工程上几乎一定要改，除非确定数据量再大，递归也一定不深，例如归并排序，快速排序，线段树等应用</li><li>算法题中能通过就不用改。</li></ul></li></ul><h2 id="Master公式"><a href="#Master公式" class="headerlink" title="Master公式"></a>Master公式</h2><ul><li>所有<code>子问题规模相同</code>的递归才能用Master公式：T(n) = a*T(n/b) + O(N<sup>c</sup>)<ul><li>a：子问题的数量</li><li>n/b：每个子问题的规模</li><li>O(N<sup>c</sup>)：除了子问题调用外的时间复杂度</li></ul></li><li>如果log(b,a) &lt; c, 复杂度为O(N<sup>c</sup>)</li><li>如果log(b,a) &gt; c, 复杂度为O(n^log(b,a))</li><li>如果log(b,a) = c, 复杂度为O(n^c*log(n))</li></ul><h1 id="归并算法"><a href="#归并算法" class="headerlink" title="归并算法"></a>归并算法</h1><h2 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h2><ul><li>归并排序的核心过程是：做部分排好序、右部分排好序，利用<code>merge</code>过程让左右整体有序</li><li>merge过程：谁小拷贝谁，直到两边的数字全部拷贝完，最后将排好序的数组拷贝回原数组</li><li>归并排序有递归实现和非递归实现</li><li>时间复杂度为O(n*logn)</li><li>需要辅助数组，空间复杂度为O(n)</li><li><p>归并排序为什么速度更快？因为比较行为没有浪费</p></li><li><p><strong><em>归并思路：</em></strong></p><ul><li>定义两个指针，分别指向两个有序数组的起始位置</li><li>定义一个辅助数组，用于保存排序后的结果</li><li>判断两个指针指向的元素大小，将较小的元素拷贝到辅助数组中，并移动指针，直到某一个数组的指针移动到末尾</li><li>将剩余的元素拷贝到辅助数组中</li><li>将辅助数组拷贝回原数组<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">merge</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> m, <span class="type">int</span> r)</span> &#123;</span><br><span class="line"><span class="comment">//        i记录当前操作了几个数</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l;</span><br><span class="line"><span class="comment">//        a为指向左侧数组的指针</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> l;</span><br><span class="line"><span class="comment">//        b为指向右侧数组的指针</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> m + <span class="number">1</span>;</span><br><span class="line"><span class="comment">//        如果左侧数组和右侧数组都有数</span></span><br><span class="line">        <span class="keyword">while</span> (a &lt;= m &amp;&amp; b &lt;= r) &#123;</span><br><span class="line"><span class="comment">//            左右指针判断谁小拷贝谁，并单增</span></span><br><span class="line">            help[i++] = arr[a] &lt;= arr[b] ? arr[a++] : arr[b++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 左侧指针、右侧指针，必有一个越界、另一个不越界，将不越界的那个继续添加到辅助数组中</span></span><br><span class="line">        <span class="keyword">while</span> (a &lt;= m) </span><br><span class="line">            help[i++] = arr[a++];</span><br><span class="line">        <span class="keyword">while</span> (b &lt;= r) </span><br><span class="line">            help[i++] = arr[b++];</span><br><span class="line">        <span class="keyword">for</span> (i = l; i &lt;= r; i++) </span><br><span class="line">            arr[i] = help[i];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="递归实现"><a href="#递归实现" class="headerlink" title="递归实现"></a>递归实现</h3><ul><li><strong><em>递归思路：</em></strong><ul><li>首先将数组定义在全局域中，方便递归调用</li><li>传入两个参数，分别为需要排序的数组的起始位置和结束位置</li><li>判断这两个参数是否相等，如果相等则直接返回，因为一个数天然有序</li><li>算出中间位置，将数组分为左右两个部分，分别对左右两个部分进行递归调用，进行排序</li><li>归并两个数组，使数组有序</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">mergeSort1</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line"><span class="comment">//        说明只有一个元素，天然有序</span></span><br><span class="line">        <span class="keyword">if</span> (l == r) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        找到数组的中间值</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (l + r) / <span class="number">2</span>;</span><br><span class="line"><span class="comment">//        对左侧进行排序</span></span><br><span class="line">        mergeSort1(l, m);</span><br><span class="line"><span class="comment">//        对右侧进行排序</span></span><br><span class="line">        mergeSort1(m + <span class="number">1</span>, r);</span><br><span class="line"><span class="comment">//        合并左右两侧数组（实际排序的方法）</span></span><br><span class="line">        merge(l, m, r);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="非递归实现"><a href="#非递归实现" class="headerlink" title="非递归实现"></a>非递归实现</h3><ul><li><strong><em>非递归思路</em></strong><ul><li><strong>定数组长度</strong>:假设数组有 <code>n</code> 个元素。</li><li><strong>设置子数组的初始大小</strong>:从 <code>1</code> 开始（每次把相邻的两个“长度为1的数组”合并），然后依次翻倍：<ul><li>第一次合并长度为 <code>1</code> 的小段</li><li>第二次合并长度为 <code>2</code> 的小段</li><li>第三次合并长度为 <code>4</code> 的小段</li><li>…直到子数组大小 ≥ <code>n</code>，排序完成。</li></ul></li><li><strong>合并过程</strong><ul><li>每一轮从数组的起始位置开始，以当前子数组大小 <code>size</code> 为单位，把<strong>相邻的两段有序子数组</strong>进行合并。</li><li>合并时要小心边界：如果最后一段不足 <code>size</code>，就直接并到前一段；如果整个区间不足两段，保持不变。<details class="folding-tag" blue><summary> 举例： </summary>              <div class='content'>              <p>​    数组 <code>[5, 2, 8, 6, 3, 7, 4, 1]</code></p><p>​    第一轮（<code>size = 1</code>）：把 <code>[5]</code> 和 <code>[2]</code> 合并 → <code>[2, 5]</code>，然后 <code>[8]</code> 和 <code>[6]</code> → <code>[6, 8]</code>，依次类推。</p><p>​    第二轮（<code>size = 2</code>）：把 <code>[2, 5]</code> 和 <code>[6, 8]</code> 合并 → <code>[2, 5, 6, 8]</code>，再处理后面几段。</p><p>​    第三轮（<code>size = 4</code>）：继续合并更大的有序段。</p><p>​    最终得到完全有序的数组。</p>              </div>            </details><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">mergeSort2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 一共发生O(logn)次</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> l, m, r, step = <span class="number">1</span>; step &lt; n; step &lt;&lt;= <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// 内部分组merge，时间复杂度O(n)</span></span><br><span class="line">            l = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (l &lt; n) &#123;</span><br><span class="line">                m = l + step - <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// 说明右侧数组不存在，直接跳出</span></span><br><span class="line">                <span class="keyword">if</span> (m + <span class="number">1</span> &gt;= n) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 当右侧数组不满够step时，将r设置为n-1，有多少排多少</span></span><br><span class="line">                r = Math.min(l + (step &lt;&lt; <span class="number">1</span>) - <span class="number">1</span>, n - <span class="number">1</span>);</span><br><span class="line">                merge(l, m, r);</span><br><span class="line">                l = r + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><div class="note warning no-icon flat"><ul><li>递归版归并排序的思路是<code>先拆分再合并</code>，</li><li>非递归实现则是反过来——<code>从最小的子数组开始逐步合并，直到整个数组有序</code>。</li></ul></div></li></ul></li></ul></li><li>递归实现：<ul><li>优点是代码简洁直观，可读性好</li><li>缺点是递归会消耗一定的栈空间，遇到特别大的数组时可能会超出栈空间限制</li></ul></li><li>非递归实现：<ul><li>优点是避免栈空间溢出的问题，不依赖系统调用栈，内存更可控</li><li>缺点是代码复杂度高，且逻辑不如递归直观，程序可读性更差</li></ul></li><li>选择建议：<ul><li>学习、普通场景、小规模排序 → 推荐 递归实现，简单直接。</li><li>工程实践、大规模数据、内存受限场景 → 推荐 非递归实现，更稳健。<h2 id="归并分治"><a href="#归并分治" class="headerlink" title="归并分治"></a>归并分治</h2></li></ul></li></ul><h1 id="随机快速排序"><a href="#随机快速排序" class="headerlink" title="随机快速排序"></a>随机快速排序</h1><ul><li>随机快排的核心思想是<code>递归分治</code>，非递归快排能够实现但不常见<ul><li>先把数组<code>划分</code>为两部分</li><li>再分别对这两部分递归排序</li><li>最终合并</li></ul></li></ul><div class="note waring no-icon flat"><p>要排序数组 <code>[5, 2, 8, 6, 3]</code>：</p><ol><li>随机选一个枢轴，比如随机选到 <code>6</code></li><li>划分：<ul><li>小于等于 6 的放左边 → <code>[5, 2, 3]</code></li><li>大于 6 的放右边 → <code>[8]</code></li><li>枢轴 6 在中间</li><li>得到 <code>[5, 2, 3] | 6 | [8]</code></li></ul></li><li>递归排序 <code>[5, 2, 3]</code> → 得到 <code>[2, 3, 5]</code></li></ol></div><ul><li>排序思路：<ul><li>在数组中随机选择一个下标，将下标对应的数记为标准x，将数组分为两部分，小于标准数，大于标准数</li><li>划分为两部分后，记录下这两部分的边界位置，小于x的便捷位置为first，大于x的边界位置为last</li><li>使用临时变量left和right分别记录下边界位置，此时left和right分别指向小于x的边界位置和大于x的边界位置，left和right之前的数均为x，left之前的数都小于x，right之后的数都大于x</li><li>递归调用 函数，对小于x的边界位置和大于x的边界位置进行排序</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">    <span class="comment">//此时数组不需要排序，直接返回</span></span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 随机生成一个下标，并保存该下标的值</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> arr[l + (<span class="type">int</span>) (Math.random() * (r - l + <span class="number">1</span>))];</span><br><span class="line"><span class="comment">//        根据x值进行对两边分治</span></span><br><span class="line">    partition(l, r, x);</span><br><span class="line">    <span class="comment">// 为了防止底层的递归过程覆盖全局变量</span></span><br><span class="line">    <span class="comment">// 这里用临时变量记录first、last</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> first;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> last;</span><br><span class="line"><span class="comment">//        不断对两部分进行细分、排序</span></span><br><span class="line">    quickSort(l, left - <span class="number">1</span>);</span><br><span class="line">    quickSort(right + <span class="number">1</span>, r);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>划分思路：<ul><li>已知数组中一定有x这个数</li><li>设置两个边界，左边界为left，右边界为right，左边界作为小于x的边界值，右边界作为大于x的边界值</li><li>同时用变量i来记录当前操作的下标</li><li>设置循环，结束条件为i超出数组的边界</li><li>判断当前arr[i]与x的大小关系<ul><li>arr[i] &amp;lt x,则将arr[i]和arr[left]交换位置，left++，i++</li><li>arr[i] &amp;gt x,则将arr[i]和arr[right]交换位置，right—</li><li>arr[i] == x,则i++，继续判断下一个数</li></ul></li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 已知arr[l....r]范围上一定有x这个值</span></span><br><span class="line">    <span class="comment">// 划分数组 &lt;x放左边，==x放中间，&gt;x放右边</span></span><br><span class="line">    <span class="comment">// 把全局变量first, last，更新成==x区域的左右边界</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">partition</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> x)</span> &#123;</span><br><span class="line">        first = l;</span><br><span class="line">        last = r;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l;</span><br><span class="line">        <span class="keyword">while</span> (i &lt;= last) &#123;</span><br><span class="line"><span class="comment">//            相等则直接跳过，判断下一个</span></span><br><span class="line">            <span class="keyword">if</span> (arr[i] == x) &#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[i] &lt; x) &#123;</span><br><span class="line"><span class="comment">//                交换位置，并扩大左侧边界</span></span><br><span class="line">                swap(first++, i++);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">//                交换位置，并扩大右侧边界，因为交换后的值还没有判断他的大小，所以i不需要增加</span></span><br><span class="line">                swap(i, last--);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>测试链接 :<a href="https://www.luogu.com.cn/problem/P1177"> https://www.luogu.com.cn/problem/P1177</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// Main函数中是输入输出处理效率很高的写法</span></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.StreamTokenizer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">MAXN</span> <span class="operator">=</span> <span class="number">100001</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[MAXN];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in));</span><br><span class="line">        <span class="type">StreamTokenizer</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StreamTokenizer</span>(br);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(System.out));</span><br><span class="line">        in.nextToken();</span><br><span class="line">        n = (<span class="type">int</span>) in.nval;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            in.nextToken();</span><br><span class="line">            arr[i] = (<span class="type">int</span>) in.nval;</span><br><span class="line">        &#125;</span><br><span class="line">        quickSort(<span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            out.print(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        out.println(arr[n - <span class="number">1</span>]);</span><br><span class="line">        out.flush();</span><br><span class="line">        out.close();</span><br><span class="line">        br.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">        arr[i] = arr[j];</span><br><span class="line">        arr[j] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        <span class="comment">//此时数组不需要排序，直接返回</span></span><br><span class="line">        <span class="keyword">if</span> (l &gt;= r) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 随机生成一个下标，并保存该下标的值</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> arr[l + (<span class="type">int</span>) (Math.random() * (r - l + <span class="number">1</span>))];</span><br><span class="line"><span class="comment">//        根据x值进行对两边分治</span></span><br><span class="line">        partition(l, r, x);</span><br><span class="line">        <span class="comment">// 为了防止底层的递归过程覆盖全局变量</span></span><br><span class="line">        <span class="comment">// 这里用临时变量记录first、last</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> first;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> last;</span><br><span class="line"><span class="comment">//        不断对两部分进行细分、排序</span></span><br><span class="line">        quickSort(l, left - <span class="number">1</span>);</span><br><span class="line">        quickSort(right + <span class="number">1</span>, r);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 荷兰国旗问题</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> first, last;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 已知arr[l....r]范围上一定有x这个值</span></span><br><span class="line">    <span class="comment">// 划分数组 &lt;x放左边，==x放中间，&gt;x放右边</span></span><br><span class="line">    <span class="comment">// 把全局变量first, last，更新成==x区域的左右边界</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">partition</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> x)</span> &#123;</span><br><span class="line">        first = l;</span><br><span class="line">        last = r;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l;</span><br><span class="line">        <span class="keyword">while</span> (i &lt;= last) &#123;</span><br><span class="line"><span class="comment">//            相等则直接跳过，判断下一个</span></span><br><span class="line">            <span class="keyword">if</span> (arr[i] == x) &#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[i] &lt; x) &#123;</span><br><span class="line"><span class="comment">//                交换位置，并扩大左侧边界</span></span><br><span class="line">                swap(first++, i++);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">//                交换位置，并扩大右侧边界，因为交换后的值还没有判断他的大小，所以i不需要增加</span></span><br><span class="line">                swap(i, last--);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="随机选择算法"><a href="#随机选择算法" class="headerlink" title="随机选择算法"></a>随机选择算法</h1><ul><li><code>随机选择算法（Randomized Select）</code>，一般是指 <code>快速选择算法（QuickSelect）</code> 的随机化版本，用来在无序数组中找第 k 大的元素。</li><li>这里的是第k大的元素，不是第k大的不同的元素，因此元素是可以重复数的</li><li><p>时间复杂度为O(n)</p></li><li><p>实现思路：</p><ul><li>随机选择一个数作为基准数来划分数组，根据这个基准数将数组分为3个部分，小于基准数，等于基准数，大于基准数</li><li>根据划分的结果，来决定继续在左边还是右边递归查找</li><li>只需要处理一边的子数组，所以时间复杂度相比快排更小</li></ul></li></ul><h1 id="堆结构和堆排序"><a href="#堆结构和堆排序" class="headerlink" title="堆结构和堆排序"></a>堆结构和堆排序</h1>]]></content>
      
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库概述</title>
      <link href="/2025/09/10/Mysql-mysql/"/>
      <url>/2025/09/10/Mysql-mysql/</url>
      
        <content type="html"><![CDATA[<h1 id="数据库是什么"><a href="#数据库是什么" class="headerlink" title="数据库是什么"></a>数据库是什么</h1><ul><li>数据库是一门独立的学科，只要是做软件开发的，都要学数据库。</li><li><strong>数据库是“按照数据结构来组织、存储和管理数据的仓库”</strong>。是一个长期存储在计算机内的、有组织的、可共享的、统一管理的大量数据的集合,数据库的英文是DataBase，简称DB。</li><li>它的存储空间很大，可以存放百万条、千万条、上亿条数据。</li><li>数据库并不是随意地将数据进行存放，数据的存放有一定的规则，否则查询的效率会很低。</li><li>当今世界是一个充满着数据的互联网世界，充斥着大量的数据。即这个互联网世界就是数据世界。数据的来源有很多，比如出行记录、消费记录、浏览的网页、发送的消息等等。除了文本类型的数据，图像、音乐、声音都是数据。</li><li><strong>数据库来帮助我们管理数据，同时数据库能够为我们提供高效的访问性能。</strong></li></ul><h1 id="2-数据库类型"><a href="#2-数据库类型" class="headerlink" title="2. 数据库类型"></a>2. 数据库类型</h1><ul><li><p>关系型数据库</p><ul><li>关系型数据库是<strong>依据关系模型</strong>来创建的数据库。所谓关系模型就是“一对一、一对多、多对多”等关系模型，关系模型就是指二维表格模型，因而一个关系型数据库就是由二维表及其之间的联系组成的一个数据组织。</li><li>关系型数据可以很好地存储一些关系模型的数据，比如一个老师对应多个学生的数据（“多对多”），一本书对应多个作者（“一对多”），一本书对应一个出版日期（“一对一”）。</li><li>关系模型包括数据结构（数据存储的问题，二维表）、操作指令集合（SQL语句）、完整性约束(表内数据约束、表与表之间的约束)。</li></ul></li><li><p>非关系型数据库（NoSQL）</p><ul><li>NoSQL，泛指非关系型的数据库。随着互联网web2.0网站的兴起，传统的关系数据库在处理web2.0网站，特别是超大规模和高并发的SNS类型的web2.0纯动态网站已经显得力不从心，出现了很多难以克服的问题，而非关系型的数据库则由于其本身的特点得到了非常迅速的发展。</li><li>NoSQL数据库的产生就是为了解决<strong>大规模数据集合多重数据种类</strong>带来的挑战，特别是大数据应用难题。NoSQL最常见的解释是“non-relational”， “Not Only SQL”也被很多人接受。</li><li>NoSQL仅仅是一个概念，泛指非关系型的数据库，区别于关系数据库，它们不保证关系数据的ACID特性。NoSQL是一项全新的数据库革命性运动，其拥护者们提倡运用非关系型的数据存储，相对于铺天盖地的关系型数据库运用，这一概念无疑是一种全新的思维的注入。</li><li>NoSQL有如下优点：<strong>易扩展</strong>，NoSQL数据库种类繁多，但是一个共同的特点都是去掉关系数据库的关系型特性。数据之间无关系，这样就非常容易扩展。无形之间也在架构的层面上带来了可扩展的能力。大数据量，高性能，NoSQL数据库都具有非常高的读写性能，尤其在大数据量下，同样表现优秀。这得益于它的无关系性，数据库的结构简单。</li></ul></li></ul><h2 id="数据库管理系统"><a href="#数据库管理系统" class="headerlink" title="数据库管理系统"></a>数据库管理系统</h2>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据库 </tag>
            
            <tag> Mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据结构基础代码实现</title>
      <link href="/2025/09/08/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0/"/>
      <url>/2025/09/08/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="线性表"><a href="#线性表" class="headerlink" title="线性表"></a>线性表</h1><div class="note danger no-icon flat"><p><strong>线性表：零个或多个数据元素的有限序列</strong></p></div><ul><li>线性表是最基础的数据结构，它是一种线性结构，即数据元素之间是一对一的关系，线性表一般需要包含以下功 <ul><li><strong>初始化线性表：</strong> 将一个线性表进行初始化，得到一个全新的线性表。</li><li><strong>获取指定位置上的元素：</strong> 直接获取线性表指定位置<code>i</code>上的元素。</li><li><strong>检查线性表是否为空表：</strong> 检查线性表是否为空表。</li><li><strong>获取元素的位置：</strong> 获取某个元素在线性表上的位置<code>i</code>。</li><li><strong>插入元素：</strong> 在指定位置<code>i</code>上插入一个元素。</li><li><strong>删除元素：</strong> 删除指定位置<code>i</code>上的一个元素。</li><li><strong>获取长度：</strong> 返回线性表的长度。</li></ul></li></ul><h2 id="顺序表"><a href="#顺序表" class="headerlink" title="顺序表"></a>顺序表</h2><p>顺序表是利用数组实现的，采用顺序存储结构的线性表</p><h3 id="初始化顺序表"><a href="#初始化顺序表" class="headerlink" title="初始化顺序表"></a>初始化顺序表</h3><p>1.首先定义一个结构体类型，将可能用到的数据保存在一起,以<code>int类型</code>为例<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> E;  <span class="comment">//这里为int类型起别名，这样可以方便随时切换元素的类型</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">List</span> &#123;</span></span><br><span class="line">    E <span class="built_in">array</span>[<span class="number">10</span>];   <span class="comment">//实现顺序表的底层数组</span></span><br><span class="line">    <span class="type">int</span> capacity;   <span class="comment">//表示底层数组的容量（可存储长度）</span></span><br><span class="line">    <span class="type">int</span> size;   <span class="comment">//表示当前线性表中的元素个数（已存储长度）</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br>2.为了使用方便将List结构体的指针取别名<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这里起什么别名都可以，这里起的别名是ArrayList</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">List</span>* <span class="title">ArrayList</span>;</span> </span><br></pre></td></tr></table></figure><br>3.逐个完善线性表的功能，先完成线性表初始化操作<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//因为初始化操作是一定要改变最初线性表的容量的，所以这里传入的参数是线性表指针，结构指针已经在前面重命名过了</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">initList</span><span class="params">(ArrayList <span class="built_in">list</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">list</span>-&gt;capacity = <span class="number">10</span>;    <span class="comment">//直接将数组的容量设定为10即可</span></span><br><span class="line">    <span class="built_in">list</span>-&gt;size = <span class="number">0</span>;         <span class="comment">//初始时，表中没有元素，所以元素数量为0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>4.在刚才的初始化函数中，我们简单的将数组容量设为10，但线性表容量的设置应该根据实际情况来定，这里我们使用<code>动态扩容</code>，直接用一个<code>指针</code>来指向底层数组的内存区域，当装不下时，创建一个更大的内存空间来存放数据，以此来实现动态扩容。同时创建更大的内存空间也有失败的可能，所以此处应当返回一个结果告诉调用者是否扩容成功，修改前面的代码：</p><div class="tabs" id="顺序存储结构"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#顺序存储结构-1">List</button></li><li class="tab"><button type="button" data-href="#顺序存储结构-2">initList</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="顺序存储结构-1"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">List</span> &#123;</span></span><br><span class="line">    E * <span class="built_in">array</span>;   <span class="comment">//指向顺序表的底层数组</span></span><br><span class="line">    <span class="type">int</span> capacity;   <span class="comment">//数组的容量</span></span><br><span class="line">    <span class="type">int</span> size;   <span class="comment">//表中的元素数量</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="顺序存储结构-2"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">_Bool</span> <span class="title function_">initList</span><span class="params">(ArrayList <span class="built_in">list</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//初始生成容量为10的空间</span></span><br><span class="line">    <span class="built_in">list</span>-&gt;<span class="built_in">array</span> = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(E) * <span class="number">10</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">list</span>-&gt;<span class="built_in">array</span> == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;  <span class="comment">//需要判断如果申请的结果为NULL的话表示内存空间申请失败</span></span><br><span class="line">    <span class="built_in">list</span>-&gt;capacity = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">list</span>-&gt;size = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;   <span class="comment">//正常情况下返回true也就是1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="实现插入操作"><a href="#实现插入操作" class="headerlink" title="实现插入操作"></a>实现插入操作</h3><ul><li>先设计好函数的参数和返回值</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//list就是待操作的表</span></span><br><span class="line"><span class="comment">//element就是需要插入的元素</span></span><br><span class="line"><span class="comment">//index就是插入的位置（注意顺序表的index是按位序计算的，从1开始，一般都是第index个元素）</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">insertList</span><span class="params">(ArrayList <span class="built_in">list</span>, E element, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>按照先前的思路编写代码<ul><li>先不断循环找到要插入的位置</li><li>找到后，将要插入位置以后的元素全部向后移动一位</li><li>移动后空出一位，将新元素插入</li><li>成功插入后，更新长度</li></ul></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">insertList</span><span class="params">(ArrayList <span class="built_in">list</span>, E element, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="comment">//size指示当前元素的最后一位，不断向前遍历，直到index位置</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="built_in">list</span>-&gt;size; i &gt; index - <span class="number">1</span>; i--)&#123; </span><br><span class="line">        <span class="comment">//将Index位置后的元素全部向后挪一位</span></span><br><span class="line">        <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i] = <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[index - <span class="number">1</span>] = element;    <span class="comment">//挪完之后，位置就腾出来了，直接设定即可</span></span><br><span class="line">    <span class="built_in">list</span>-&gt;size++;   <span class="comment">//插入之后相当于多了一个元素，记得size + 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="判断数据合法性"><a href="#判断数据合法性" class="headerlink" title="判断数据合法性"></a>判断数据合法性</h3><ul><li>此时正常插入便能成功进行，但如果我们在非法位置插入元素依旧会有问题,比如这个位置小于0或者大于现在的元素数量，故我们应当检查插入位置是否合法</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250903180158.png"/></div></div><ul><li>转换成位序，也就是[1, size + 1]这个闭区间，所以我们在一开始的时候进行判断：</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">_Bool</span> <span class="title function_">insertList</span><span class="params">(ArrayList <span class="built_in">list</span>, E element, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="comment">//如果在非法位置插入，返回0表示插入操作执行失败</span></span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">1</span> || index &gt; <span class="built_in">list</span>-&gt;size + <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;   </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="built_in">list</span>-&gt;size; i &gt; index - <span class="number">1</span>; i--)</span><br><span class="line">        <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i] = <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i - <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[index - <span class="number">1</span>] = element;</span><br><span class="line">    <span class="built_in">list</span>-&gt;size++;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;   <span class="comment">//正常情况返回1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="扩容线性表"><a href="#扩容线性表" class="headerlink" title="扩容线性表"></a>扩容线性表</h3><ul><li>刚才只是说明了扩容的方法，现在我们来实现一下，判断size是否等于capacity，如果等于，则需要扩容。</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">_Bool</span> <span class="title function_">insertList</span><span class="params">(ArrayList <span class="built_in">list</span>, E element, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">1</span> || index &gt; <span class="built_in">list</span>-&gt;size + <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//如果当前元素数量等于容量，则需要扩容</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">list</span>-&gt;size == <span class="built_in">list</span>-&gt;capacity) &#123; </span><br><span class="line">        <span class="comment">//这里用一个位运算，表示新容量是原先容量的1.5倍</span></span><br><span class="line">        <span class="type">int</span> newCapacity = <span class="built_in">list</span>-&gt;capacity + (<span class="built_in">list</span>-&gt;capacity &gt;&gt; <span class="number">1</span>);  </span><br><span class="line">        <span class="comment">//这里使用新的函数realloc重新申请更大的内存空间 </span></span><br><span class="line">        E * newArray = <span class="built_in">realloc</span>(<span class="built_in">list</span>-&gt;<span class="built_in">array</span>, <span class="keyword">sizeof</span>(E) * newCapacity);  </span><br><span class="line">        <span class="keyword">if</span>(newArray == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;   <span class="comment">//如果申请失败，那么就确实没办法插入了，只能返回0表示插入失败了</span></span><br><span class="line">        <span class="built_in">list</span>-&gt;<span class="built_in">array</span> = newArray;</span><br><span class="line">        <span class="built_in">list</span>-&gt;capacity = newCapacity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//扩容成功后，线性表就能和之前一样插入元素了</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="built_in">list</span>-&gt;size; i &gt; index - <span class="number">1</span>; i--)</span><br><span class="line">        <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i] = <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i - <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[index - <span class="number">1</span>] = element;</span><br><span class="line">    <span class="built_in">list</span>-&gt;size++;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><details class="folding-tag" yellow><summary> relloc函数 </summary>              <div class='content'>              <p>函数原型：<code>void* relloc(void* memblock, size_t size)</code></p><ul><li>relloc函数返回的是void*类型的指针，指向新开辟的内存块的起始地址。</li><li>memblock是需要扩容的内存块指针，如果原本的内存块之后又足够的空间可以追加，则直接追加，否则会开辟新的空间并返回</li><li>size是新的内存块大小，注意是新的，而不是新增加的。</li><li>如果memblock是NULL，那么就相当于malloc函数，申请一个新的内存块。</li><li>如果size是0，那么就相当于free函数，释放掉memblock指向的内存块。</li></ul>              </div>            </details><h3 id="删除元素"><a href="#删除元素" class="headerlink" title="删除元素"></a>删除元素</h3><p>删除操作与插入操作类似，当删除元素时，需要对元素进行批量移动，但是不需要考虑扩容问题了。</p><ul><li>先设计函数的返回值和参数</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//list就是待操作的表，index是要删除的元素位序</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">deleteList</span><span class="params">(ArrayList <span class="built_in">list</span>, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure><ul><li>删除和插入一样，需要考虑位置的合法性</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250908204800.png"/></div></div><ul><li>换算成位序就是[1, size]这个闭区间内容</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">_Bool</span> <span class="title function_">deleteList</span><span class="params">(ArrayList <span class="built_in">list</span>, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="comment">//保证位置合法</span></span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">1</span> || index &gt; <span class="built_in">list</span>-&gt;size) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//执行删除操作</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = index - <span class="number">1</span>; i &lt; <span class="built_in">list</span>-&gt;size - <span class="number">1</span>; ++i)</span><br><span class="line">    <span class="comment">//实际上只需要依次把后面的元素覆盖到前一个即可</span></span><br><span class="line">        <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i] = <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i + <span class="number">1</span>];   </span><br><span class="line">    <span class="built_in">list</span>-&gt;size--;   <span class="comment">//最后别忘了size - 1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="获取长度"><a href="#获取长度" class="headerlink" title="获取长度"></a>获取长度</h3><p>获取顺序表长度的操作非常简单，只需要返回当前Size即可<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sizeList</span><span class="params">(ArrayList <span class="built_in">list</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">list</span>-&gt;size;   <span class="comment">//直接返回size就完事</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="查找元素"><a href="#查找元素" class="headerlink" title="查找元素"></a>查找元素</h3><p>查找元素在线性表中，需要遍历线性表，当出现目标元素时，返回该元素的索引，否则返回-1<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">findList</span><span class="params">(ArrayList <span class="built_in">list</span>, E element)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">list</span>-&gt;size; ++i) &#123;   <span class="comment">//一直遍历，如果找到那就返回位序</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i] == element) <span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;  <span class="comment">//如果遍历完了都没找到，那么就返回-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>按位置获取元素，这是线性表的一个基本操作，直接返回索引值即可<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">E * <span class="title function_">getList</span><span class="params">(ArrayList <span class="built_in">list</span>, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="comment">//判断位置是否在线性表中</span></span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">1</span> || index &gt; <span class="built_in">list</span>-&gt;size) </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;   <span class="comment">//如果超出范围就返回NULL</span></span><br><span class="line">    <span class="keyword">return</span> &amp;<span class="built_in">list</span>-&gt;<span class="built_in">array</span>[index - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="顺序表完整代码"><a href="#顺序表完整代码" class="headerlink" title="顺序表完整代码"></a>顺序表完整代码</h3><div class="tabs" id="顺序表"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#顺序表-1">基础函数</button></li><li class="tab"><button type="button" data-href="#顺序表-2">完整代码</button></li><li class="tab"><button type="button" data-href="#顺序表-3">输出结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="顺序表-1"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 初始化顺序表</span></span><br><span class="line"><span class="type">_Bool</span> <span class="title function_">initList</span><span class="params">(ArrayList <span class="built_in">list</span>)</span>;</span><br><span class="line"><span class="comment">// 插入元素</span></span><br><span class="line"><span class="type">_Bool</span> <span class="title function_">insertList</span><span class="params">(ArrayList <span class="built_in">list</span>, E element, <span class="type">int</span> index)</span></span><br><span class="line"><span class="comment">// 删除元素</span></span><br><span class="line"><span class="type">_Bool</span> <span class="title function_">deleteList</span><span class="params">(ArrayList <span class="built_in">list</span>, <span class="type">int</span> index)</span></span><br><span class="line"><span class="comment">// 获取顺序表长度</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">sizeList</span><span class="params">(ArrayList <span class="built_in">list</span>)</span></span><br><span class="line"><span class="comment">// 获取指定位置的元素</span></span><br><span class="line">E * <span class="title function_">getList</span><span class="params">(ArrayList <span class="built_in">list</span>, <span class="type">int</span> index)</span></span><br><span class="line"><span class="comment">// 查找元素下标</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">findList</span><span class="params">(ArrayList <span class="built_in">list</span>, E element)</span></span><br><span class="line"><span class="comment">// 打印当前线性表</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">printList</span><span class="params">(ArrayList <span class="built_in">list</span>)</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="顺序表-2"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> E;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">List</span> &#123;</span></span><br><span class="line">    E * <span class="built_in">array</span>;</span><br><span class="line">    <span class="type">int</span> capacity;</span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">List</span> * <span class="title">ArrayList</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="type">_Bool</span> <span class="title function_">initList</span><span class="params">(ArrayList <span class="built_in">list</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">list</span>-&gt;<span class="built_in">array</span> = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(E) * <span class="number">10</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">list</span>-&gt;<span class="built_in">array</span> == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">list</span>-&gt;capacity = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">list</span>-&gt;size = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">_Bool</span> <span class="title function_">insertList</span><span class="params">(ArrayList <span class="built_in">list</span>, E element, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">1</span> || index &gt; <span class="built_in">list</span>-&gt;size + <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">list</span>-&gt;size == <span class="built_in">list</span>-&gt;capacity) &#123;</span><br><span class="line">        <span class="type">int</span> newCapacity = <span class="built_in">list</span>-&gt;capacity + (<span class="built_in">list</span>-&gt;capacity &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        E * newArray = <span class="built_in">realloc</span>(<span class="built_in">list</span>-&gt;<span class="built_in">array</span>, newCapacity * <span class="keyword">sizeof</span>(E));</span><br><span class="line">        <span class="keyword">if</span>(newArray == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">list</span>-&gt;<span class="built_in">array</span> = newArray;</span><br><span class="line">        <span class="built_in">list</span>-&gt;capacity = newCapacity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="built_in">list</span>-&gt;size; i &gt; index - <span class="number">1</span>; --i)</span><br><span class="line">        <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i] = <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i - <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[index - <span class="number">1</span>] = element;</span><br><span class="line">    <span class="built_in">list</span>-&gt;size++;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">_Bool</span> <span class="title function_">deleteList</span><span class="params">(ArrayList <span class="built_in">list</span>, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">1</span> || index &gt; <span class="built_in">list</span>-&gt;size) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = index - <span class="number">1</span>; i &lt; <span class="built_in">list</span>-&gt;size - <span class="number">1</span>; ++i)</span><br><span class="line">        <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i] = <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">list</span>-&gt;size--;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">sizeList</span><span class="params">(ArrayList <span class="built_in">list</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">list</span>-&gt;size;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">E * <span class="title function_">getList</span><span class="params">(ArrayList <span class="built_in">list</span>, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">1</span> || index &gt; <span class="built_in">list</span>-&gt;size) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[index - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">findList</span><span class="params">(ArrayList <span class="built_in">list</span>, E element)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">list</span>-&gt;size; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i] == element) <span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">printList</span><span class="params">(ArrayList <span class="built_in">list</span>)</span>&#123;   <span class="comment">//编写一个函数用于打印表当前的数据</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">list</span>-&gt;size; ++i)   <span class="comment">//表里面每个元素都拿出来打印一次</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">List</span> <span class="title">list</span>;</span></span><br><span class="line">    ArrayList arraylist =&amp;<span class="built_in">list</span>;</span><br><span class="line">    <span class="keyword">if</span>(initList(arraylist))&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//        //测试初始化结果</span></span><br><span class="line"><span class="comment">//        printf(arraylist-&gt;capacity);</span></span><br><span class="line"><span class="comment">//        printf(arraylist-&gt;size);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//测试插入操作</span></span><br><span class="line">        insertList(arraylist, <span class="number">666</span>, <span class="number">1</span>);  <span class="comment">//每次插入操作后都打印一下表，看看当前的情况</span></span><br><span class="line">        printList(arraylist);</span><br><span class="line">        insertList(arraylist, <span class="number">777</span>, <span class="number">1</span>);</span><br><span class="line">        printList(arraylist);</span><br><span class="line">        insertList(arraylist, <span class="number">888</span>, <span class="number">2</span>);</span><br><span class="line">        printList(arraylist);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//测试删除操作</span></span><br><span class="line">        <span class="keyword">if</span>(deleteList(arraylist,<span class="number">1</span>))</span><br><span class="line">            printList(arraylist);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;删除失败，未找到该元素&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(deleteList(arraylist,<span class="number">2</span>))</span><br><span class="line">            printList(arraylist);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;删除失败，未找到该元素&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取顺序表长度</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,sizeList(arraylist));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取指定位置的元素</span></span><br><span class="line">        <span class="type">int</span> i=<span class="number">1</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;第%d个元素的位置为%d\n&quot;</span>,i,getList(arraylist,i));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//查找元素下标</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;666的下标为：%d\n&quot;</span>,findList(arraylist,<span class="number">666</span>));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;888的下标为：%d\n&quot;</span>,findList(arraylist,<span class="number">888</span>));</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;顺序表初始化失败，无法启动程序！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="顺序表-3"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">666</span> </span><br><span class="line"><span class="number">777</span> <span class="number">666</span> </span><br><span class="line"><span class="number">777</span> <span class="number">888</span> <span class="number">666</span> </span><br><span class="line"><span class="number">888</span> <span class="number">666</span> </span><br><span class="line"><span class="number">888</span> </span><br><span class="line"><span class="number">1</span></span><br><span class="line">第<span class="number">1</span>个元素的位置为<span class="number">888</span></span><br><span class="line"><span class="number">666</span>的下标为：<span class="number">-1</span></span><br><span class="line"><span class="number">888</span>的下标为：<span class="number">1</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note warning no-icon flat"><p>在使用printf时要严格格式化字符串，我在使用时因太长时间未用C语言，直接使用了<code>printf(arraylist-&gt;size)</code>导致一直报错而不知道原因是什么，此处是因为传过去的值，系统会将其当做地址使用，结果就是乱掉甚至崩溃，应当写成<code>printf(&quot;%d&quot;,arraylist-&gt;size)</code></p></div><p><strong>问题：</strong> 请问顺序实现的线性表，插入、删除、获取元素操作的时间复杂度为？</p><ul><li><strong>插入：</strong> 因为要将后续所有元素都向后移动，所以平均时间复杂度为 O(n)</li><li><strong>删除：</strong> 同上，因为要将所有元素向前移动，所以平均时间复杂度为 O(n)</li><li><strong>获取元素：</strong> 因为可以利用数组特性直接通过下标访问到对应元素，所以时间复杂度为 O(1)</li></ul><h2 id="单链表"><a href="#单链表" class="headerlink" title="单链表"></a>单链表</h2><ul><li>尝试编写一个带头结点的链表：</li></ul><h3 id="初始化链表"><a href="#初始化链表" class="headerlink" title="初始化链表"></a>初始化链表</h3><ul><li>先定义链表的节点：</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> E;   <span class="comment">//这个还是老样子</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> &#123;</span></span><br><span class="line">    E element;              <span class="comment">//数据域：保存元素数据</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> * <span class="title">next</span>;</span> <span class="comment">//指针域：指向下一个结点的指针</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> * <span class="title">Node</span>;</span>   <span class="comment">//这里我们直接为结点指针起别名，可以直接作为表实现</span></span><br></pre></td></tr></table></figure><ul><li>完成链表的初始化<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义初始化函数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">initList</span><span class="params">(Node head)</span>&#123;</span><br><span class="line">    head-&gt;next = <span class="literal">NULL</span>;   <span class="comment">//头结点默认下一个为NULL</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//这里创建一个新的头结点，头结点不存放任何元素，只做连接，连接整个链表</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> <span class="title">head</span>;</span>   </span><br><span class="line">    initList(head);  <span class="comment">//先进行初始化</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="链表的插入和删除"><a href="#链表的插入和删除" class="headerlink" title="链表的插入和删除"></a>链表的插入和删除</h3></li><li>按照以下步骤进行插入<ul><li>首先先将要插入的节点的后继节点指向原本这个位置的节点</li><li>然后将插入位置的前驱结点的后继结点指向改为要插入的节点</li></ul></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/07/23/ysETUJb6cgBz2Qx.png"/></div></div><ul><li>首先来设计函数</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//head是头结点</span></span><br><span class="line"><span class="comment">//element为待插入元素</span></span><br><span class="line"><span class="comment">//index是待插入下标</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">insertList</span><span class="params">(Node head, E element, <span class="type">int</span> index)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>接着要想插入，需要先找到待插入结点的前驱结点</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回值来告诉调用者是否插入成功</span></span><br><span class="line"><span class="type">_Bool</span> <span class="title function_">insertList</span><span class="params">(Node head, E element, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;   <span class="comment">//如果插入的位置小于1，那肯定是非法的</span></span><br><span class="line">    <span class="keyword">while</span> (--index) &#123;   <span class="comment">//通过--index的方式不断向后寻找前驱结点</span></span><br><span class="line">        head = head-&gt;next;   <span class="comment">//正常情况下继续向后找</span></span><br><span class="line">      <span class="keyword">if</span>(head == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">      <span class="comment">//如果在寻找的过程中发型已经没有后续结点了，那么说明index超出可插入的范围了，也是非法的，直接润</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>在循环操作完成后，如果没问题就能找到对应插入位置的前驱结点，我们只需要按照上面分析的操作来编写代码即可：</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">_Bool</span> <span class="title function_">insertList</span><span class="params">(Node head, E element, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//直到index减为0，则为找到第index个结点，在此插入</span></span><br><span class="line">    <span class="keyword">while</span> (--index) &#123;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">      <span class="keyword">if</span>(head == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建一个新的结点,存储需要插入的值</span></span><br><span class="line">    Node node = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span> (<span class="keyword">struct</span> ListNode));</span><br><span class="line">    <span class="keyword">if</span>(node == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;   <span class="comment">//创建一个新的结点，如果内存空间申请失败返回0</span></span><br><span class="line">    node-&gt;element = element;   <span class="comment">//将元素保存到新创建的结点中</span></span><br><span class="line">    node-&gt;next = head-&gt;next;   <span class="comment">//先让新插入的节点指向原本位置上的这个结点</span></span><br><span class="line">    head-&gt;next = node;   <span class="comment">//接着将前驱结点指向新的这个结点</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>这样便完成了链表的插入操作，删除操作同理，这里直接给出删除的完整代码</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">_Bool</span> <span class="title function_">deleteList</span><span class="params">(Node head, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (index--) &#123;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(head-&gt;next == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Node tmp = head-&gt;next;   <span class="comment">//先拿到待删除结点</span></span><br><span class="line">    head-&gt;next = head-&gt;next-&gt;next;   <span class="comment">//直接让前驱结点指向下一个的下一个结点</span></span><br><span class="line">    <span class="built_in">free</span>(tmp);   <span class="comment">//最后使用free函数释放掉待删除结点的内存</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="其他函数"><a href="#其他函数" class="headerlink" title="其他函数"></a>其他函数</h3><ul><li>查找元素位置</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">findList</span><span class="params">(Node head, E element)</span>&#123;</span><br><span class="line">    <span class="comment">//先找到头结点</span></span><br><span class="line">    head = head-&gt;next;    </span><br><span class="line">    <span class="type">int</span> i = <span class="number">1</span>;   <span class="comment">//计数器</span></span><br><span class="line">    <span class="keyword">while</span> (head) &#123;</span><br><span class="line">        <span class="keyword">if</span>(head-&gt;element == element) <span class="keyword">return</span> i;   <span class="comment">//如果找到，那么就返回i</span></span><br><span class="line">        head = head-&gt;next;   <span class="comment">//没找到就继续向后看</span></span><br><span class="line">        i++;   <span class="comment">//i记住要自增</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//全部遍历后依旧没找到，则返回-1表示未找到</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>查找链表长度<ul><li>其实就是遍历一遍，计数器挨个加1，最后返回计数器的值</li></ul></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sizeList</span><span class="params">(Node head)</span>&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;  <span class="comment">//从0开始</span></span><br><span class="line">    <span class="keyword">while</span> (head-&gt;next) &#123;   <span class="comment">//如果下一个为NULL那就停止</span></span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">        i++;   <span class="comment">//每向后找一个就+1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>因为每次测试都要重新插入数据非常繁琐，所以这里写一个函数，用来随机为链表插入指定个数的数据</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">randomInsertHead</span><span class="params">(Node head,<span class="type">int</span> n)</span>&#123;</span><br><span class="line">    Node tempNode;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        tempNode=(Node)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> ListNode));</span><br><span class="line">        tempNode-&gt;element=rand()%<span class="number">100</span>+<span class="number">1</span>;</span><br><span class="line">        tempNode-&gt;next=head-&gt;next;</span><br><span class="line">        head-&gt;next=tempNode;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>除了在头结点后面插入元素，还可以插在链表的末尾</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">randomInsertTail</span><span class="params">(Node node,<span class="type">int</span> n)</span>&#123;</span><br><span class="line">    Node tempNode;</span><br><span class="line">    Node tail;</span><br><span class="line">    <span class="keyword">if</span>(node==<span class="literal">NULL</span>)</span><br><span class="line">        tail=node;</span><br><span class="line">    <span class="keyword">while</span>(node)&#123;</span><br><span class="line">        <span class="keyword">if</span>(node-&gt;next==<span class="literal">NULL</span>)</span><br><span class="line">            tail=node;</span><br><span class="line">        node=node-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        tempNode=(Node)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> ListNode));</span><br><span class="line">        tempNode-&gt;element=rand()%<span class="number">100</span>+<span class="number">1</span>;</span><br><span class="line">        tail-&gt;next=tempNode;</span><br><span class="line">        tail=tempNode;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="链表完整代码"><a href="#链表完整代码" class="headerlink" title="链表完整代码"></a>链表完整代码</h3><div class="tabs" id="链表实现"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#链表实现-1">基本功能</button></li><li class="tab"><button type="button" data-href="#链表实现-2">完整代码</button></li><li class="tab"><button type="button" data-href="#链表实现-3">结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="链表实现-1"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化链表</span></span><br><span class="line">initList(Node): <span class="type">void</span></span><br><span class="line"><span class="comment">//插入元素</span></span><br><span class="line">insertList(Node, E, <span class="type">int</span>): <span class="type">_Bool</span></span><br><span class="line"><span class="comment">//删除元素</span></span><br><span class="line">deleteList(Node, <span class="type">int</span>): <span class="type">_Bool</span></span><br><span class="line"><span class="comment">//查找元素的下标</span></span><br><span class="line">findList(Node, E): <span class="type">int</span></span><br><span class="line"><span class="comment">//获取链表长度</span></span><br><span class="line">sizeList(Node): <span class="type">int</span></span><br><span class="line"><span class="comment">//获取元素</span></span><br><span class="line">getList(Node, <span class="type">int</span>): E</span><br><span class="line"><span class="comment">//为链表随机插入值(头插)</span></span><br><span class="line">randomInsertHead(Node, <span class="type">int</span>): <span class="type">void</span></span><br><span class="line"><span class="comment">//为链表随机插入值(尾插)</span></span><br><span class="line">randomInsertTail(Node, <span class="type">int</span>): <span class="type">void</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//打印链表</span></span><br><span class="line">PrintNode(Node): <span class="type">void</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="链表实现-2"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> E;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> &#123;</span></span><br><span class="line">    E element;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> * <span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> * <span class="title">Node</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">initList</span><span class="params">(Node node)</span>&#123;</span><br><span class="line">    node-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">_Bool</span> <span class="title function_">insertList</span><span class="params">(Node head, E element, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (--index) &#123;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Node node = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> ListNode));</span><br><span class="line">    <span class="keyword">if</span>(node == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    node-&gt;element = element;</span><br><span class="line">    node-&gt;next = head-&gt;next;</span><br><span class="line">    head-&gt;next = node;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">_Bool</span> <span class="title function_">deleteList</span><span class="params">(Node head, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;   <span class="comment">//大体和上面是一样的</span></span><br><span class="line">    <span class="keyword">while</span> (--index) &#123;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(head-&gt;next == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    Node tmp = head-&gt;next;</span><br><span class="line">    head-&gt;next = head-&gt;next-&gt;next;</span><br><span class="line">    <span class="built_in">free</span>(tmp);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">E  <span class="title function_">getList</span><span class="params">(Node head, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">while</span> (--index);</span><br><span class="line">    <span class="keyword">return</span> head-&gt;element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">findList</span><span class="params">(Node head, E element)</span>&#123;</span><br><span class="line">    head = head-&gt;next;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (head) &#123;</span><br><span class="line">        <span class="keyword">if</span>(head-&gt;element == element) <span class="keyword">return</span> i;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">sizeList</span><span class="params">(Node head)</span>&#123;</span><br><span class="line">    <span class="comment">//因为链表包含头结点，如果不为空，计算头结点后链表依旧是从0开始计算</span></span><br><span class="line">    <span class="type">int</span> i = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span> (head) &#123;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">randomInsertHead</span><span class="params">(Node head,<span class="type">int</span> n)</span>&#123;</span><br><span class="line">    Node tempNode;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        tempNode=(Node)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> ListNode));</span><br><span class="line">        tempNode-&gt;element=rand()%<span class="number">100</span>+<span class="number">1</span>;</span><br><span class="line">        tempNode-&gt;next=head-&gt;next;</span><br><span class="line">        head-&gt;next=tempNode;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">randomInsertTail</span><span class="params">(Node node,<span class="type">int</span> n)</span>&#123;</span><br><span class="line">    Node tempNode;</span><br><span class="line">    Node tail;</span><br><span class="line">    <span class="keyword">if</span>(node==<span class="literal">NULL</span>)</span><br><span class="line">        tail=node;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//先遍历找到链表尾端</span></span><br><span class="line">    <span class="keyword">while</span>(node)&#123;</span><br><span class="line">        <span class="keyword">if</span>(node-&gt;next==<span class="literal">NULL</span>)</span><br><span class="line">            tail=node;</span><br><span class="line">        node=node-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        tempNode=(Node)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> ListNode));</span><br><span class="line">        tempNode-&gt;element=rand()%<span class="number">100</span>+<span class="number">1</span>;</span><br><span class="line">        tail-&gt;next=tempNode;</span><br><span class="line">        tail=tempNode;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">PrintNode</span><span class="params">(Node node)</span>&#123;</span><br><span class="line">    Node p = node-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(p != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, p-&gt;element);</span><br><span class="line">        p = p-&gt;next;  <span class="comment">// 移动到下一个节点</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//必须写在主函数中只执行一次，否则如果两次调用间隔小于 1 秒，会导致随机数种子相同，生成完全相同的随机数序列</span></span><br><span class="line">    srand(time(<span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//开辟的是结构体占用的空间二不能填Node，Node是指针所占空间固定</span></span><br><span class="line">    Node head =(Node)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> ListNode));</span><br><span class="line"></span><br><span class="line">    initList(head);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;头插后： &quot;</span>);</span><br><span class="line">    randomInsertHead(head,<span class="number">15</span>);</span><br><span class="line">    PrintNode(head);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;尾插后： &quot;</span>);</span><br><span class="line">    randomInsertTail(head,<span class="number">10</span>);</span><br><span class="line">    PrintNode(head);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;插入元素22后： &quot;</span>);</span><br><span class="line">    insertList(head,<span class="number">22</span>,<span class="number">1</span>);</span><br><span class="line">    PrintNode(head);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;删除第二个元素后: &quot;</span>);</span><br><span class="line">    deleteList(head,<span class="number">2</span>);</span><br><span class="line">    PrintNode(head);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;查找22这个元素的位置： %d&quot;</span>,findList(head,<span class="number">22</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;返回链表长度： %d&quot;</span>,sizeList(head));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;获取第一个元素： %d&quot;</span>, getList(head,<span class="number">1</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="链表实现-3"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250909185532.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><details class="folding-tag" yellow><summary> 最开始我遇到的错误 </summary>              <div class='content'>              <ul><li>为链表开辟内存部分，我直接使用了<code>Node head =(Node)malloc(sizeof(Node))</code>，Node是指针，所占大小是固定8个字节，所以这里应该使用<code>Node head =(Node)malloc(sizeof(struct ListNode))</code></li><li>期初我将随机数种子放到了随机数值的函数中，但这样导致了如果两次<code>调用间隔小于 1 秒</code>，会导致随机数种子相同，生成完全相同的随机数序列，所以我将随机数种子放到了主函数中</li></ul>              </div>            </details><p><strong>问题：</strong> 请问链式实现的线性表，插入、删除、获取元素操作的时间复杂度为？</p><ul><li><strong>插入：</strong> 因为要寻找对应位置的前驱结点，所以平均时间复杂度为O(n)<em>O</em>(<em>n</em>)，但是不需要做任何的移动操作，效率肯定是比顺序表要高的。</li><li><strong>删除：</strong> 同上，所以平均时间复杂度为O(n)<em>O</em>(<em>n</em>)</li><li><strong>获取元素：</strong> 由于必须要挨个向后寻找，才能找到对应的结点，所以时间复杂度为O(n)<em>O</em>(<em>n</em>)，不支持随机访问，只能顺序访问，比顺序表慢。</li></ul><div class="note warning no-icon flat"><ul><li>链表在随机访问元素时，需要通过遍历来完成，而顺序表则利用数组的特性直接访问得到<ul><li>所以读取数据多于插入或是删除数据的情况下时，使用顺序表会更好。</li></ul></li><li>顺序表在插入元素时就显得有些鸡肋了，因为需要移动后续元素，整个移动操作会浪费时间，而链表则不需要，只需要修改结点 指向即可完成插入<ul><li>所以频繁出现插入或删除的情况下，使用链表会更好。</li></ul></li></ul></div><h2 id="双向链表和循环链表"><a href="#双向链表和循环链表" class="headerlink" title="双向链表和循环链表"></a>双向链表和循环链表</h2><h3 id="双向链表"><a href="#双向链表" class="headerlink" title="双向链表"></a>双向链表</h3><ul><li>在单链表中，可以不像顺序表那样，一次申请一段连续空间，而且在插入和删除速度上也更快，但是当我们想要操作某一个结点，比如删除或是插入，那么由于单链表的性质，我们只能先去找到它的前驱结点，才能进行。</li><li>为了解决这个问题，我们让单链表不仅保存后续结点的指针，同时保存他的前驱结点的指针</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/07/24/oeXm6nyW7I9lPMf.png"/></div></div><ul><li>首先变更一下单链表的结构体和初始化方法<div class="tabs" id="双向链表"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#双向链表-1">结构体</button></li><li class="tab"><button type="button" data-href="#双向链表-2">初始化方法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="双向链表-1"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> E;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> &#123;</span></span><br><span class="line">    E element;   <span class="comment">//保存当前元素</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> * <span class="title">next</span>;</span>   <span class="comment">//指向下一个结点的指针</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> * <span class="title">prev</span>;</span>   <span class="comment">//指向上一个结点的指针</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> * <span class="title">Node</span>;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="双向链表-2"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">initNode</span><span class="params">(Node node)</span>&#123;</span><br><span class="line">    node-&gt;next = node-&gt;prev = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ul><h3 id="双向链表的插入和删除操作"><a href="#双向链表的插入和删除操作" class="headerlink" title="双向链表的插入和删除操作"></a>双向链表的插入和删除操作</h3><ul><li>双向链表的插入操作，是在单链表的插入基础上,还需要连接和修改结点的前驱指针</li><li>插入操作的步骤：<ul><li>先将准备插入的结点的前驱指针和后驱指针置为NULL</li><li>将新节点的前驱指针指向插入位置的前一个结点</li><li>将新节点的后驱指针指向插入位置的结点</li><li>将插入位置的前一个结点的后驱指针指向新节点</li><li>将插入位置的结点的前驱指针指向新节点</li></ul></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 个人感觉先将要插入的结点的前驱和后继指针挂到待插入位置的结点上，再对原链表的节点进行更改更容易理解</span></span><br><span class="line"><span class="type">_Bool</span> <span class="title function_">insertDoubleList</span><span class="params">(List head,E e,<span class="type">int</span> pos)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pos&lt;<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(--pos)&#123;</span><br><span class="line">        head=head-&gt;next;</span><br><span class="line">        <span class="comment">//代表插入的位置不合法</span></span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    List doubleList =<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> DoubleList));</span><br><span class="line">    <span class="keyword">if</span>(doubleList==<span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    doubleList-&gt;element=e;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    当插入位置后继结点存在时，即不是最后一个元素</span></span><br><span class="line">    <span class="keyword">if</span>(head-&gt;next)&#123;</span><br><span class="line">        doubleList-&gt;next=head-&gt;next;</span><br><span class="line">        doubleList-&gt;pre=head;</span><br><span class="line">        head-&gt;next-&gt;pre=doubleList;</span><br><span class="line">        head-&gt;next=doubleList;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        doubleList-&gt;pre=head;</span><br><span class="line">        doubleList-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">        head-&gt;next=doubleList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>删除操作相比插入操作更加简单，只需要遍历到删除的位置的前一个结点，让前一个结点与删除的后一个节点相连，最后再释放掉要删除的结点即可</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">_Bool</span> <span class="title function_">deleteList</span><span class="params">(List <span class="built_in">list</span>,<span class="type">int</span> pos)</span>&#123;</span><br><span class="line">    <span class="comment">//和插入操作一样先找到要删除的位置的前一个节点</span></span><br><span class="line">    <span class="keyword">while</span>(--pos)&#123;</span><br><span class="line">        <span class="built_in">list</span>=<span class="built_in">list</span>-&gt;next;</span><br><span class="line">        <span class="comment">//说明下标不合法</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">list</span>==<span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//说明删除位置没有元素</span></span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">list</span>-&gt;next)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//记录一下要删除的节点，最后释放该节点</span></span><br><span class="line">    List temp=<span class="built_in">list</span>-&gt;next;</span><br><span class="line">    <span class="comment">//如果要删除的不是最后一个元素</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">list</span>-&gt;next-&gt;next)&#123;</span><br><span class="line">        <span class="built_in">list</span>-&gt;next-&gt;next-&gt;pre=<span class="built_in">list</span>;</span><br><span class="line">        <span class="built_in">list</span>-&gt;next=<span class="built_in">list</span>-&gt;next-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">list</span>-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(temp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其他操作类似，在此不过多赘述</p><h3 id="完整实现"><a href="#完整实现" class="headerlink" title="完整实现"></a>完整实现</h3><div class="tabs" id="双向链表"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#双向链表-1">基本功能</button></li><li class="tab"><button type="button" data-href="#双向链表-2">完整代码</button></li><li class="tab"><button type="button" data-href="#双向链表-3">结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="双向链表-1"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">initDoubleList(List):<span class="type">void</span></span><br><span class="line"><span class="title function_">insertDoubleList</span><span class="params">(List,E,<span class="type">int</span>)</span>:<span class="type">bool</span></span><br><span class="line"><span class="title function_">deleteList</span><span class="params">(List,<span class="type">int</span>)</span>:<span class="type">bool</span></span><br><span class="line"><span class="title function_">printList</span><span class="params">(List)</span>:<span class="type">void</span></span><br><span class="line"><span class="title function_">randomInsertHead</span><span class="params">(List,<span class="type">int</span>)</span>:<span class="type">bool</span></span><br><span class="line"><span class="title function_">findList</span><span class="params">(List,E)</span>:<span class="type">int</span></span><br><span class="line"><span class="title function_">sizeList</span><span class="params">(List)</span>:<span class="type">int</span></span><br><span class="line"><span class="title function_">getListElement</span><span class="params">(List,<span class="type">int</span>)</span>:<span class="type">int</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="双向链表-2"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> E;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">DoubleList</span>&#123;</span></span><br><span class="line">    E element;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">DoubleList</span>* <span class="title">pre</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">DoubleList</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">DoubleList</span>* <span class="title">List</span>;</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">initDoubleList</span><span class="params">(List <span class="built_in">list</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">list</span>-&gt;pre=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">list</span>-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">_Bool</span> <span class="title function_">insertDoubleList</span><span class="params">(List head,E e,<span class="type">int</span> pos)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pos&lt;<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(--pos)&#123;</span><br><span class="line">        head=head-&gt;next;</span><br><span class="line">        <span class="comment">//代表插入的位置不合法</span></span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    List doubleList =(List)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> DoubleList));</span><br><span class="line">    <span class="keyword">if</span>(doubleList==<span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    doubleList-&gt;element=e;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    当插入位置后继结点存在时，即不是最后一个元素</span></span><br><span class="line">    <span class="keyword">if</span>(head-&gt;next)&#123;</span><br><span class="line">        doubleList-&gt;next=head-&gt;next;</span><br><span class="line">        doubleList-&gt;pre=head;</span><br><span class="line">        head-&gt;next-&gt;pre=doubleList;</span><br><span class="line">        head-&gt;next=doubleList;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        doubleList-&gt;pre=head;</span><br><span class="line">        doubleList-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">        head-&gt;next=doubleList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">_Bool</span> <span class="title function_">deleteList</span><span class="params">(List <span class="built_in">list</span>,<span class="type">int</span> pos)</span>&#123;</span><br><span class="line">    <span class="comment">//和插入操作一样先找到要删除的位置的前一个节点</span></span><br><span class="line">    <span class="keyword">while</span>(--pos)&#123;</span><br><span class="line">        <span class="built_in">list</span>=<span class="built_in">list</span>-&gt;next;</span><br><span class="line">        <span class="comment">//说明下标不合法</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">list</span>==<span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//说明删除位置没有元素</span></span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">list</span>-&gt;next)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//记录一下要删除的节点，最后释放该节点</span></span><br><span class="line">    List temp=<span class="built_in">list</span>-&gt;next;</span><br><span class="line">    <span class="comment">//如果要删除的不是最后一个元素</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">list</span>-&gt;next-&gt;next)&#123;</span><br><span class="line">        <span class="built_in">list</span>-&gt;next-&gt;next-&gt;pre=<span class="built_in">list</span>;</span><br><span class="line">        <span class="built_in">list</span>-&gt;next=<span class="built_in">list</span>-&gt;next-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">list</span>-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(temp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">printList</span><span class="params">(List <span class="built_in">list</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">list</span>=<span class="built_in">list</span>-&gt;next;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">list</span>==<span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">list</span>!=<span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,<span class="built_in">list</span>-&gt;element);</span><br><span class="line">        <span class="built_in">list</span>=<span class="built_in">list</span>-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">_Bool</span> <span class="title function_">randomInsertHead</span><span class="params">(List doubleList,<span class="type">int</span> n)</span>&#123;</span><br><span class="line">    List tempList;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        tempList=(List)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> DoubleList));</span><br><span class="line">        <span class="keyword">if</span>(tempList==<span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        tempList-&gt;element=rand()%<span class="number">100</span>+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(doubleList-&gt;next)&#123;</span><br><span class="line">            tempList-&gt;next=doubleList-&gt;next;</span><br><span class="line">            tempList-&gt;pre=doubleList;</span><br><span class="line">            doubleList-&gt;next-&gt;pre=tempList;</span><br><span class="line">            doubleList-&gt;next=tempList;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            tempList-&gt;next=doubleList-&gt;next;</span><br><span class="line">            tempList-&gt;pre=doubleList;</span><br><span class="line"></span><br><span class="line">            doubleList-&gt;next=tempList;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">findList</span><span class="params">(List <span class="built_in">list</span>,E e)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">list</span>==<span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//第一个是头结点，所以直接跳过</span></span><br><span class="line">    <span class="built_in">list</span>=<span class="built_in">list</span>-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">list</span>)&#123;</span><br><span class="line">        count++;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">list</span>-&gt;element==e)</span><br><span class="line">            <span class="keyword">return</span> count;</span><br><span class="line">        <span class="built_in">list</span>=<span class="built_in">list</span>-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">sizeList</span><span class="params">(List <span class="built_in">list</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">list</span>=<span class="built_in">list</span>-&gt;next;</span><br><span class="line">    <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">list</span>)&#123;</span><br><span class="line">        count++;</span><br><span class="line">        <span class="built_in">list</span>=<span class="built_in">list</span>-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">getListElement</span><span class="params">(List <span class="built_in">list</span>,<span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="comment">//找到指定位置</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;index;i++)&#123;</span><br><span class="line">        <span class="built_in">list</span>=<span class="built_in">list</span>-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">list</span>-&gt;element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    srand(time(<span class="number">0</span>));</span><br><span class="line">    List <span class="built_in">list</span>;</span><br><span class="line">    <span class="built_in">list</span>=(List)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> DoubleList));</span><br><span class="line">    initDoubleList(<span class="built_in">list</span>);</span><br><span class="line">    randomInsertHead(<span class="built_in">list</span>,<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;随机生成长度为10的链表:\n&quot;</span>);</span><br><span class="line">    printList(<span class="built_in">list</span>);</span><br><span class="line">    insertDoubleList(<span class="built_in">list</span>,<span class="number">10</span>,<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;添加元素10后:\n&quot;</span>);</span><br><span class="line">    printList(<span class="built_in">list</span>);</span><br><span class="line">    deleteList(<span class="built_in">list</span>,<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;删除第一个元素后:\n&quot;</span>);</span><br><span class="line">    printList(<span class="built_in">list</span>);</span><br><span class="line">    <span class="type">int</span> find = findList(<span class="built_in">list</span>,<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;10位于链表第%d位\n&quot;</span>,find);</span><br><span class="line">    <span class="type">int</span> size =sizeList(<span class="built_in">list</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;该链表的长度为：%d\n&quot;</span>,size);</span><br><span class="line">    <span class="type">int</span> elem=getListElement(<span class="built_in">list</span>,<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;链表第一位元素为：%d\n&quot;</span>,elem);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="双向链表-3"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">随机生成长度为<span class="number">10</span>的链表:</span><br><span class="line"><span class="number">73</span> <span class="number">19</span> <span class="number">59</span> <span class="number">65</span> <span class="number">16</span> <span class="number">47</span> <span class="number">85</span> <span class="number">59</span> <span class="number">50</span> <span class="number">51</span> </span><br><span class="line">添加元素<span class="number">10</span>后:</span><br><span class="line"><span class="number">73</span> <span class="number">10</span> <span class="number">19</span> <span class="number">59</span> <span class="number">65</span> <span class="number">16</span> <span class="number">47</span> <span class="number">85</span> <span class="number">59</span> <span class="number">50</span> <span class="number">51</span> </span><br><span class="line"><span class="number">10</span> <span class="number">19</span> <span class="number">59</span> <span class="number">65</span> <span class="number">16</span> <span class="number">47</span> <span class="number">85</span> <span class="number">59</span> <span class="number">50</span> <span class="number">51</span> </span><br><span class="line"><span class="number">10</span>位于链表第<span class="number">1</span>位</span><br><span class="line">该链表的长度为：<span class="number">10</span></span><br><span class="line">链表第一位元素为：<span class="number">10</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="循环链表"><a href="#循环链表" class="headerlink" title="循环链表"></a>循环链表</h3><p>循环链表，这种链表实际上和前面的链表是一样的，只是它的最后一个结点，是与头结点相连的，双向链表和单向链表都可以做成这样的环形结构</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>数据结构基础理解</title>
      <link href="/2025/09/02/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
      <url>/2025/09/02/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<h1 id="绪论"><a href="#绪论" class="headerlink" title="绪论"></a>绪论</h1><h2 id="基础概念和术语"><a href="#基础概念和术语" class="headerlink" title="基础概念和术语"></a>基础概念和术语</h2><h3 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h3><ul><li>数据：数据是<code>描述客观事物</code>的符号，是计算机可以操作的对象。<ul><li>数据不仅仅包括整型实型等<code>数值类型</code>，还包括字符及声音、图像等<code>非数值类型</code>。</li><li>对于整型、实型等数据类型，可以进行数值计算</li><li>对于字符数据类型，就需要进行非数值的处理，而声音、图像、视频等可以通过<code>编码</code>的手段变为字符数据来处理</li></ul></li></ul><h3 id="数据元素"><a href="#数据元素" class="headerlink" title="数据元素"></a>数据元素</h3><ul><li>数据元素：是组成数据的、有一定意义的基本单位，在计算机中通常作为一个整体处理<ul><li>在人类中，数据元素为人</li><li>在畜类中，数据元素是牛、马、羊等动物</li></ul></li></ul><h3 id="数据项"><a href="#数据项" class="headerlink" title="数据项"></a>数据项</h3><ul><li>数据项：数据项是数据元素的组成部分，一个数据元素可以由多个数据项组成。<ul><li>人如果作为数据元素，那么人的眼、耳、鼻、手、等部位就可以作为数据项，姓名，年龄，联系电话等也可以作为数据项，<strong>具体哪些作为数据项应当根据所处系统来决定</strong></li><li><code>数据项是数据不可分割的最小单位</code>，但在真正讨论问题时，数据元素才是数据结构建立数据模型的着眼点。就像讨论电影角色时，是针对角色整体讨论，而不是针对角色的姓名或年龄这样的“数据项”</li></ul></li></ul><h3 id="数据对象"><a href="#数据对象" class="headerlink" title="数据对象"></a>数据对象</h3><ul><li>数据对象：是性质相同的数据元素的<code>集合</code>，是数据的子集</li><li><code>性质相同</code>：数据元素具有相同数量和类型的数据项即为性质相同。比如，人都有名字、性别、年龄等相同的数据项</li><li>数据对象是数据的子集，在实际应用中，处理的数据元素通常有相同性质，在不产生混淆的情况下，<strong>我们习惯将数据对象简称为数据</strong></li></ul><h3 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h3><ul><li>数据结构：是指数据元素之间的关系，它是数据的组织形式。数据结构可以分为<code>逻辑结构</code>和<code>物理结构</code>。</li></ul><h2 id="逻辑结构与物理结构"><a href="#逻辑结构与物理结构" class="headerlink" title="逻辑结构与物理结构"></a>逻辑结构与物理结构</h2><h3 id="逻辑结构"><a href="#逻辑结构" class="headerlink" title="逻辑结构"></a>逻辑结构</h3><ul><li>逻辑结构：是指数据对象中数据元素之间的相互关系</li><li>逻辑结构分为四类：<ul><li>集合结构<ul><li>元素之间的共同属性只有<code>同属一个集合</code></li></ul></li><li>线性结构<ul><li>元素之间关系一对一，呈线状</li></ul></li><li>树形结构<ul><li>元素之间关系一对多，比如一个上司有多位下属</li></ul></li><li>图形结构<ul><li>元素之间关系多对多，比如一个人有多个朋友</li></ul></li></ul></li></ul><h3 id="物理结构"><a href="#物理结构" class="headerlink" title="物理结构"></a>物理结构</h3><ul><li>物理结构也称为存储结构，指数据的逻辑结构在计算机中的<code>存储形式</code></li><li>数据的存储形式有两种：<ul><li>顺序存储<ul><li>将数据元素存放在地址连续的存储单元</li></ul></li><li>链式存储<ul><li>将数据元素存放在任意的存储单元，通过指针连接起来</li></ul></li></ul></li></ul><div class="note info no-icon 物理结构 flat"><p>逻辑结构是面向问题的，而物理结构是面向计算机的，其基本目标是将数据及其逻辑关系存储到计算机内存中</p></div><h1 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h1><h2 id="数据结构与算法的关系"><a href="#数据结构与算法的关系" class="headerlink" title="数据结构与算法的关系"></a>数据结构与算法的关系</h2><details class="folding-tag" ><summary> 举个栗子 </summary>              <div class='content'>              <p>今天是你女友生日，你打算请女友去看爱情音乐剧，到了戏院，抬头一看——<code>《梁山伯》</code>18：00开演。嗯，怎么会是这样？一问才知，今天饰演祝英台的演员生病，所以梁山伯唱独角戏。真是搞笑了，这还有什么看头。于是你们打算去看爱情电影。到了电影院，一看海报——<code>《罗密欧》</code>，是不是名字写错了，问了才知，原来饰演朱丽叶的演员因为嫌弃演出费用太低，中途退演了。制片方考虑到已经开拍，于是就把电影名字定为《罗密欧》，主要讲男主角的心路旅程。哎，这电影还怎么看啊？</p>              </div>            </details><ul><li><strong>数据结构是<code>存储和组织数据</code>的方式</strong><ul><li>比如数组、链表、栈、队列等</li><li>它决定了数据在计算机内存里的排布方式，以及访问、插入、删除等操作的效率</li></ul></li><li><strong>算法是<code>操作数据</code>的步骤和方法</strong><ul><li>比如排序算法(快排，归并)、查找算法(二分查找)等</li><li>它决定了数据的操作效率，是解决问题的基础</li></ul></li></ul><div class="note danger no-icon flat"><p>算法需要依赖数据结构来实现，数据结构的设计往往也是为了支撑高效的算法</p></div><h2 id="特性和要求"><a href="#特性和要求" class="headerlink" title="特性和要求"></a>特性和要求</h2><ul><li>算法是描述解决问题的方法</li><li><strong>算法具有五个基本特性：</strong><ul><li><code>输入</code></li><li><code>输出</code></li><li><code>有穷性</code><ul><li>主要指算法在执行有限的步骤会自动结束，且这个时间不应很长，否则算法的意义也就不大了</li></ul></li><li><code>确定性</code><ul><li>算法每一步都有确定的含义，不会出现二义性，相同的输入应当得到唯一的输出</li></ul></li><li><code>可行性</code></li></ul></li><li><strong>算法的设计要求:</strong><ul><li><code>正确性</code><ul><li>算法应当满足问题定义的要求，即算法的输出应当是满足问题要求的</li><li>但正确也有很大区别，大致分为四个层次<ul><li>第1层：没有语法错误</li><li>第2层：对于合法的输入数据能产生满足要求的结果</li><li>第3层：对于非法的输入数据能返回规格说明的结果</li><li>第4层：即使面对精心选择的，甚至刁难的测试数据也有满足要求的输出结果</li></ul></li><li>一般情况下,以层次三作为判断算法是否正确的标准</li></ul></li><li><code>可读性</code><ul><li>算法应当是容易理解的，能够被人阅读和理解</li></ul></li><li><code>健壮性</code><ul><li>算法应当对非法输入有良好的处理能力，即当输入数据不满足问题定义的要求时，算法应当能够正确地处理，而不是崩溃或产生莫名其妙的结果</li></ul></li><li><code>时间效率高</code><ul><li>算法应当在执行时间方面尽可能地高效</li></ul></li><li><code>存储量低</code><ul><li>算法应当在存储量方面尽可能地低</li></ul></li></ul></li></ul><h2 id="算法效率的度量方法"><a href="#算法效率的度量方法" class="headerlink" title="算法效率的度量方法"></a>算法效率的度量方法</h2><h3 id="事后统计方法"><a href="#事后统计方法" class="headerlink" title="事后统计方法"></a>事后统计方法</h3><ul><li>这种方法主要是通过设计好的测试程序和数据，利用计算机计时器对不同算法编制的程序的运行时间进行比较，从而确定算法效率的高低。但这种方法显然有很大的缺陷：<ul><li>必须依据算法实现编制好测试程序</li><li>时间的比较可能会因为计算机硬件和软件等环境因素而掩盖算法本身的优劣</li><li>算法测试数据设计困难，数据规模的不同对于算法的效率也有很大的影响</li></ul></li></ul><h3 id="事前分析估算法"><a href="#事前分析估算法" class="headerlink" title="事前分析估算法"></a>事前分析估算法</h3><p>事前分析估算法：在计算机程序编制前，依据统计方法对算法进行估算。</p><p>经过分析，我们发现，一个用高级程序语言编写的程序在计算机上运行时所消耗的时间取决于下列因素：</p><ol><li>算法采用的策略、方法。 </li><li>编译产生的代码质量。 </li><li>问题的输入规模。 </li><li>机器执行指令的速度。</li></ol><p>第1条当然是算法好坏的根本，第2条要由软件来支持，第4条要看硬件性能。也就是说，抛开这些与计算机硬件、软件有关的因素，一个程序的运行时间，依赖于算法的好坏和问题的输入规模。所谓问题输入规模是指输入量的多少。</p><ul><li><p>分析两种求和的算法：</p><ul><li>第一种算法：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> i,sum <span class="number">0</span>,n <span class="number">100</span>;</span><br><span class="line"><span class="comment">/*执行1次*/</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++) <span class="comment">/* 执行了n+1次 */</span></span><br><span class="line">&#123;</span><br><span class="line">    sum sum +i;   <span class="comment">/*执行n次*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span> (<span class="string">&quot;&amp;d&quot;</span>,sum);<span class="comment">/*执行1次*/</span></span><br></pre></td></tr></table></figure></li><li>第二种算法：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> sum=<span class="number">0</span>,n=<span class="number">100</span>;  <span class="comment">/*执行1次*/</span></span><br><span class="line">sum=(<span class="number">1</span>+n)*n/<span class="number">2</span>;    <span class="comment">/*执行1次*/</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, sum);<span class="comment">/*执行1次*/</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>显然第一种算法，执行了更多次才得到结果，两种算法的第一条和最后一条语句一致，我们重点关注的是算法的中间部分，故忽略头尾的开销，那么这两个算法其实就是n次与1次的差距，算法好坏显而易见。</p></li><li><p>继续延伸：</p></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> i,j x <span class="number">0</span>,sum <span class="number">0</span>,n <span class="number">100</span>; <span class="comment">/*执行一次*/</span></span><br><span class="line"><span class="keyword">for</span> (i <span class="number">1</span>;i &lt;n;i++)&#123;</span><br><span class="line">    <span class="keyword">for</span> (j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">        X++;            <span class="comment">/*执行n×n次*/</span></span><br><span class="line">        sum+=x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,sum);       <span class="comment">/*执行一次*/</span></span><br></pre></td></tr></table></figure><ul><li>可以看到在这个算法中，循环部分代码整体执行n²次，显然对同样的输入规模n = 100，该算法运算次数更多，执行时间随着n增加也远远多于前面两个。</li><li>我们在分析算法的运行时间时，重要的是把基本操作的数量与输入规模关联起来。</li></ul><h2 id="衡量方式"><a href="#衡量方式" class="headerlink" title="衡量方式"></a>衡量方式</h2><ul><li>不同的算法面对不同规模的输入数据，执行效率也有很大的差别。我们对算法引入复杂度的概念，</li><li>衡量一个算法的复杂程度用到以下两个指标<ul><li><code>时间复杂度</code></li><li><code>空间复杂度</code></li><li>我们在描述一个算法的复杂度时，其实不需要计算精确的执行次数，算出大概次数即可，这里我们使用<code>0渐进表示法</code><ul><li><code>大O符号</code>：用于描述函数渐进行为的数学符号</li></ul></li></ul></li><li><strong>推导大O阶</strong><ol><li>用常数1取代运行时间中的所有加法常数。</li><li>在修改后的运行次数函数中，只保留最高阶项。</li><li>如果最高阶项存在且不是1，则去除与这个项相乘的常数。</li></ol></li><li><p>在不同的复杂度下，可能n小的时候还没什么感觉，但是当n变得非常大时，差距就不是一点半点了，我们来看看常用函数的增长曲线：</p><div class="tabs" id="算法的复杂度"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#算法的复杂度-1">增长曲线</button></li><li class="tab"><button type="button" data-href="#算法的复杂度-2">常见的复杂度</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="算法的复杂度-1"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250903152928.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="算法的复杂度-2"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250903153445.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li><li><p>常用的时间复杂度所耗费的时间从小到大依次是：</p></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250903153733.png"/></div></div><h2 id="总结回顾"><a href="#总结回顾" class="headerlink" title="总结回顾"></a>总结回顾</h2><ul><li><strong>算法的定义</strong>：算法是解决特定问题求解步骤的描述，在计算机中为指令的有限序列，并且每条指令表示一个或多个操作。</li><li><strong>算法的特性</strong>：有穷性、确定性、可行性、输入、输出。</li><li><strong>算法的设计的要求</strong>：正确性、可读性、健壮性、高效率和低存储量需求。</li><li>算法特性与算法设计容易混，需要对比记忆。</li><li><p><strong>算法的度量方法</strong>：事后统计方法（不科学、不准确）、事前分析估算方法。</p></li><li><p>推导大O阶：</p><ul><li>用常数1取代运行时间中的所有加法常数。</li><li>在修改后的运行次数函数中，只保留最高阶项。</li><li>如果最高阶项存在且不是1，则去除与这个项相乘的常数。</li></ul></li></ul><details class="folding-tag" cyan open><summary> 有的人认为现在CPU越来越快，根本不用考虑算法的效率优劣，实现功能即可，用户感觉不到算法好坏造成的快慢。事实是这样的吗？ </summary>              <div class='content'>              <ul><li>答案是否定的，算法的效率是非常重要的，因为算法的效率直接影响到程序的运行时间，而程序的运行时间直接影响到用户的体验。</li><li>假设在短短几年内CPU速度提高了100倍，而我们的某个程序原本可以用时间复杂度为O(n)的算法实现，却写出了O(n<sup>2</sup><br>)的程序,仅仅是因为容易写。即在O(n<sup>2</sup>)的时间复杂度算法程序下，速度其实只是提高了10倍，但在对于O(n)时间复杂度的算法是真正的提高了100倍</li></ul>              </div>            </details><h1 id="线性表"><a href="#线性表" class="headerlink" title="线性表"></a>线性表</h1><details class="folding-tag" ><summary> blue 举个栗子 </summary>              <div class='content'>              <p>在幼儿园放学时，经常能看到老师带着小朋友们，一个拉着另一个的衣服，依次从教室出来。而且观察几次便能发现，每次小朋友的排列次序都是一样的。比如小明排在第五个，每次他便都是第五个，前面一直是那个小女孩，后面一直是那个小男孩。为什么一定要这样？<br>老师解释道，这样可以保证小朋友的安全，避免遗漏。事先规定好了，谁在谁的前面，谁在谁的后面。这样养成习惯后，如果有谁没有到位，他前面和后面的小朋友就会主动报告老师，某人不在。即使以后如果要外出到公园或博物馆等情况下，老师也可以很快地清点人数，万一有人走丢，也能在最快时间知道，及时去寻找。<br>这种排好队的组织方式，便是<code>线性表</code>。</p>              </div>            </details><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><ul><li>线性表（List）：零个或多个数据元素的<code>有限序列</code>。从名字上就能理解到，线性表是“线性”的，即数据元素之间是线性的<ul><li><code>线性表是一个序列</code>，也就是说元素之间是有序，若元素存在多个，则第一个元素无前驱，最后一个元素无后继，其他每个元素都有且只有一个前驱和后继。</li><li>如果一个小朋友去拉两个小朋友后面的衣服，那就不可以排成一队了；同样，如果一个小朋友后面的衣服，被两个甚至多个小朋友拉扯，这其实是在打架，而不是有序排队。</li><li><code>线性表是有限的</code>,小朋友班级人数是有限的，元素个数当然也是有限的。事实上，在计算机中处理的对象都是有限的，那种无限的数列，只存在于数学的概念中。</li></ul></li></ul><details class="folding-tag" ><summary> cyan yellow 判断是否为线性表 </summary>              <div class='content'>              <ul><li><p>公司的组织架构，总经理管理几个总监，每个总监管理几个经理，每个经理都有各自的下属和员工。这样的组织架构是不是线性关系呢？</p><ul><li>不是，为什么不是呢？哦，因为每一个元素，都有不只一个后继，所以它不是线性表。那种让一个总经理只管一个总监，一个总监只管一个经理，一个经理只管一个员工的公司，俗称皮包公司，岗位设置等于就是在忽悠外人。</li></ul></li><li><p>班级同学之间的友谊关系，是不是线性关系？</p><ul><li>不是，因为每个人都可以和多个同学建立友谊，不满足线性的定义。嗯？有人说爱情关系就是了。胡扯，难道每个人都要有一个爱的人和一个爱自己的人，而且他们还都不可以重复爱同一个人这样的情况出现，最终形成一个班级情感人物串联？这怎么可能，也许网络小说里可能出现，但现实中是不可能的。</li></ul></li><li><p>班级同学的点名册，是不是线性表？</p><ul><li>是，这和刚才的友谊关系是完全不同了，因为它是有限序列，也满足类型相同的特点。这个点名册（如表3-2-1所示）中，每一个元素除学生的学号外，还可以有同学的姓名、性别、出生年月什么的，这其实就是我们之前讲的数据项。在较复杂的线性表中，一个数据元素可以由若干个数据项组成。</li></ul></li><li><p>一群同学排队买演唱会门票，每人限购一张，此时排队的人群是不是线性表？</p><ul><li>是，对的。此时来了三个同学要插当中一个同学A的队，说同学A之前拿着的三个书包就是用来占位的，书包也算是在排队。如果你是后面早已来排队的同学，你们愿不愿意？肯定不愿意，书包怎么能算排队的人呢，如果这也算，我浑身上下的衣服裤子都在排队了。于是不让这三个人进来。 </li><li>这里用线性表的定义来说，是什么理由？嗯，因为要相同类型的数据，书包根本不算是人，当然排队无效，三个人想不劳而获，自然遭到大家的谴责。</li></ul></li></ul>              </div>            </details><h2 id="基础功能"><a href="#基础功能" class="headerlink" title="基础功能"></a>基础功能</h2><ul><li><p>线性表一般需要包含以下功能：  </p><ul><li><strong>初始化线性表：</strong> 将一个线性表进行初始化，得到一个全新的线性表。</li><li><strong>获取指定位置上的元素：</strong> 直接获取线性表指定位置<code>i</code>上的元素。</li><li><strong>获取元素的位置：</strong> 获取某个元素在线性表上的位置<code>i</code>。</li><li><strong>插入元素：</strong> 在指定位置<code>i</code>上插入一个元素。</li></ul><ul><li><strong>删除元素：</strong> 删除指定位置<code>i</code>上的一个元素。</li><li><strong>获取长度：</strong> 返回线性表的长度。</li></ul></li><li><p>简单来说它就是列表，比如我们的菜单，我们在点菜时就需要往菜单列表中添加菜品或是删除菜品，这时列表就很有用了，因为数组长度固定、操作简单，而我们添加菜品、删除菜品这些操作又要求长度动态变化、操作多样。</p></li><li>实现线性表的结构一般有两种，一种是<code>顺序存储</code>实现，还有一种是<code>链式存储</code>实现，我们先来看第一种，也是最简单的的一种。</li></ul><h2 id="顺序存储结构"><a href="#顺序存储结构" class="headerlink" title="顺序存储结构"></a>顺序存储结构</h2><ul><li>线性表的顺序存储结构，指的是用一段地址连续的存储单元依次存储线性表的数据元素</li><li>顺序存储是在内存中找了一部分空间，通过“占位”的方式，占据一定的内存空间，然后将相同数据类型的数据元素依次放到这块空地。</li><li>因为线性表的每个数据元素类型相同，所以可以<strong>使用一维数组来实现顺序存储结构</strong>。<h3 id="存储方式"><a href="#存储方式" class="headerlink" title="存储方式"></a>存储方式</h3><details class="folding-tag" yellow><summary> 举个栗子 </summary>              <div class='content'>              <p>在图书馆给朋友占座时，如果图书馆里空座很多，不必一定要选择第一排第一个位子，而是可以选择风水不错、适合自己的地儿。找到后，放一个书包在第一个位置，就表示从这开始，这地方暂时归我了。为了建立一个线性表，要在内存中找一块地，于是这块地的第一个位置就非常关键，它是存储空间的起始位置。</p><p>因为一共要帮五个朋友占座，所以需要占六个座。线性表中，我们估算这个线性表的<code>最大存储容量</code>，建立一个数组，数组的长度就是这个最大存储容量。</p><p>可现实中，总有那么几个不是很好学的人，为了游戏，为了恋爱，就不去图书馆自习了。假设我们六个人，去了四个，真正被使用的座位也就只是四个，另两个是空的。同样的，我们已经有了起始的位置，也有了最大的容量，于是我们可以在里面增加数据了。随着数据的插入，我们线性表的长度开始变大，不过线性表的当前长度不能超过存储容量，即数组的长度。想想也是，如果我们有九个人，只占了六个座，自然是坐不下的。</p>              </div>            </details></li></ul><p>线性表顺序存储的结构代码<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MAXSIZE 20</span></span><br><span class="line"><span class="comment">/*存储空间初始分配量*/</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;</span><br><span class="line"><span class="comment">/*ElemType类型根据实际情况而假设为int*/</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class"><span class="title">E1</span> <span class="title">emType</span> <span class="title">data</span>[<span class="title">MAXSIZE</span>];</span><span class="comment">/*数组存储数据元素，最大值为MAXSIZE*/</span></span><br><span class="line"><span class="type">int</span> length;</span><br><span class="line"><span class="comment">/*线性表当前长度*/</span></span><br></pre></td></tr></table></figure></p><p>顺序存储结构需要三个属性：</p><ul><li>存储空间的起始位置：数组data，它的存储位置就是存储空间的存储位置。</li><li>线性表的最大存储容量：数组长度MaxSize。</li><li>线性表的当前长度：length。</li></ul><h3 id="地址计算方式"><a href="#地址计算方式" class="headerlink" title="地址计算方式"></a>地址计算方式</h3><ul><li>线性表的起始是1，可C语言中数组的下标是从0开始的，于是线性表的第i个元素实际是存储在数组下标为i-1的位置</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250903164832.png"/></div></div><ul><li><p>用数组存储顺序表意味着要分配固定长度的数组空间，由于线性表中可以进行插入和删除操作，因此分配的数组空间要大于等于当前线性表的长度。</p></li><li><p>内存中的地址，就和图书馆或电影院里的座位一样，都是有编号的。存储器中的每个存储单元都有自己的编号，这个编号称为地址。当我们占座后，占座的第一个位置确定后，后面的位置都是可以计算的。试想一下，我是班级成绩第五名，我后面的10名同学成绩名次是多少呢？当然是6，7，…、15，因为5+1，5+2，…，5+10。由于每个数据元素，不管它是整型、实型还是字符型，它都是需要占用一定的存储单元空间的。假设占用的是c个存储单元，那么线性表中第i+1个数据元素的存储位置和第i个数据元素的存储位置满足下列关系（LOC表示获得存储位置的函数）。</p><ul><li>LOC（i+1）=LOC（i）+c</li></ul></li><li>所以对于第i个数据元素，其位置为：<ul><li>LOC（i）=LOC（i）+（i-1）*c</li></ul></li></ul><div class="note info no-icon flat"><p>通过这个公式可以随时算出线性表中任意位置的地址，不管它是第一个还是最后一个，都是相同的时间。那么我们对每个线性表位置的存入或者取出数据，对于计算机来说都是相等的时间，也就是一个常数，因此用我们算法中学到的时间复杂度的概念来说，它的存取时间性能为O(1)。我们通常把具有这一特点的存储结构称为随机存取结构。</p></div><h3 id="顺序存储结构的插入和删除"><a href="#顺序存储结构的插入和删除" class="headerlink" title="顺序存储结构的插入和删除"></a>顺序存储结构的插入和删除</h3><details class="folding-tag" yellow><summary> 插入操作的事例 </summary>              <div class='content'>              <ul><li>在春运时去买火车票，大家都排队排的好好的。这时来了一个美女，对着队伍中排在第三位的你说，“大哥，求求你帮帮忙，我家母亲有病，我得急着回去看她，这队伍这么长，你可否让我排在你的前面？”你心一软，就同意了。这时，你必须得退后一步，否则她是没法进到队伍来的。这可不得了，后面的人像蠕虫一样，全部都得退一步。骂声四起。但后面的人也不清楚这加塞是怎么回事，没什么办法。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250903170636.png"/></div></div>              </div>            </details><ul><li>插入算法的思路：<ul><li>如果插入位置不合理，抛出异常；</li><li>如果线性表长度大于等于数组长度，则抛出异常或动态增加容量；</li><li>从最后一个元素开始向前遍历到第i个位置，分别将它们都向后移动一个位置；</li><li>将要插入元素填入位置i处；</li><li>表长加1。</li></ul></li></ul><details class="folding-tag" yellow><summary> 删除操作的事例 </summary>              <div class='content'>              <ul><li>接着刚才的例子。此时后面排队的人群意见都很大，都说怎么可以这样，不管什么原因，插队就是不行，有本事，找火车站开后门去。就在这时，远处跑来一胖子，对着这美女喊，可找到你了，你这骗子，还我钱。只见这女子二话不说，突然就冲出了队伍，胖子追在其后，消失在人群中。哦，原来她是倒卖火车票的黄牛，刚才还装可怜。于是排队的人群，又像蠕虫一样，均向前移动了一步，骂声渐息，队伍又恢复了平静。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250903171043.png"/></div></div>              </div>            </details><ul><li><p>删除算法的思路：</p><ul><li>如果删除位置不合理，抛出异常；</li><li>取出删除元素；</li><li>从删除元素位置开始遍历到最后一个元素位置，分别将它们都向前移动一个位置；</li><li>表长减1。</li></ul></li><li><p>分析插入和删除的时间复杂度</p><ul><li>最好的情况：如果元素要插入到最后一个位置，或者删除最后一个元素，此时时间复杂度为O(1)，因为不需要移动元素的，就如同来了一个新人要正常排队，当然是排在最后，如果此时他又不想排了，那么他一个人离开就好了，不影响任何人。</li><li>最坏的情况：如果元素要插入到第一个位置，或者删除第一个元素，此时时间复杂度为O(n)，因为需要移动n个元素。</li><li>平均情况：如果元素要插入到中间位置，或者删除中间位置的元素，此时时间复杂度为O(n)，因为需要移动n/2个元素。</li></ul></li><li><p>顺序存储结构的优缺点：</p></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250903173241.png"/></div></div><div class="note danger no-icon flat"><p>这说明线性表的顺序存储结构，在存、读数据时，不管是哪个位置，时间复杂度都是O(1)；而插入或删除时，时间复杂度都是O(n)。这就说明，<strong>它比较适合元素个数不太变化，而更多是存取数据的应用</strong>。</p></div><h3 id="顺序存储结构的实现"><a href="#顺序存储结构的实现" class="headerlink" title="顺序存储结构的实现"></a>顺序存储结构的实现</h3><h4 id="创建一个顺序存储结构的线性表"><a href="#创建一个顺序存储结构的线性表" class="headerlink" title="创建一个顺序存储结构的线性表"></a>创建一个顺序存储结构的线性表</h4><ul><li>首先定义一个结构体类型，将用到的数据保存在一起，以<code>int类型</code>为例</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> E;  <span class="comment">//这里我们的元素类型就用int为例吧，先起个别名</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">List</span> &#123;</span></span><br><span class="line">    E <span class="built_in">array</span>[<span class="number">10</span>];   <span class="comment">//实现顺序表的底层数组</span></span><br><span class="line">    <span class="type">int</span> capacity;   <span class="comment">//表示底层数组的容量</span></span><br><span class="line">    <span class="type">int</span> size;   <span class="comment">//表示当前线性表中的元素个数</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>为了使用方便，为结构体的指针取别名<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//因为是数组实现，所以就叫ArrayList，这里直接将List的指针起别名</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">List</span>* <span class="title">ArrayList</span>;</span> </span><br></pre></td></tr></table></figure></li><li>编写线性表的初始化操作，初始化数组容量</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">initList</span><span class="params">(ArrayList <span class="built_in">list</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">list</span>-&gt;capacity = <span class="number">10</span>;   <span class="comment">//直接将数组的容量设定为10即可</span></span><br><span class="line">    <span class="built_in">list</span>-&gt;size = <span class="number">0</span>;   <span class="comment">//初始时，表中没有元素，所以元素数量为0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>刚才是直接将顺序表长度设置为10，但顺序表的长度一般为动态的，所以我们选择直接用一个<code>指针</code>来指向底层数组的内存区域，当装不下的时候，我们可以创建一个新的更大的内存空间来存放数据，这样就可以<code>实现扩容</code>了</li><li>同时初始化顺序表还有申请内存失败的可能，应当返回一个结果告诉调用者，修改一下之前的代码</li></ul><div class="tabs" id="顺序存储结构"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#顺序存储结构-1">List</button></li><li class="tab"><button type="button" data-href="#顺序存储结构-2">initList</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="顺序存储结构-1"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">List</span> &#123;</span></span><br><span class="line">    E * <span class="built_in">array</span>;   <span class="comment">//指向顺序表的底层数组</span></span><br><span class="line">    <span class="type">int</span> capacity;   <span class="comment">//数组的容量</span></span><br><span class="line">    <span class="type">int</span> size;   <span class="comment">//表中的元素数量</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="顺序存储结构-2"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">_Bool</span> <span class="title function_">initList</span><span class="params">(ArrayList <span class="built_in">list</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">list</span>-&gt;<span class="built_in">array</span> = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>) * <span class="number">10</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">list</span>-&gt;<span class="built_in">array</span> == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;  <span class="comment">//需要判断如果申请的结果为NULL的话表示内存空间申请失败</span></span><br><span class="line">    <span class="built_in">list</span>-&gt;capacity = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">list</span>-&gt;size = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;   <span class="comment">//正常情况下返回true也就是1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="编写插入操作"><a href="#编写插入操作" class="headerlink" title="编写插入操作"></a>编写插入操作</h4><ul><li>先设计好对应的函数</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">insertList</span><span class="params">(ArrayList <span class="built_in">list</span>, E element, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="comment">//list就是待操作的表，element就是需要插入的元素，index就是插入的位置（注意顺序表的index是按位序计算的，从1开始，一般都是第index个元素）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>按照先前的思路编写代码</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">insertList</span><span class="params">(ArrayList <span class="built_in">list</span>, E element, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="built_in">list</span>-&gt;size; i &gt; index - <span class="number">1</span>; i--)  <span class="comment">//先使用for循环将待插入位置后续的元素全部丢到后一位</span></span><br><span class="line">        <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i] = <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i - <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[index - <span class="number">1</span>] = element;    <span class="comment">//挪完之后，位置就腾出来了，直接设定即可</span></span><br><span class="line">    <span class="built_in">list</span>-&gt;size++;   <span class="comment">//插入之后相当于多了一个元素，记得size + 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>测试插入函数</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">printList</span><span class="params">(ArrayList <span class="built_in">list</span>)</span>&#123;   <span class="comment">//编写一个函数用于打印表当前的数据</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">list</span>-&gt;size; ++i)   <span class="comment">//表里面每个元素都拿出来打印一次</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">List</span> <span class="title">list</span>;</span></span><br><span class="line">    <span class="keyword">if</span>(initList(&amp;<span class="built_in">list</span>))&#123;</span><br><span class="line">        insertList(&amp;<span class="built_in">list</span>, <span class="number">666</span>, <span class="number">1</span>);  <span class="comment">//每次插入操作后都打印一下表，看看当前的情况 </span></span><br><span class="line">        printList(&amp;<span class="built_in">list</span>);</span><br><span class="line">        insertList(&amp;<span class="built_in">list</span>, <span class="number">777</span>, <span class="number">1</span>);</span><br><span class="line">        printList(&amp;<span class="built_in">list</span>);</span><br><span class="line">        insertList(&amp;<span class="built_in">list</span>, <span class="number">888</span>, <span class="number">2</span>);</span><br><span class="line">        printList(&amp;<span class="built_in">list</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;顺序表初始化失败，无法启动程序！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="判断数据合法性"><a href="#判断数据合法性" class="headerlink" title="判断数据合法性"></a>判断数据合法性</h4><ul><li>此时正常插入便能成功进行，但如果我们在非法的位置插入元素依旧会有问题,比如这个位置小于0或者大于现在的元素数量，故我们应当检查插入位置是否合法</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250903180158.png"/></div></div><ul><li>转换成位序，也就是[1, size + 1]这个闭区间，所以我们在一开始的时候进行判断：</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">_Bool</span> <span class="title function_">insertList</span><span class="params">(ArrayList <span class="built_in">list</span>, E element, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">1</span> || index &gt; <span class="built_in">list</span>-&gt;size + <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;   <span class="comment">//如果在非法位置插入，返回0表示插入操作执行失败</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="built_in">list</span>-&gt;size; i &gt; index - <span class="number">1</span>; i--)</span><br><span class="line">        <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i] = <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i - <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[index - <span class="number">1</span>] = element;</span><br><span class="line">    <span class="built_in">list</span>-&gt;size++;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;   <span class="comment">//正常情况返回1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="扩容顺序表"><a href="#扩容顺序表" class="headerlink" title="扩容顺序表"></a>扩容顺序表</h4><ul><li>如果我们的表已经装满了，也就是说size已经达到申请的内存空间最大的大小了，那么此时我们就需要考虑进行扩容了，否则就没办法插入新的元素了：</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">_Bool</span> <span class="title function_">insertList</span><span class="params">(ArrayList <span class="built_in">list</span>, E element, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">1</span> || index &gt; <span class="built_in">list</span>-&gt;size + <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">list</span>-&gt;size == <span class="built_in">list</span>-&gt;capacity) &#123;   <span class="comment">//如果size已经到达最大的容量了，肯定是插不进了，那么此时就需要扩容了</span></span><br><span class="line">        <span class="type">int</span> newCapacity = <span class="built_in">list</span>-&gt;capacity + (<span class="built_in">list</span>-&gt;capacity &gt;&gt; <span class="number">1</span>);   <span class="comment">//我们先计算一下新的容量大小，这里我取1.5倍原长度，当然你们也可以想扩多少扩多少</span></span><br><span class="line">        E * newArray = <span class="built_in">realloc</span>(<span class="built_in">list</span>-&gt;<span class="built_in">array</span>, <span class="keyword">sizeof</span>(E) * newCapacity);  <span class="comment">//这里我们使用新的函数realloc重新申请更大的内存空间</span></span><br><span class="line">        <span class="keyword">if</span>(newArray == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;   <span class="comment">//如果申请失败，那么就确实没办法插入了，只能返回0表示插入失败了</span></span><br><span class="line">        <span class="built_in">list</span>-&gt;<span class="built_in">array</span> = newArray;</span><br><span class="line">        <span class="built_in">list</span>-&gt;capacity = newCapacity;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="built_in">list</span>-&gt;size; i &gt; index - <span class="number">1</span>; i--)</span><br><span class="line">        <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i] = <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[i - <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">list</span>-&gt;<span class="built_in">array</span>[index - <span class="number">1</span>] = element;</span><br><span class="line">    <span class="built_in">list</span>-&gt;size++;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note warning no-icon flat"><p><code>realloc函数</code>可以做到控制动态内存开辟的大小，重新申请的内存空间大小就是我们指定的新的大小，并且原有的数据也会放到新申请的空间中，所以非常方便。当然如果因为内存不足之类的原因导致内存空间申请失败，那么会返回NULL，所以别忘了进行判断。</p></div><h2 id="链式存储结构"><a href="#链式存储结构" class="headerlink" title="链式存储结构"></a>链式存储结构</h2><details class="folding-tag" yellow><summary> 链式存储结构的引入 </summary>              <div class='content'>              <ul><li><p>顺序存储结构最大的缺点是插入和删除操作时需要移动大量的元素，操作的时间复杂度为O(n)，这是为什么？</p><ul><li>时间复杂度这么高的原因是在顺序存储结构中，相邻两元素的存储位置也有邻居关系，编号是1,2,3,…,n,他们在内存中的位置也是紧挨着，中间没有空隙，当然不能快速介入，删除后，留下的空隙也需要马上填补上，所以需要频繁操作。 </li></ul></li><li><p>如何解决问题？</p><ul><li><strong>A 同学思路</strong>:让当中每个元素之间都留有一个空位置,这样要插入时,就不至于移动。可一个空位置如何解决多个相同位置插入数据的问题呢?所以这个想法显然不行。</li><li><strong>B 同学思路</strong>:那就让当中每个元素之间都留足够多的位置,根据实际情况制定空隙大小,比如10个,这样插入时,就不需要移动了。万一 10 个空位用完了,再考虑移动使得每个位置之间都有10个空位置。如果删除,就直接删掉,把位置留空即可。这样似乎暂时解决了插入和删除的移动数据问题。可这对于超过10个同位置数据的插入,效率上还是存在问题。对于数据的遍历,也会因为空位置太多而造成判断时间上的浪费。而且显然这里空间复杂度还增加了,因为每个元素之间都有若干个空位置。</li><li><strong>C 同学思路</strong>:我们反正也是要让相邻元素间留有足够余地,那干脆所有的元素都不要考虑相邻位置了,哪有空位就到哪里,而只是让每个元素知道它下一个元素的位置在哪里,这样,我们可以在第一个元素时,就知道第二个元素的位置(内存地址),而找到它;在第二个元素时,再找到第三个元素的位置(内存地址)。这样所有的元素我们就都可以通过遍历而找到。</li></ul></li></ul><div class="note danger flat"><p>这里C同学的思路便是链表的雏形，链式存储结构就是基于这个思路的。<br>链式存储结构中，每个结点都存储一个数据，以及一个指向下一个元素的指针。这样，我们只需要一个指针就可以找到任意一个元素，从而实现数据的遍历。</p></div>              </div>            </details><h3 id="链表结构"><a href="#链表结构" class="headerlink" title="链表结构"></a>链表结构</h3><ul><li><p>链表中，对于数据元素a<sub>i</sub>来说，除了存储其本身的数据信息，还需要存储一个指示其直接后继的信息，我们把存储数据元素信息的域称为<code>数据域</code>，把存储直接后继位置的域称为<code>指针域</code>。指针域中存储的信息称做<code>指针</code>或<code>链</code>。这两部分信息组成数据元素a<sub>i</sub>的存储映像，称为<code>结点</code>（Node）。</p></li><li><p>对于线性表来说，总得有头有尾，链表也不例外，我们通常将链表中第一个结点的存储位置叫做<code>头指针</code>，整个链表的存取必须是从头指针开始进行。之后的每一个结点，其实就是上一个的后继指针指向的位置,知到最后一个检点指针为”空”(通常用NULL或“^”符号表示)</p></li><li>同时为了更方便的对链表进行操作，在单链表的第一个节点前还会添加一个头结点，这个头结点不存储数据，只存储一个指针域，这个指针域指向第一个结点。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904142858.png"/></div></div><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904143305.png"/></div></div><h3 id="单链表的读取"><a href="#单链表的读取" class="headerlink" title="单链表的读取"></a>单链表的读取</h3><ul><li>在线性表的顺序存储结构中，我们要计算任意一个元素的存储位置非常容易。但在单链表中，由于第i个元素到底在哪个位置，没办法一开始就知道，必须得从头开始找。因此，对于单链表实现获取第i个元素的数据的操作GetElem，在算法上，相对要麻烦一些。</li></ul><p>获得链表第i个数据的算法思路：</p><ol><li>声明一个指针p指向链表第一个结点，初始化j从1开始；</li><li>当j&lt;i时，就遍历链表，让p的指针向后移动，不断指向下一结点，j累加1；</li><li>若到链表末尾p为空，则说明第i个结点不存在；</li><li>否则查找成功，返回结点p的数据。</li></ol><div class="note info flat"><p>说白了，就是从头开始找，直到第i个结点为止。所以最坏情况的时间复杂度是O(n)。<br>此时就有人说，这么麻烦，这数据结构有什么用！还不如顺序存储结构呢。<br>哈，世间万物总是两面的，有好自然有不足，有差自然就有优势。下面来看一下在单链表中的如何实现“插入”和“删除”。</p></div><h3 id="单链表的插入和删除"><a href="#单链表的插入和删除" class="headerlink" title="单链表的插入和删除"></a>单链表的插入和删除</h3><ul><li>此处想在节点p的后方插入一个节点s，使其成为p的后继节点，该如何操作？</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904145730.png"/></div></div><ul><li>用不着更改其他节点，只需要让s-&gt;next和p-&gt;next的指针做一点改变即可。<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s-&gt;next=p-&gt;next;</span><br><span class="line">p-&gt;next=s;</span><br></pre></td></tr></table></figure></li></ul><details class="folding-tag" yellow><summary> 这两句的顺序可以交换吗？ </summary>              <div class='content'>              <ul><li>一定不能交换</li><li>交换后会将p-&gt;next的指针指向s，而s-&gt;next的指针指向p，这样p就无法找到它的后继节点了。后面的节点相当于断掉了。</li></ul>              </div>            </details><p>单链表第i个数据插入结点的算法思路： </p><ol><li>声明一指针p指向链表头结点，初始化j从1开始； </li><li>当j &lt; i时，就遍历链表，让p的指针向后移动，不断指向下一结点，j累加1； </li><li>若到链表末尾p为空，则说明第i个结点不存在； </li><li>否则查找成功，在系统中生成一个空结点s； </li><li>将数据元素e赋值给s-&gt;data；</li><li>单链表的插入标准语句s-&gt;next=p-&gt;next;p-&gt;next=s； </li><li>返回成功。</li></ol><ul><li>现在我们再来看单链表的删除。设存储元素a<sub>i</sub>的结点为q实现将结点q删除单链表的操作，其实就是将它的前继结点的指针绕过，指向它的后继结点即可</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904151034.png"/></div></div><ul><li>只需要将p的指针指向q的指针，即p-&gt;next=q-&gt;next即可</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p-&gt;next=q-&gt;next;</span><br></pre></td></tr></table></figure><p>单链表第i个数据删除结点的算法思路：</p><ol><li>声明一指针p指向链表头结点，初始化j从1开始；</li><li>当j &lt; i时，就遍历链表，让p的指针向后移动，不断指向下一个结点，j累加1；</li><li>若到链表末尾p为空，则说明第i个结点不存在；</li><li>否则查找成功，将欲删除的结点p-&gt;next赋值给q；</li><li>单链表的删除标准语句p-&gt;next=q-&gt;next；</li><li>将q结点中的数据赋值给e，作为返回；</li><li>释放q结点；</li><li>返回成功。</li></ol><h3 id="单链表整表创建"><a href="#单链表整表创建" class="headerlink" title="单链表整表创建"></a>单链表整表创建</h3><ul><li>回顾一下，顺序存储结构的创建，其实就是一个数组的初始化，即声明一个类型和大小的数组并赋值的过程。而单链表和顺序存储结构就不一样，它不像顺序存储结构这么集中，它可以很散，是一种动态结构。</li><li>创建单链表的过程就是一个动态生成链表的过程。即从“空表”的初始状态起，依次建立各元素结点，并逐个插入链表。</li></ul><p>单链表整表创建的算法思路：</p><ol><li>声明一指针p和计数器变量i；</li><li>初始化一空链表L；</li><li>让L的头结点的指针指向NULL，即建立一个带头结点的单链表；</li><li>循环：<ul><li>生成一新结点赋值给p；</li><li>随机生成一数字赋值给p的数据域p-&gt;data；</li><li>将p插入到头结点与前一新结点之间。</li></ul></li></ol><div class="note no-icon danger flat"><p>这个算法思路中，其实用的是插队的方法，始终让新节点在第一的位置，这种方法也叫做<code>头插法</code></p></div><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904152048.png"/></div></div><ul><li>事实上，我们完全可以把新结点插入到最后，这才符号排队的正常思维，所谓的先来后到。我们把每次新结点都插在终端结点的后面，这种算法称为<code>尾插法</code>。</li></ul><p>单链表尾插法的算法思路：</p><ol><li>声明一指针p和计数器变量i；</li><li>初始化一空链表L；</li><li>让L的头结点的指针指向NULL，即建立一个带头结点的单链表；</li><li>循环：<ul><li>生成一新结点赋值给p；</li><li>随机生成一数字赋值给p的数据域p-&gt;data；</li><li>将表尾终端节点的指针指向新节点</li><li>将当前新节点定义为尾端终端节点</li></ul></li></ol><h3 id="单链表整表删除"><a href="#单链表整表删除" class="headerlink" title="单链表整表删除"></a>单链表整表删除</h3><p>单链表整表删除的算法思路如下：</p><ol><li>声明一指针p和q；</li><li>将第一个结点赋值给p；</li><li>循环：<ul><li>将下一结点赋值给q；</li><li>释放p；</li><li>将q赋值给p。</li></ul></li></ol><p>有人认为q变量没有存在的意义，将q替换为p-&gt;next即可，这会带来什么问题？</p><blockquote><p>p指向一个结点，它除了有数据域，还有指针域。你在做free(p)时，其实是在对它整个结点进行删除和内存释放的工作,如果结点删除了，上哪还能继续使用p-&gt;next跳转到下一个节点呢</p></blockquote><h3 id="单链表结构与顺序存储结构优缺点"><a href="#单链表结构与顺序存储结构优缺点" class="headerlink" title="单链表结构与顺序存储结构优缺点"></a>单链表结构与顺序存储结构优缺点</h3><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904154550.png"/></div></div><ul><li>得到一些经验性的结论：<ul><li><strong>线性表需要频繁查找，很少进行插入和删除操作时，宜采用顺序存储结构。若需要频繁插入和删除时，宜采用单链表结构。</strong>比如说游戏开发中，对于用户注册的个人信息，除了注册时插入数据外，绝大多数情况都是读取，所以应该考虑用顺序存储结构。而游戏中的玩家的武器或者装备列表，随着玩家的游戏过程中，可能会随时增加或删除，此时再用顺序存储就不太合适了，单链表结构就可以大展拳脚。当然，这只是简单的类比，现实中的软件开发，要考虑的问题会复杂得多。</li><li><strong>线性表中的元素个数变化较大或者根本不知道有多大时，最好用单链表结构</strong>，这样可以不需要考虑存储空间的大小问题。而如果事先知道线性表的大致长度，比如一年12个月，一周就是星期一至星期日共七天，这种用顺序存储结构效率会高很多。</li></ul></li></ul><h2 id="静态链表"><a href="#静态链表" class="headerlink" title="静态链表"></a>静态链表</h2><details class="folding-tag" blue><summary> 静态链表的引入 </summary>              <div class='content'>              <ul><li>C语言中的指针，使得它可以非常容易地操作内存中的地址和数据，这比其他高级语言更加灵活方便。后来的面向对象语言，如Java、C#等，虽不使用指针，但因为启用了对象引用机制，从某种角度也间接实现了指针的某些作用。</li><li>但对于一些语言，如Basic、Fortran等早期的编程高级语言，由于没有指针，链表结构按照前面我们的讲法，它就没法实现了。怎么办呢？</li><li>有人便想出用数组代替指针来描述单链表。</li></ul>              </div>            </details><ul><li>让数组的元素都是由两个数据域组成，data和cur。数据域data，用来存放数据元素，也就是通常我们要处理的数据；而cur相当于单链表中的next指针，存放该元素的后继在数组中的下标，我们把cur叫做<code>游标</code>。</li><li>我们把这种用数组描述的链表叫做<code>静态链表</code>，这种描述方法还有起名叫做游标实现法。</li></ul><div class="note info no-icon flat"><p>我们对数组第一个和最后一个元素作为特殊元素处理，不存数据。我们通常把未被使用的数组元素称为<code>备用链表</code>。而数组第一个元素，即下标为0的元素的cur就存放备用链表的第一个结点的下标；而数组的最后一个元素的cur则存放第一个有数值的元素的下标，相当于单链表中的头结点作用，当整个链表为空时，则为0。</p></div><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904155801.png"/></div></div><h3 id="静态链表的插入操作"><a href="#静态链表的插入操作" class="headerlink" title="静态链表的插入操作"></a>静态链表的插入操作</h3><ul><li>静态链表中要解决的是：如何用静态模拟动态链表结构的存储空间的分配，<code>需要时申请，无用时释放</code>。</li><li>在静态链表中，操作的是数组，不存在像动态链表的结点申请和释放问题，所以我们需要自己实现这两个函数，才可以做插入和删除的操作。</li></ul><h3 id="静态链表的优缺点"><a href="#静态链表的优缺点" class="headerlink" title="静态链表的优缺点"></a>静态链表的优缺点</h3><p>总的来说静态链表其实是为了给没有指针的高级语言设计的一种实现单链表能力的方法。尽管不一定会用得上,但这样的思考方式是非常巧妙的。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904160157.png"/></div></div><h2 id="循环链表"><a href="#循环链表" class="headerlink" title="循环链表"></a>循环链表</h2><ul><li>我们的单链表，如果想实现遍历功能，那么必须从头结点开始遍历，才能一次性把所有节点遍历完，一旦从中间节点开始遍历，那么就无法遍历到所有节点，需要执行第二次遍历，这个问题能解决吗？</li><li>将单链表中终端结点的指针端由空指针改为指向头结点,就使整个单链表形成一个环,通过这种操作，使得遍历完链表尾部后能继续遍历前面未遍历的部分，这种头尾相接的单链表称为单循环链表,简称<code>循环链表</code></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904161502.png"/></div></div><div class="note warning no-icon flat"><ul><li>其实循环链表和单链表的主要差异就在于循环的判断条件上</li><li>原来是判断 p-&gt;next是否为空,现在则是p -&gt; next 不等于头结点,则循环未结束。</li></ul></div><h2 id="双向链表"><a href="#双向链表" class="headerlink" title="双向链表"></a>双向链表</h2><ul><li><p>我们在单链表中,有了 next 指针,这就使得我们要查找下一结点的时间复杂度为0(1)。可是如果我们要查找的是上一结点的话,那最坏的时间复杂度就是O(n)了,因为我们每次都要从头开始遍历查找。</p></li><li><p>为了克服单向性这一缺点,我们的老科学家们设计出了<code>双向链表</code>。双向链表(double linked list)是在单链表的每个结点中,再设置一个指向其前驱结点的指针域。所以在双向链表中的结点都有两个指针域,一个指向直接后继,另一个指向直接前驱。</p></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">DulNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">DuLNode</span> *<span class="title">prior</span>;</span></span><br><span class="line">    <span class="comment">/*直接前驱指针*/</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">DuLNode</span> *<span class="title">next</span>;</span></span><br><span class="line">    <span class="comment">/*直接后继指针*/</span></span><br><span class="line">&#125; DulNode, *DuLinkList;</span><br></pre></td></tr></table></figure><ul><li><p>双向链表是单链表中扩展出来的结构,所以它的很多操作是和单链表相同的,比如求长度的 ListLength,查找元素的 GetElem,获得元素位置的 LocateElem 等,这些操作都只要涉及一个方向的指针即可,另一指针多了也不能提供什么帮助。</p></li><li><p>双向链表既然是比单链表多了如可以反向遍历查找等数据结构,那么也就需要付出一些小的代价:<strong>在插入和删除时,需要更改两个指针变量。</strong></p></li><li><p>插入操作时,其实并不复杂,不过顺序很重要,千万不能写反了。</p></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904161954.png"/></div></div><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s -&gt;prior=p;        <span class="comment">/*把p赋值给s的前驱，如图中①*/</span></span><br><span class="line">s -&gt;next=p -&gt;next;  <span class="comment">/*把p-&gt;next赋值给s的后继，如图中②*/</span></span><br><span class="line">p-&gt;next-&gt;prior=s;   <span class="comment">/*把s赋值给p-&gt;next的前驱，如图中③*/</span></span><br><span class="line">p-&gt;next=s;          <span class="comment">/*把S赋值给p的后继，如图中④*/</span></span><br></pre></td></tr></table></figure><ul><li><p>关键在于它们的顺序,由于第2步和第3步都用到了 p-&gt;next。如果第4步先执行,则会使得 p-&gt;next 提前变成了s,使得插入的工作完不成。所以我们不妨把上面这张图在理解的基础上记忆,顺序是先搞定s 的前驱和后继,再搞定后结点的前驱,最后解决前结点的后继。</p></li><li><p>删除操作同理，若要删除结点p,只需要下面两步骤</p></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904162309.png"/></div></div><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p-&gt;prior-&gt;next=p-&gt;next; <span class="comment">/*把p-&gt;next 赋值给p-&gt;prior 的后继,如图中*/</span></span><br><span class="line">p-&gt;next-&gt;prior=p-&gt;prior; <span class="comment">/*把p-&gt;prior 赋值给p-&gt;next 的前驱,如图中2*/</span></span><br><span class="line"><span class="built_in">free</span> (p); <span class="comment">/*释放结点*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note info no-icon flat"><p>双向链表相对于单链表来说,要更复杂一些,毕竟它多了prior 指针,对于插入和删除时,需要格外小心。另外它由于每个结点都需要记录两份指针,所以在空间上是要占用略多一些的。不过,由于它良好的对称性,使得对某个结点的前后结点的操作,带来了方便,可以有效提高算法的时间性能。说白了,就是<code>用空间来换时间</code>。</p></div><h1 id="栈与队列"><a href="#栈与队列" class="headerlink" title="栈与队列"></a>栈与队列</h1><ul><li><code>栈</code>是一种特殊的线性表，栈限定仅在表尾进行插入和删除操作</li><li><p>我们把允许插入和删除的一端称为<code>栈顶(top)</code>,另一端称为<code>栈底(bottom)</code>,不含任何数据元素的栈称为空栈。栈又称为<code>后进先出</code>(Last In First Out)的线性表,简称 <code>LIFO 结构</code>。</p></li><li><p>首先栈是一个特殊的线性表,也就是说,栈元素具有线性关系。定义中说是在线性表的表尾进行插入和删除操作,这里表尾是指栈顶,而不是栈底。</p></li><li>它的特殊之处就在于限制了这个线性表的插入和删除位置,它始终只在栈顶进行。这也就使得:栈底是固定的,最先进栈的只能在栈底。</li></ul><div class="note default no-icon flat"><p><strong>栈的插入操作,叫作进栈,也称压栈、入栈。</strong>类似子弹入弹夹。<br><strong>栈的删除操作,叫作出栈,也叫作弹栈。</strong>栈的删除操作,叫作出栈,也有的叫作弹栈。如同弹夹中的子弹出夹。</p></div><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904163110.png"/></div></div><h2 id="栈的抽象数据类型"><a href="#栈的抽象数据类型" class="headerlink" title="栈的抽象数据类型"></a>栈的抽象数据类型</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ADT 栈(<span class="built_in">stack</span>)</span><br><span class="line">Data</span><br><span class="line">  线性表。元素具有相同的类型,相邻元素具有前驱和后继关系。</span><br><span class="line">Operation</span><br><span class="line">  <span class="title function_">InitStack</span> <span class="params">(*S)</span>:初始化操作,建立一个空栈 S。</span><br><span class="line">  <span class="title function_">DestroyStack</span> <span class="params">(*S)</span>:若栈存在,则销毁它。</span><br><span class="line">  <span class="title function_">ClearStack</span> <span class="params">(*s)</span>:将栈清空。</span><br><span class="line">  <span class="title function_">StackEmpty</span> <span class="params">(s)</span>:若栈为空,返回<span class="literal">true</span>,否则返回 <span class="literal">false</span>.</span><br><span class="line">  <span class="title function_">GetTop</span> <span class="params">(S, *e)</span>:若栈存在且非空,用e返回S的栈顶元素。</span><br><span class="line">  <span class="title function_">Push</span> <span class="params">(*S,e)</span>:若栈S 存在,插入新元素e到栈S 中并成为栈顶元素。</span><br><span class="line">  <span class="title function_">Pop</span> <span class="params">(*S, *e)</span>:删除栈S 中栈顶元素,并用e返回其值。</span><br><span class="line">  <span class="title function_">StackLength</span> <span class="params">(S)</span>: 返回栈S 的元素个数。</span><br><span class="line">endADT</span><br></pre></td></tr></table></figure><ul><li>由于栈本身就是一个线性表,所以线性表的顺序存储和链式存储,对于栈来说,也是同样适用的。</li></ul><h2 id="栈的顺序存储结构"><a href="#栈的顺序存储结构" class="headerlink" title="栈的顺序存储结构"></a>栈的顺序存储结构</h2><ul><li>栈是线性表的特例,所以栈的顺序存储是线性表顺序存储的简化</li><li>因为在栈中元素的插入和删除都在栈顶进行,所以我们存储在数组时，可以<strong>以下标为0的一段作为栈底</strong>，另一端为栈顶，因为栈底的裱花最小，不会频繁挪动元素。</li><li>通常定义<code>top变量</code>来指示栈顶元素的位置，以<code>StackSize变量</code>记录存储栈的长度e,则栈顶位置 top 必须小于 StackSize。当栈存在一个元素时,top 等于0,因此通常把空栈的判定条件定为top 等于-1。</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> SElemType; <span class="comment">/* SElemType 类型根据实际情况而定,这里假设为int */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  SElemType data [MAXSIZE];</span><br><span class="line">  <span class="type">int</span> top; <span class="comment">/* 用于栈顶指针 */</span></span><br><span class="line">&#125;SqStack;</span><br></pre></td></tr></table></figure><p>栈普通情况、空栈和栈满的情况示意图如图</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904164410.png"/></div></div><h3 id="进栈和出栈"><a href="#进栈和出栈" class="headerlink" title="进栈和出栈"></a>进栈和出栈</h3><p>栈是特殊的线性表，且只能在栈顶进出元素，所以很好实现。<br><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904163110.png"/></div></div><br><div class="tabs" id="进栈"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#进栈-1">进栈</button></li><li class="tab"><button type="button" data-href="#进栈-2">出栈</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="进栈-1"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 插入元素e为新的栈顶元素 */</span></span><br><span class="line">Status <span class="title function_">Push</span> <span class="params">(SgStack *S, SElemType e)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (S-&gt;top == MAXSIZE <span class="number">-1</span>) <span class="comment">/* 栈满 */</span></span><br><span class="line">    <span class="keyword">return</span> ERROR;</span><br><span class="line">  S-&gt;top++;           <span class="comment">/* 栈顶指针增加一 */</span></span><br><span class="line">  S-&gt;data[S-&gt;top]=e;  <span class="comment">/* 将新插入元素赋值给栈顶空间 */</span></span><br><span class="line">  <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="进栈-2"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 删除栈顶元素,用e返回其值 */</span></span><br><span class="line">Status <span class="title function_">Pop</span> <span class="params">(SqStack *S, SElemType *e)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (S-&gt;top == <span class="number">-1</span>) <span class="comment">/* 栈空 */</span></span><br><span class="line">    <span class="keyword">return</span> ERROR;</span><br><span class="line">  *e=S-&gt;data[S-&gt;top]; <span class="comment">/* 将栈顶元素赋值给e */</span></span><br><span class="line">  S-&gt;top--; <span class="comment">/* 栈顶指针减一 */</span></span><br><span class="line">  <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><h3 id="两栈共享空间"><a href="#两栈共享空间" class="headerlink" title="两栈共享空间"></a>两栈共享空间</h3><ul><li>栈的顺序存储非常方便,因为它只准栈顶进出元素,所以不存在线性表插入和删除时需要移动元素的问题。不过它有一个很大的缺陷,就是必须事先确定数组存储空间大小,万一不够用了,就需要编程手段来扩展数组的容量,非常麻烦。</li><li><p>对于一个栈,我们也只能尽量考虑周全,设计出合适大小的数组来处理,但<strong>对于两个<code>相同类型</code>的栈,我们可以做到最大限度地利用其事先开辟的存储空间来进行操作。</strong></p></li><li><p>实现共享空间的方法：数组有两个端点，两个栈有两个栈底，让一个栈栈底为数组的始端，另一个栈为栈的末端，增加元素时，栈的栈顶部分向中间延伸</p></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904165333.png"/></div></div><ul><li>关键思路是:它们是在数组的两端,向中间靠拢。top1 和 top2是栈1和栈2的栈顶指针,只要它们俩不见面,两个栈就可以一直使用。从这里也就可以分析出来,栈1为空时,就是 top1 等于-1时;而当top2 等于n时,即是栈2为空时,那什么时候栈满呢?</li><li><p>想想极端的情况,若栈2是空栈,栈1 的 top1 等于n-1时,就是栈1满了。反之,当栈1 为空栈时,top2 等于 0时,为栈2 满。但更多的情况,其实就是两个栈见面之时,也就是两个指针之间相差1时,即top1 + 1 == top2 为栈满。</p></li><li><p>两栈共享空间的结构</p></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 两栈共享空间结构 */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  SElemType data[MAXSIZE];</span><br><span class="line">  <span class="type">int</span> topl; <span class="comment">/* 栈1栈顶指针 */</span></span><br><span class="line">  <span class="type">int</span> top2; <span class="comment">/* 栈2栈顶指针 */</span></span><br><span class="line">&#125;SqDoubleStack;</span><br></pre></td></tr></table></figure><ul><li>对于栈的push方法，除了插入元素值参数外，还需要有一个判断是栈1还是栈2的栈号参数stackNumber</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 插入元素e为新的栈顶元素 */</span></span><br><span class="line">Status <span class="title function_">Push</span> <span class="params">(SqDoubleStack *S, SElemType e, <span class="type">int</span> stackNumber)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (S-&gt;top1+<span class="number">1</span>==S-&gt;top2) <span class="comment">/* 栈已满,不能再 push 新元素了 */</span></span><br><span class="line">    <span class="keyword">return</span> ERROR;</span><br><span class="line">  <span class="keyword">if</span> (stackNumber==<span class="number">1</span>) <span class="comment">/* 栈1 有元素进栈 */</span></span><br><span class="line">    S-&gt;data [++S-&gt;top1] =e; <span class="comment">/* 若栈1 则先 top1+1 后给数组元素赋值 */</span></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (stackNumber==<span class="number">2</span>) <span class="comment">/* 栈2 有元素进栈 */</span></span><br><span class="line">    S-&gt;data [ -- S-&gt;top2]=e; <span class="comment">/* 若栈2则先top2-1后给数组元素赋值 */</span></span><br><span class="line">  <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>pop方法也同理，不再赘述</li></ul><div class="note danger no-icon flat"><p>事实上,使用这样的数据结构,通常都是当两个栈的空间需求有相反关系时,也就是一个栈增长时另一个栈在缩短的情况。就像买卖股票一样,你买入时,一定是有一个你不知道的人在做卖出操作。有人赚钱,就一定是有人赔钱。这样使用两栈共享空间存储方法才有比较大的意义。否则两个栈都在不停地增长,那很快就会因栈满而溢出了。</p></div><h2 id="栈的链式存储"><a href="#栈的链式存储" class="headerlink" title="栈的链式存储"></a>栈的链式存储</h2><ul><li><p>栈只是栈顶来做插入和删除操作,栈顶放在链表的头部还是尾部呢?由于单链表有头指针,而栈顶指针也是必须的,那干吗不让它俩合二为一呢,所以比较好的办法是<strong>把栈顶放在单链表的头部</strong>(如图 4-6-1 所示)。另外,都已经有了栈顶在头部了,单链表中比较常用的头结点也就失去了意义,通常对于链栈来说,是不需要头结点的。</p></li><li><p>对于链栈来说,基本不存在栈满的情况,除非内存已经没有可以使用的空间,如果真的发生,那此时的计算机操作系统已经面临死机崩溃的情况,而不是这个链栈是否溢出的问题。</p></li></ul><p>链栈的结构代码：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">StackNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  SElemType data;</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">StackNode</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; StackNode, *LinkStackPtr;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">LinkStack</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  LinkStackPtr top;</span><br><span class="line">  <span class="type">int</span> count;</span><br><span class="line">&#125;LinkStack;</span><br></pre></td></tr></table></figure></p><h3 id="进栈与出栈"><a href="#进栈与出栈" class="headerlink" title="进栈与出栈"></a>进栈与出栈</h3><ul><li>对于链栈的进栈push操作，假设元素值为e的新结点是s, top 为栈顶指针</li></ul><div class="tabs" id="链式"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#链式-1">示意图</button></li><li class="tab"><button type="button" data-href="#链式-2">代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="链式-1"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904171453.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="链式-2"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 插入元素e为新的栈顶元素 */</span></span><br><span class="line">Status <span class="title function_">Push</span> <span class="params">(LinkStack *S, SElemType e)</span></span><br><span class="line">&#123;</span><br><span class="line">  LinkStackPtr s= (LinkStackPtr) <span class="built_in">malloc</span> (<span class="keyword">sizeof</span> (StackNode) );</span><br><span class="line">  s-&gt;data=e;</span><br><span class="line">  s-&gt;next=S-&gt;top; <span class="comment">/* 把当前的栈顶元素赋值给新结点的直接后继*/</span></span><br><span class="line">  S-&gt;top=s;       <span class="comment">/* 将新的结点s 赋值给栈顶指针*/</span></span><br><span class="line">  S-&gt;count++;</span><br><span class="line">  <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><ul><li>对于栈链的出栈pop操作，假设变量p用来存储要删除的栈顶结点,将栈顶指针下移一位,最后释放p即可</li></ul><div class="tabs" id="出栈"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#出栈-1">示意图</button></li><li class="tab"><button type="button" data-href="#出栈-2">代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="出栈-1"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904171453.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="出栈-2"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 若栈不空,则删除S的栈顶元素,用e返回其值,并返回 OK;否则返回 ERROR */</span></span><br><span class="line">Status <span class="title function_">Pop</span> <span class="params">(LinkStack *S, SElemType *e)</span></span><br><span class="line">&#123;</span><br><span class="line">  LinkStackPtr pi</span><br><span class="line">  <span class="title function_">if</span> <span class="params">(StackEmpty (*s))</span></span><br><span class="line">    <span class="keyword">return</span> ERROR;</span><br><span class="line">  *e=S-&gt;top-&gt;data;</span><br><span class="line">  p=S-&gt;top;           <span class="comment">/* 将栈顶结点赋值给p */</span></span><br><span class="line">  S-&gt;top=S-&gt;top-&gt;next;<span class="comment">/* 使得栈顶指针下移一位,指向后一结点,如图4*/</span></span><br><span class="line">  <span class="built_in">free</span> (p);           <span class="comment">/* 释放结点p */</span></span><br><span class="line">  S-&gt;count--;</span><br><span class="line">  <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><ul><li>链栈的进栈 push 和出栈 pop 操作都很简单,没有任何循环操作,时间复杂度均为0(1)。</li><li>对比一下顺序栈与链栈<ul><li>对于时间性能，它们在时间复杂度上是一样的,均为 0(1)。</li><li>对于空间性能,顺序栈需要事先确定一个固定的长度,可能会存在内存空间浪费的问题,但它的优势是存取时定位很方便,而链栈则要求每个元素都有指针域,这同时也增加了一些内存开销,但对于栈的长度无限制。</li></ul></li></ul><div class="note default no-icon flat"><p>它们的区别和线性表中讨论的一样,如果栈的使用过程中元素变化不可预料,有时很小,有时非常大,那么最好是用链栈,反之,如果它的变化在可控范围内,建议使用顺序栈会更好一些。</p></div><h2 id="栈的作用"><a href="#栈的作用" class="headerlink" title="栈的作用"></a>栈的作用</h2><ul><li>栈有啥用啊，不就是一个被限制的线性表吗？为什么要单独引入为一个数据结构呢？<ul><li>这和我们有两只脚可以走路,干吗还要乘汽车、火车、飞机一样。理论上,陆地上的任何地方,你都是可以靠双脚走到的,可那需要多少时间和精力呢?我们更关注的是到达而不是如何去的过程。</li><li><strong>栈的引入简化了程序设计的问题,划分了不同关注层次,使得思考范围缩小,更加聚焦于我们要解决的问题核心</strong>。反之,像数组等,因为要分散精力去考虑数组的下标增减等细节问题,反而掩盖了问题的本质。</li></ul></li></ul><h2 id="栈的应用-————-递归"><a href="#栈的应用-————-递归" class="headerlink" title="栈的应用 ———— 递归"></a>栈的应用 ———— 递归</h2><ul><li>栈有一个很重要的应用:在程序设计语言中实现了递归。</li><li><p>递归定义：把一个直接调用自己或通过一系列的调用语句间接地调用自己的函数,称做<code>递归函数</code>。</p></li><li><p>实现斐波那契数列问题时，迭代和递归的区别是:</p><ul><li>迭代使用的是循环结构,递归使用的是选择结构。</li><li>递归能使程序的结构更清晰、更简洁、更容易让人理解,从而减少读懂代码的时间。但是大量的递归调用会建立函数的副本,会耗费大量的时间和内存。</li><li>迭代不需要反复调用函数和占用额外的内存。</li></ul></li><li><p>递归和栈有什么关系呢?这得从计算机系统的内部说起。</p><ul><li>递归过程退回的顺序是它前行顺序的逆序。在退回过程中,可能要执行某些动作,包括恢复在前行过程中存储起来的某些数据。这种存储某些数据,并在后面又以存储的逆序恢复这些数据,以提供之后使用的需求,显然很符合栈这样的数据结构,因此,编译器使用栈实现递归就没什么好惊讶的了。</li><li>简单的说,就是在前行阶段,对于每一层递归,函数的局部变量、参数值以及返回地址都被压入栈中。在退回阶段,位于栈顶的局部变量、参数值和返回地址被弹出,用于返回调用层次中执行代码的其余部分,也就是恢复了调用的状态。</li></ul></li></ul><h2 id="栈的应用————四则运算表达式求值"><a href="#栈的应用————四则运算表达式求值" class="headerlink" title="栈的应用————四则运算表达式求值"></a>栈的应用————四则运算表达式求值</h2><h3 id="后缀-逆波兰-表示法定义"><a href="#后缀-逆波兰-表示法定义" class="headerlink" title="后缀(逆波兰)表示法定义"></a>后缀(逆波兰)表示法定义</h3><ul><li>在计算机中，我们可以进行四则运算，但是计算机是如何实现 先计算括号 或者 先乘除后加减 的计算规则的呢<ul><li>我们可以发现，如果一个计算式中有括号，那么括号一定是成对出现的对于多重括号，最后也一定是完全嵌套匹配的。这用栈结构正好合适，不管栈内有多少括号，只要碰到左括号则将括号进栈，碰到有括号则让最接近栈顶的左括号出栈，期间对数字进行运算。</li><li>但对于四则运算，括号也只是当中的一部分，先乘除后加减依旧不好实现，该如何有效处理呢？</li></ul></li></ul><p>20世纪50年代,波兰逻辑学家 Jan Łukasiewicz,当时也困惑于如何才可以搞定这个四则运算,最终他想到了一种不需要括号的后缀表达法,我们也把它称为<code>逆波兰(Reverse Polish Notation, RPN)表示</code>。</p><ul><li>对于“9+ (3-1)×3+10÷2”,如果要用后缀表示法应该是什么样子:“931-3 * + 102/+”,这样的表达式称为<code>后缀表达式</code>,叫后缀的原因在于所有的符号都是在要运算数字的后面出现。显然,这里没有了括号。</li></ul><h3 id="后缀表达式计算结果"><a href="#后缀表达式计算结果" class="headerlink" title="后缀表达式计算结果"></a>后缀表达式计算结果</h3><ul><li>先来看看,计算机如何应用后缀表达式计算出最终的结果20的。</li><li><code>后缀表达式: 931-3*+102/+</code></li><li>规则:从左到右遍历表达式的每个数字和符号,遇到是数字就进栈,遇到是符号,就将处于栈顶两个数字出栈,进行运算,运算结果进栈,一直到最终获得结果。</li></ul><ol>  <li>初始化一个空栈。此栈用来对要运算的数字进出使用。</li>  <li>后缀表达式中前三个都是数字,所以9、3、1 进栈</li><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904175524.png"/></div></div>  <li>接下来是“一”,所以将栈中的1 出栈作为减数,3出栈作为被减数,并运算3-1得到2,再将2进栈</li>  <li>接着是数字3进栈</li><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904175659.png"/></div></div>  <li>后面是“*”,也就意味着栈中 3 和2 出栈,2与3 相乘,得到6,并将6进栈</li>  <li>下面是“+”,所以栈中6和9出栈,9与6相加,得到15,将15 进栈</li><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904180744.png"/></div></div>  <li> 接着是10与2两数字进栈</li>  <li>接下来是符号“/”,因此,栈顶的2与10出栈,10与2 相除,得到5,将5进栈</li><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904180839.png"/></div></div>  <li>最后一个是符号“+”,所以15与5出栈并相加,得到20,将20 进栈</li>  <li>结果是20出栈,栈变为空,</li><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904180921.png"/></div></div></ol><ul><li>能够看出后缀表达式真的可以很顺利的解决计算的问题，但这个后缀表达式<code>931-3*+102/+</code>是怎么出来的呢？</li></ul><h3 id="中缀表达式转后缀表达式"><a href="#中缀表达式转后缀表达式" class="headerlink" title="中缀表达式转后缀表达式"></a>中缀表达式转后缀表达式</h3><ul><li>平时所用的标准四则运算表达式,即“9+(3-1)×3+10-2”叫做<code>中缀表达式</code>。</li></ul><blockquote><p>中缀表达式转后缀表达式的规则：<br>从左到右遍历中级表达式的每个数字和符号<br>若是数字就输出,即成为后缀表达式的一部分;<br>若是符号,则判断其与栈顶符号的优先级,是右括号或优先级低于栈顶符号(乘除优先加减)则栈顶元素依次出栈并输出,并将当前符号进栈,一直到最终输出后缀表达式为止。</p></blockquote><ol>  <li>初始化一空栈,用来对符号进出栈使用</li>  <li>第一个字符是数字 9,输出 9,后面是符号“+”,进栈。</li>  <li> 第三个字符是“(”,依然是符号,因其只是左括号,还未配对,故进栈。</li>  <li>第四个字符是数字3,输出,总表达式为93,接着是“-”,进栈。</li>  <li>接下来是数字1,输出,总表达式为931,后面是符号“)”,此时,我们需要去匹配此前的“(”,所以栈顶依次出栈,并输出,直到“(”出栈为止。此时左括号上方只有“-”,因此输出“-”。总的输出表达式为931-。</li>  <li>接着是数字3,输出,总的表达式为931-3。紧接着是符号“x”,因为此时的栈顶符号为“+”号,优先级低于“x”,因此不输出,“*”进栈。</li>  <li>之后是符号“+”,此时当前栈顶元素“*”比这个“+”的优先级高,因此栈中元素出栈并输出(没有比“+”号更低的优先级,所以全部出栈),总输出表达式为931-3 * +。然后将当前这个符号“+”进栈。也就是说,前6 张图的栈底的“+”是指中级表达式中开头的9 后面那个“+”,而图 4-9-9 左图中的栈底(也是栈顶)的“+”是指“9+(3-1)×3+”中的最后一个“+”。</li>  <li>最后一个数字2,输出,总的表达式为931-3* + 102</li>  <li> 因已经到最后,所以将栈中符号全部出栈并输出。最终输出的后缀表达式结果为931-3 * + 102/+</li>  <li></li></ol><div class="note danger no-icon flat"><p>要想让计算机具有处理我们通常的标准(中缀)表达<br>式的能力,最重要的就是两步:</p><ol><li>将中级表达式转化为后缀表达式(栈用来进出运算的符号)。</li><li>将后缀表达式进行运算得出结果(栈用来进出运算的数字)。</li></ol></div><h2 id="队列的定义"><a href="#队列的定义" class="headerlink" title="队列的定义"></a>队列的定义</h2><ul><li>队列如同一个倾斜的管道，队列是只允许在一端进行插入操作,而在另一端进行删除操作的线性表。</li><li>队列是<code>先进先出</code>的线性表，简称FIFO。允许插入的一端称为<code>队尾</code>，允许删除的一端称为<code>队头</code></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904185634.png"/></div></div><h2 id="循环队列"><a href="#循环队列" class="headerlink" title="循环队列"></a>循环队列</h2><ul><li>线性表有顺序存储和链式存储,栈是线性表,所以有这两种存储方式。同样,队列作为一种特殊的线性表,也同样存在这两种存储方式。</li></ul><h3 id="队列顺序存储的不足"><a href="#队列顺序存储的不足" class="headerlink" title="队列顺序存储的不足"></a>队列顺序存储的不足</h3><ul><li>我们假设一个队列有n 个元素,则顺序存储的队列需建立一个大于n的数组,并把队列的所有元素存储在数组的前n 个单元,数组下标为0 的一端即是队头。所谓的入队列操作,其实就是在队尾追加一个元素,不需要移动任何元素,因此时间复杂度为O(1)</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904185904.png"/></div></div><ul><li>与栈不同的是,队列元素的出列是在队头,即下标为 0 的位置,那也就意味着,出列时队列中的所有元素都得向前移动,以保证队列的队头,也就是下标为 0 的位置不为空,此时时间复杂度为0(n)</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904190104.png"/></div></div><ul><li>虽然现实中在排队时，前面的人离开之后，后面的人就全部向前一步补上空位，但有时想想，为什么非要全部移动呢，如果不去约束队列元素必须在数组前n个单元，那么出队的性能就会大大增加</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904190506.png"/></div></div><ul><li>为了避免当只有一个元素时,队头和队尾重合使处理变得麻烦,所以引入两个指针, <code>front指针</code>指向队头元素,<code>rear指针</code>指向队尾元素的下一个位置,这样当front 等于rear 时,此队列不是还剩一个元素,而是空队列。</li><li>假设长度为5 的数组,front 与rear 指针均指向下标为0 的位置。然后入队 a<sub>1</sub>、a<sub>2</sub>、a<sub>3</sub>、a<sub>4</sub>, front 指针依然指向下标为0位置,而rear 指针指向下标为4的位置</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904190855.png"/></div></div><ul><li>但是此时问题又出现了，这样前面的空位将不会再次放置元素，随着每次出队和入队，该队列的容量会不断减小，造成<code>假溢出</code>的现象</li></ul><h3 id="循环队列定义"><a href="#循环队列定义" class="headerlink" title="循环队列定义"></a>循环队列定义</h3><p><code>循环队列</code>可以用来解决假溢出的现象</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904191305.png"/></div></div><p>当队列发生假溢出时，接着入队a<sub>6</sub>,此时将他放置于下标为0处，rear 指针指向下标为1处，。若再入队 a<sup>7</sup>,则 rear 指针就与 front 指针重合,同时指向下标为2的位置<br><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904191535.png"/></div></div></p><ul><li>此时问题又出来了,我们刚才说,空队列时, front 等于 rear,现在当队列满时,也是 front 等于 rear,那么如何判断此时的队列究竟是空还是满呢?</li><li>办法一 是设置一个标志变量 flag,当front == rear, 且flag = 0 时为队列空,当 front == rear, 且 flag = 1 时为队列满。</li><li><p>办法二 是当队列空时,条件就是 front = rear,当队列满时,我们修改其条件,<strong>保留一个元素空间</strong>。也就是说,队列满时,数组中还有一个空闲单元。</p></li><li><p>重点讨论一下第二种方法,由于rear 可能比 front 大,也可能比front 小,所以尽管它们只相差一个位置时就是满的情况,也可能是相差整整一圈。所以若队列的最大尺寸为 QueueSize,那么队列满的条件是(rear+1)%QueueSize == front </p><ul><li>取模“%”的目的就是为了整合 rear 与 front 大小为一个问题</li><li>当rear &gt; front 时，此时队列的长度为rear-front。</li><li>当rear &lt; front 时,队列长度分为两段,一段是QueueSize-front,另一段是 0 + rear,加在一起,队列长度为rearfront + QueueS</li></ul></li></ul><p>综上，通用的计算队列的长度公式为：</p><div class="note danger no-icon flat"><p><strong>(rear-front + QueueSize) %QueueSize</strong></p></div><ul><li>循环队列解决了假溢出的问题，但一旦设置为循环队列，数组的大小也就没法再扩大了，此时又出现了数组可能溢出的问题，所以我们还需要再研究一下不担心队列长度的链式存储结构</li></ul><h2 id="链式结构队列"><a href="#链式结构队列" class="headerlink" title="链式结构队列"></a>链式结构队列</h2><ul><li>队列的链式存储结构,其实就是线性表的单链表,只不过它只能尾进头出而已。为了操作上的方便,我们将队头指针指向链队列的头结点,而队尾指针指向终端结点</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904192954.png"/></div></div><h3 id="入队和出队"><a href="#入队和出队" class="headerlink" title="入队和出队"></a>入队和出队</h3><p>入队操作时,其实就是在链表尾部插入结点<br><div class="tabs" id="队列入队"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#队列入队-1">示意图</button></li><li class="tab"><button type="button" data-href="#队列入队-2">代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="队列入队-1"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904193314.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="队列入队-2"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 插入元素e为Q的新的队尾元素 */</span></span><br><span class="line">Status <span class="title function_">EnQueue</span> <span class="params">(LinkQueue *Q, QElemType e)</span></span><br><span class="line">&#123;</span><br><span class="line">  QueuePtr s= (QueuePtr) <span class="built_in">malloc</span> (<span class="keyword">sizeof</span> (QNode) ) ;</span><br><span class="line">  <span class="keyword">if</span> (!s) <span class="comment">/* 存储分配失败 */</span></span><br><span class="line">    <span class="built_in">exit</span>(OVERFLOW);</span><br><span class="line">  s-&gt;data=e;</span><br><span class="line">  s-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">  Q-&gt;rear-&gt;next=s; <span class="comment">/* 把拥有元素e新结点s赋值给原队尾结点的后继,*/</span></span><br><span class="line">  Q-&gt;rear=s; <span class="comment">/* 把当前的s设置为队尾结点,rear 指向s */</span></span><br><span class="line">  <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><p>出队操作时,就是头结点的后继结点出队,将头结点的后继改为它后面的结点,若链表除头结点外只剩一个元素时,则需将rear 指向头结点</p><div class="tabs" id="队列出队"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#队列出队-1">示意图</button></li><li class="tab"><button type="button" data-href="#队列出队-2">代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="队列出队-1"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904193551.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="队列出队-2"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Status <span class="title function_">DeQueue</span> <span class="params">(LinkQueue *Q, QElemType *e)</span></span><br><span class="line">&#123;</span><br><span class="line">  QueuePtr p;</span><br><span class="line">  <span class="keyword">if</span> (Q-&gt;front==Q-&gt;rear)</span><br><span class="line">    <span class="keyword">return</span> ERROR;</span><br><span class="line">  p=Q-&gt;front-&gt;next; <span class="comment">/* 将欲删除的队头结点暂存给p,*/</span></span><br><span class="line">  *e=p-&gt;data;     <span class="comment">/* 将欲删除的队头结点的值赋值给e */</span></span><br><span class="line">  Q-&gt;front-&gt;next=p-&gt;next; <span class="comment">/*将原队头结点后继p-&gt;next 赋值给头结点后继,*/</span></span><br><span class="line">  <span class="keyword">if</span> (Q-&gt;rear==p) <span class="comment">/*若队头是队尾,则删除后将 rear 指向头结点,见上图中③ */</span></span><br><span class="line">    Q-&gt;rear=Q-&gt;front;</span><br><span class="line">  <span class="built_in">free</span> (p);</span><br><span class="line">  <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><ul><li>对于循环队列与链队列的比较,可以从两方面来考虑<ul><li>从时间上,其实它们的基本操作都是常数时间,即都为0(1)的,不过循环队列是事先申请好空间,使用期间不释放,而对于链队列,每次申请和释放结点也会存在一些时间开销,如果入队出队频繁,则两者还是有细微差异。</li><li>对于空间上来说,循环队列必须有一个固定的长度,所以就有了存储元素个数和空间浪费的问题。而链队列不存在这个问题,尽管它需要一个指针域,会产生一些空间上的开销,但也可以接受。所以在空间上,链队列更加灵活。</li></ul></li></ul><div class="note info no-icon flat"><p>总的来说,在可以确定队列长度最大值的情况下,建议用循环队列,如果你无法预估队列的长度时,则用链队列。</p></div><h2 id="总结回顾-1"><a href="#总结回顾-1" class="headerlink" title="总结回顾"></a>总结回顾</h2><ul><li>栈和队列都是特殊的线性表，只是对插入和删除操作做了限制。</li><li>栈(stack)是限定仅在表尾进行插入和删除操作的线性表。</li><li><p>队列(queue)是只允许在一端进行插入操作,而在另一端进行删除操作的线性表。</p></li><li><p>它们均可以用线性表的顺序存储结构来实现,但都存在着顺序存储的一些弊端。因此它们各自有各自的技巧来解决这个问题。</p><ul><li>对于栈来说,如果是两个相同数据类型的栈,则可以用数组的两端作栈底的方法来让两个栈共享数据,这就可以最大化地利用数组的空间。</li><li>对于队列来说,为了避免数组插入和删除时需要移动数据,于是就引入了循环队列,使得队头和队尾可以在数组中循环变化。解决了移动数据的时间损耗,使得本来插入和删除是0(n)的时间复杂度变成了0(1)。</li></ul></li><li>它们也都可以通过链式存储结构来实现,实现原则上与线性表基本相同</li></ul><h1 id="树"><a href="#树" class="headerlink" title="树"></a>树</h1><h2 id="树的定义"><a href="#树的定义" class="headerlink" title="树的定义"></a>树的定义</h2><ul><li>线性表是一对一的线性结构，可现实中还有许多一对多的情况，<code>树</code>就是专门研究一对多的数据结构。<div class="note default no-icon flat"><p>树(Tree)是n(n≥0)个结点的有限集。n=0 时称为<code>空树</code>。在任<br>意一棵非空树中:(1)有且仅有一个特定的称为<code>根( Root )</code>的结<br>点;(2)当n&gt;1 时,其余结点可分为 m(m&gt;0)个互不相交的<br>有限集 T1、T2、……、Tm,其中每一个集合本身又是一棵树,并<br>且称为<code>根的子树(SubTree)</code></p></div> <div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904194925.png"/></div></div></li></ul><h3 id="结点分类"><a href="#结点分类" class="headerlink" title="结点分类"></a>结点分类</h3><p> 树的结点包含一个数据元素及若干指向其子树的分支。结点拥有的子树数称为<code>结点的度(Degree)</code>。度为0 的结点称为<code>叶结点(Leaf)</code>或终端结点;度不为0 的结点称为非终端结点或<code>分支结点</code>。除根结点之外,分支结点也称为内部结点。<code>树的度</code>是树内各结点的度的最大值。<br><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904195717.png"/></div></div></p><h3 id="其他概念"><a href="#其他概念" class="headerlink" title="其他概念"></a>其他概念</h3><ul><li><p>结点的<code>层次(Level)</code>从根开始定义起,根为第一层,根的孩子为第二层。若某结点在第1层,则其子树的根就在第1+1 层。其双亲在同一层的结点互为堂兄弟。显然图中的D、E、F是堂兄弟,而G、H、I、J也是。树中结点的最大层次称为<code>树的深度(Depth)</code>或高度,当前树的深度为4。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904200036.png"/></div></div></li><li><p><code>森林(Forest)</code> 是 m (m≥0) 棵互不相交的树的集合。对树中每个结点而言,其子树的集合即为森林。</p></li><li><p>对比线性表与树的结构,它们有很大的不同</p></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904200231.png"/></div></div><h2 id="树的存储结构"><a href="#树的存储结构" class="headerlink" title="树的存储结构"></a>树的存储结构</h2><ul><li>前面我们学过线性表有顺序存储和链式存储两种结构，树也是这两种结构吗？</li><li>先来看看顺序存储结构,用一段地址连续的存储单元依次存储线性表的数据元素。这对于线性表来说是很自然的,但是对于树来说，树的某个节点孩子有多个，无论按照哪种顺序将树的节点存储到数组，结点的存储位置都无法直接反映逻辑关系，所以简单的顺序存储结构是不能满足树的实现要求的。</li><li>不过充分利用顺序存储和链式存储结构的特点,完全可以实现对树的存储结构的表示。</li><li>这里介绍三种不同的表示法:<ul><li>双亲表示法</li><li>孩子表示法</li><li>孩子兄弟表示法。</li></ul></li></ul><h3 id="双亲表示法"><a href="#双亲表示法" class="headerlink" title="双亲表示法"></a>双亲表示法</h3><ul><li>每个人可能没有孩子，但是一定有双亲，树这种结构也是这样，除了根节点外,其余每个结点,它不一定有孩子,但是一定有且仅有一个双亲。</li><li>我们假设以一组连续空间存储树的结点,同时在每个结点中,附设一个指示器指示其双亲结点到链表中的位置。也就是说,每个结点除了知道自己是谁以外,还知道它的双亲在哪里。</li></ul><div class="tabs" id="双亲表示法"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#双亲表示法-1">示意图</button></li><li class="tab"><button type="button" data-href="#双亲表示法-2">结构代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="双亲表示法-1"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904201113.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="双亲表示法-2"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 树的双亲表示法结点结构定义 */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX TREE SIZE 100</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> TElemType; <span class="comment">/* 树结点的数据类型,目前暂定为整型 */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">PTNode</span> /* 结点结构 */</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  TElemType data; <span class="comment">/* 结点数据 */</span></span><br><span class="line">  <span class="type">int</span> parent; <span class="comment">/* 双亲位置 */</span></span><br><span class="line">&#125; PTNode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> /* 树结构 */</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  PTNode nodes [MAX TREE SIZE]; <span class="comment">/* 结点数组 */</span></span><br><span class="line">  <span class="type">int</span> r, n; <span class="comment">/* 根的位置和结点数 */</span></span><br><span class="line">&#125; PTree;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><ul><li>根结点是没有双亲的,所以我们约定根结点的位置域设置为-1,此时，所有的节点都存有它双亲的位置</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250904201651.png"/></div></div><div class="table-container"><table><thead><tr><th style="text-align:center">下标</th><th style="text-align:center">data</th><th style="text-align:center">parent</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">A</td><td style="text-align:center">-1</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">B</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">C</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">D</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">E</td><td style="text-align:center">2</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">F</td><td style="text-align:center">2</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center">G</td><td style="text-align:center">3</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">H</td><td style="text-align:center">3</td></tr><tr><td style="text-align:center">8</td><td style="text-align:center">I</td><td style="text-align:center">3</td></tr><tr><td style="text-align:center">9</td><td style="text-align:center">J</td><td style="text-align:center">4</td></tr></tbody></table></div><ul><li>这样存储，我们可以根据结点快速的找到他的双亲结点，所用时间复杂度为O(1),直到 parent 为-1时,表示找到了树结点的根。可如果想知道结点的孩子是什么,不好意思,需要遍历整个结构才行。</li><li>如何改进？<ul><li>增加一个结点最左边孩子的域,不妨叫它长子域,这样就可以很容易得到结点的孩子。如果没有孩子的结点,这个长子域就设置为-1</li></ul></li></ul><div class="table-container"><table><thead><tr><th style="text-align:center">下标</th><th style="text-align:center">data</th><th style="text-align:center">parent</th><th style="text-align:center">firstchild</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">A</td><td style="text-align:center">-1</td><td style="text-align:center">-1</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">B</td><td style="text-align:center">0</td><td style="text-align:center">3</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">C</td><td style="text-align:center">0</td><td style="text-align:center">4</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">D</td><td style="text-align:center">1</td><td style="text-align:center">6</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">E</td><td style="text-align:center">2</td><td style="text-align:center">9</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">F</td><td style="text-align:center">2</td><td style="text-align:center">-1</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center">G</td><td style="text-align:center">3</td><td style="text-align:center">-1</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">H</td><td style="text-align:center">3</td><td style="text-align:center">-1</td></tr><tr><td style="text-align:center">8</td><td style="text-align:center">I</td><td style="text-align:center">3</td><td style="text-align:center">-1</td></tr><tr><td style="text-align:center">9</td><td style="text-align:center">J</td><td style="text-align:center">4</td><td style="text-align:center">-1</td></tr></tbody></table></div><p>对于有0个或1个孩子结点来说,这样的结构是解决了要找结点孩子的问题了。但完全无法体现各兄弟之间的关系,所以我们需要再增加一个域,指向结点的右兄弟。也就是说,每一<br>个结点如果它存在右兄弟,则记录下右兄弟的下标。同样的,如果右兄弟不存在,赋值为-1</p><h2 id="二叉树的定义"><a href="#二叉树的定义" class="headerlink" title="二叉树的定义"></a>二叉树的定义</h2><h3 id="二叉树的特点"><a href="#二叉树的特点" class="headerlink" title="二叉树的特点"></a>二叉树的特点</h3><ul><li>二叉树是一种特殊的树状结构,它的每个结点最多有两个孩子结点。</li><li><strong>二叉树的特点</strong><ul><li>每个结点最多有两棵子树，所以二叉树中不存在度大于2的结点。 注意不是只有两棵子树，而是最多有。没有子树或者有一棵子树 都是可以的。  </li><li>左子树和右子树是有顺序的，次序不能任意颠倒。           </li><li>即使树中某结点只有一棵子树，也要区分它是左子树还是右子树</li></ul></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250905142715.png"/></div></div><ul><li><strong>二叉树的基本形态</strong><ul><li>空二叉树</li><li>只有一个根结点。 </li><li>根结点只有左子树。 </li><li>根结点只有右子树。 </li><li>根结点既有左子树又有右子树。</li></ul></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250905144401.png"/></div></div><h3 id="特殊二叉树"><a href="#特殊二叉树" class="headerlink" title="特殊二叉树"></a>特殊二叉树</h3><ul><li>斜树<ul><li>所有的结点都只有左子树的二叉树叫<code>左斜树</code>。所有结点都是只有右子树的二叉树叫<code>右斜树</code>。这两者统称为斜树。斜树有很明显的特点，就是每一层都只有一个结点，结点的个数与二叉树的深度相同。</li><li>有人会想，这也能叫树呀，与我们的线性表结构不是一样吗。对的，其实线性表结构就可以理解为是树的一种极其特殊的表现形式。</li></ul></li><li>满二叉树<ul><li>一棵二叉树中，如果所有分支结点都存在左子树和右子树，并且所有叶子都在同一层上，这样的二叉树称为<code>满二叉树</code>。</li><li>在满二叉树中，叶子只能出现在最下面一层，且这一层的叶子数必须达到最大。</li><li>非叶子节点的度一定是2</li></ul></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250905144810.png"/></div></div><ul><li>完全二叉树<ul><li>对一棵具有n个结点的二叉树按层序编号，如果编号为i（1≤i≤n）的结点与同样深度的满二叉树中编号为i的结点在二叉树中位置完全相同，则这棵二叉树称为完全二叉树</li></ul></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250905145213.png"/></div></div><ul><li>区分满二叉树和完全二叉树<ul><li>满二叉树一定是一棵完全二叉树，但完全二叉树不一定满</li><li>完全二叉树的所有结点与同样深度的满二叉树，它们<code>按层序编号</code>相同的结点，是<code>一一对应</code>的。</li><li>图中的树1，因为5结点没有左子树，却有右子树，那就使得按层序编号的第10个编号空档了。同样道理，图中的树2，由于3结点没有子树，所以使得6、7编号的位置空档了。图6中的树3又是因为5编号下没有子树造成第10和第11位置空档，所以这三棵树既不是满二叉树也不是完全二叉树</li></ul></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250905145547.png"/></div></div><p>总结一下完全二叉树和满二叉树的特点：</p><ul><li><strong>满二叉树：</strong><ul><li>叶子只能出现在最下一层。</li><li>非叶子结点的度一定是2。</li><li>在同样深度的二叉树中，满二叉树的结点个数最多，叶子数最多。</li></ul></li><li><strong>完全二叉树：</strong><ul><li>叶子结点只能出现在最下两层。</li><li>最下层的叶子一定集中在左部连续位置。</li><li>倒数二层，若有叶子结点，一定都在右部连续位置。</li><li>如果结点度为1，则该结点只有左孩子，即不存在只有右子树的情况。</li><li>同样结点数的二叉树，完全二叉树的深度最小。</li></ul></li></ul><h2 id="二叉树的性质"><a href="#二叉树的性质" class="headerlink" title="二叉树的性质"></a>二叉树的性质</h2><details class="folding-tag" blue><summary> 性质1：在二叉树的第i层上至多有2<sup>i-1</sup> 个结点（i≥1） </summary>              <div class='content'>              <p>这个性质很好记忆<br>第一层是根结点，只有一个，所以2<sup>1-1</sup> =2<sup>0</sup> =1。<br>第二层有两个，2<sup>2-1</sup> =2<sup>1</sup> =2。<br>第三层有四个，2<sup>3-1</sup> =2<sup>2</sup> =4。<br>第四层有八个，2<sup>4-1</sup> =2<sup>3</sup> =8。<br>通过<code>数据归纳法</code>的论证，可以很容易得出在二叉树的第i层上至多有2<sup>i-1</sup> 个结点（i≥1）的结论。</p>              </div>            </details><details class="folding-tag" yellow><summary> 性质2：深度为k的二叉树至多有2<sup>k</sup>-1个结点（k≥1） </summary>              <div class='content'>              <p>这里看清楚是2<sup>k</sup>-1个结点(K≥1)；<br>深度为k意思就是有k层的二叉树;<br>如果有一层，至多1=2<sup>1</sup> -1个结点。<br>如果有二层，至多1+2=3=2<sup>2</sup> -1个结点。<br>如果有三层，至多1+2+4=7=2<sup>3</sup> -1个结点。<br>如果有四层，至多1+2+4+8=15=2<sup>4</sup> -1个结点。<br><strong>通过数据归纳法的论证，可以得出，如果有k层，此二叉树至多有2<sup>k</sup>-1个结点。</strong></p>              </div>            </details><details class="folding-tag" green><summary> 性质3：对任何一棵二叉树T，如果其叶子结点数为n<sub>0</sub> ，度为2的结点数为n<sub>2</sub> ，则n<sub>0</sub> =n<sub>2</sub> +1。 </summary>              <div class='content'>              <p>一棵二叉树，除了叶子结点外，剩下的就是度为1或2的结点数了，我们设n<sub>1</sub> 为度是1的结点数。则树T<code>结点总数n</code>的计算方法为：<strong>n=n<sub>0</sub> +n <sub>1</sub> +n <sub>2</sub></strong>。<br>换一个角度，计算一下分支线的数量，我们可以发现，除了根节点外，每生成一个结点，他都对应着一条分支线，故<code>分支线总数为n-1</code>。<br>度为1的结点他会向外有两个分支线出去，度为2的结点会向外两个分支线出去，所以分支线总数=度为1的结点产生的分支线+度为2的结点产生的分支线，即为<strong>n-1=n<sub>1</sub> +n <sub>2</sub></strong>,联立可推导出<strong>n<sub>0</sub> =n<sub>2</sub> +1</strong>。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906124455.png"/></div></div>              </div>            </details><details class="folding-tag" ><summary> 性质4：具有n个结点的完全二叉树的深度为|log <sub>2</sub> n+1|（|x|表示不大于x的最大整数）。 </summary>              <div class='content'>              <p>其实根据性质2就可以反推出该性质，因为该二叉树为满二叉树时结点数最多，故一个深度为k-1的满二叉树有2<sub>k-1</sub>-1个结点。所以深度为k的完全二叉树至少有2<sub>k-1</sub>个结点，最多有2<sub>k</sub>-1个结点。逆运算即可根据结点数求出深度。</p>              </div>            </details><details class="folding-tag" cyan><summary> 性质5：如果对一棵有n个结点的完全二叉树（其深度为|log <sub>2</sub> n|+1）的结点按层序编号（从第1层到第|log <sub>2</sub> n|+1层，每层从左到右），对任一结点i（1≤i≤n） 有：<br> 1．如果i=1，则结点i是二叉树的根，无双亲；如果i>1，则其双亲是结点[i/2]<br> 2．如果2i>n，则结点i无左孩子（结点i为叶子结点）；否则其左孩子是结点2i。<br> 3．如果2i+1>n，则结点i无右孩子；否则其右孩子是结点2i+1。 </summary>              <div class='content'>              <ul><li>对于第一条来说是很显然的，i=1时就是根结点。i&gt;1时，比如结点7，它的双亲就是[7/2]=3，结点9，它的双亲就是[9/2]=4。</li><li>第二条，比如结点6，因为2×6=12超过了结点总数10，所以结点6无左孩子，它是叶子结点。同样，而结点5，因为2×5=10正好是结点总数10，所以它的左孩子是结点10。</li><li>第三条，比如结点5，因为2×5+1=11，大于结点总数10，所以它无右孩子。而结点3，因为2×3+1=7小于10，所以它的右孩子是结点7。<div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906130158.png"/></div></div></li></ul>              </div>            </details><h2 id="二叉树存储结构"><a href="#二叉树存储结构" class="headerlink" title="二叉树存储结构"></a>二叉树存储结构</h2><h3 id="二叉树的顺序存储结构"><a href="#二叉树的顺序存储结构" class="headerlink" title="二叉树的顺序存储结构"></a>二叉树的顺序存储结构</h3><ul><li>前面提到，对于树这种一对多的关系，顺序存储结构较难实现。但二叉树是一种特殊的树，因为他的特殊性，所以顺序存储结构也能实现。</li><li>二叉树的顺序存储结构就是用一维数组存储二叉树中的结点，并且结点的存储位置，也就是数组的下标要能体现结点之间的逻辑关系，比如双亲与孩子的关系，左右兄弟的关系等。</li></ul><div class="tabs" id="二叉树的顺序存储"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#二叉树的顺序存储-1">完全二叉树的顺序存储</button></li><li class="tab"><button type="button" data-href="#二叉树的顺序存储-2">普通二叉树的顺序存储</button></li><li class="tab"><button type="button" data-href="#二叉树的顺序存储-3">斜二叉树的顺序存储</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="二叉树的顺序存储-1"><p>完全二叉树用顺序存储的方法存储很简单，将树依按层级下排即可。</p><ul><li>一棵完全二叉树：</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906130822.png"/></div></div><ul><li>将该二叉树存入数组，结果如下：<div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906130921.png"/></div></div></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="二叉树的顺序存储-2"><p>普通二叉树也可以按照其完全二叉树进行编号，只不过把不存在的节点设为”^””而已。</p><ul><li>一棵普通二叉树：</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906131510.png"/></div></div><ul><li>将该二叉树存入数组，结果如下：<div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906131544.png"/></div></div></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="二叉树的顺序存储-3"><p>考虑一下极端情况，如果一棵二叉树为斜二叉树，它只有k个结点，却需要分配2<sup>k-1</sup>个存储单元空间，这显然是对存储空间的浪费</p><ul><li>一棵右斜二叉树:</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906132031.png"/></div></div>* 将该二叉树存入数组，结果如下：<div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906132153.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note warning no-icon flat"><p>所以顺序二叉树结构一般只用于完全二叉树</p></div><h3 id="链式存储结构-1"><a href="#链式存储结构-1" class="headerlink" title="链式存储结构"></a>链式存储结构</h3><ul><li>继续来考虑二叉树的链式存储结构。二叉树每个结点最多有两个孩子，所以为它设计一个数据域和两个指针域是比较自然的想法，我们称这样的链表叫做<code>二叉链表</code>。</li></ul><div class="tabs" id="链式存储结构"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#链式存储结构-1">结构定义</button></li><li class="tab active"><button type="button" data-href="#链式存储结构-2">结构示意图</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="链式存储结构-1"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BiTNode</span>&#123;</span></span><br><span class="line">  TElemType data;</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">BiTNode</span> *<span class="title">lchild</span>, *<span class="title">rchild</span>;</span></span><br><span class="line">&#125;BitNode, *BiTree;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="链式存储结构-2"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906133054.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note info no-icon flat"><p>如果有需要，还可以再增加一个指向其双亲的指针域，那样就称之为三叉链表。</p></div><h2 id="遍历二叉树"><a href="#遍历二叉树" class="headerlink" title="遍历二叉树"></a>遍历二叉树</h2><h3 id="遍历原理"><a href="#遍历原理" class="headerlink" title="遍历原理"></a>遍历原理</h3><details class="folding-tag" ><summary> 遍历次序 </summary>              <div class='content'>              <p>如果手头有20张100元的和2000张1元的奖券同时洒向了空中，所有人比赛谁捡的最多，相信所有人都会先捡100元的，因为这样效率更高，所以可以得到这样的结论:<strong>同样是捡奖券，在有限时间内，要达到最高效率，次序非常重要</strong>。对于二叉树的遍历来讲，次序同样显得很重要。</p>              </div>            </details><div class="note default no-icon flat"><p><code>二叉树的遍历（traversing binary tree）</code>是指从根结点出发，按照某种次序依次访问二叉树中所有结点，使得每个结点被访问一次且仅被访问一次。</p></div><p>二叉树的遍历次序不同于线性结构，最多也就是从头至尾、循环、双向等简单的遍历方式。树的结点之间不存在唯一的前驱和后继关系，在访问一个结点后，下一个被访问的结点面临着不同的选择。就像你人生的道路上，面临的不同的选择，由于选择方式的不同，遍历的次序就完全不同了。</p><h3 id="遍历方法"><a href="#遍历方法" class="headerlink" title="遍历方法"></a>遍历方法</h3><ul><li>二叉树的遍历方式可以很多，如果限制了从左到右的习惯方式，那么主要就分为四种：<details class="folding-tag" ><summary> * 前序遍历：根->左->右 </summary>              <div class='content'>              <ul><li>规则是若二叉树为空，则空操作返回，否则先访问根结点，然后前序遍历左子树，再前序遍历右子树。如图所示，遍历的顺序为：ABDGH-CEIF。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906135430.png"/></div></div>              </div>            </details></li></ul><details class="folding-tag" ><summary> * 中序遍历：左->根->右 </summary>              <div class='content'>              <p>规则是若树为空，则空操作返回，否则从根结点开始（注意并不是先访问根结点），中序遍历根结点的左子树，然后是访问根结点，最后中序遍历右子树。如图所示，遍历的顺序为：GDHBAE-ICF。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906135535.png"/></div></div>              </div>            </details><details class="folding-tag" ><summary> * 后序遍历：左->右->根 </summary>              <div class='content'>              <p>规则是若树为空，则空操作返回，否则从左到右先叶子后结点的方式遍历访问左右子树，最后是访问根结点。如图所示，遍历的顺序为：GHDBIEFCA。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906135604.png"/></div></div>              </div>            </details><details class="folding-tag" ><summary> * 层序遍历：按层序遍历 </summary>              <div class='content'>              <p>规则是若树为空，则空操作返回，否则从树的第一层，也就是根结点开始访问，从上而下逐层遍历，在同一层中，按从左到右的顺序对结点逐个访问。如图所示，遍历的顺序为：ABCDEFGHI。</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906135652.png"/></div></div>              </div>            </details><ul><li>为什么要有这么多遍历方法呢？<ul><li>使用图形的方法能够清晰的表现出树的结构，但对计算机来说，他只会处理线性序列，而这四种方法的目的便是将树变成某种意义的线性序列，<strong>我们可以在不同的遍历过程中对结点进行各种处理</strong>。</li></ul></li></ul><h3 id="推导遍历结果"><a href="#推导遍历结果" class="headerlink" title="推导遍历结果"></a>推导遍历结果</h3><div class="note info no-icon flat"><p>有一种题目为了考查对二叉树遍历的掌握程度，是这样出题的。已知一棵二叉树的<code>前序遍历序列为ABCDEF</code>，<code>中序遍历序列为CBAEDF</code>，请问这棵二叉树的后序遍历结果是多少？</p></div><ul><li>三种遍历都是从根节点开始的，只是打印的顺序不同<ul><li>如果给出了前序遍历结果，根据第一个字母能快速确定根节点</li><li>如果给出了后序遍历结果，根据最后一个字母能快速确定根节点</li><li>确定了根节点，便能根据根节点确定左右子树的边界</li></ul></li></ul><details class="folding-tag" ><summary> 示例答案 </summary>              <div class='content'>              <ul><li>根据前序遍历的结果，可以看出A是根节点，而根据中序遍历，可以知道C和B是A的左子树的结点，E、D、F是A的右子树的结点。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906140801.png"/></div></div><ul><li>然后再看左右分支，前序遍历中的C和B是，先打印B后打印C，所以能够得出以B是A的左孩子，而C就只能是B的孩子，但不能确定是左孩子还是右孩子，在中序遍历中C在B的前面打印，这就说明C是B的左孩子，否则就是右孩子。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906141524.png"/></div></div><ul><li><p>再来看右分支，根据谦虚遍历可以知道D是A的右孩子，而E是D的孩子，F可能是D的孩子也可能是E的孩子，根据中序遍历,由于E在D左侧，而F在右侧，则可以知道E是D的左孩子，而F是E的右孩子。</p></li><li><p>最终得到的二叉树：</p></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906141842.png"/></div></div>              </div>            </details><p><code>二叉树遍历的性质：</code></p><ul><li>已知前序遍历序列和中序遍历序列，可以唯一确定一棵二叉树。</li><li>已知后序遍历序列和中序遍历序列，可以唯一确定一棵二叉树。<div class="note warning no-icon flat"><ul><li>已知前序遍历和后序遍历是无法确定一棵二叉树的，因为前序遍历和后序遍历都无法确定左右子树的位置。</li><li>比如前序序列是ABC，后序序列是CBA。我们可以确定A一定是根结点，但接下来，我们无法知道，哪个结点是左子树，哪个是右子树。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906142451.png"/></div></div></div></li></ul><h2 id="树、森林与二叉树的转换"><a href="#树、森林与二叉树的转换" class="headerlink" title="树、森林与二叉树的转换"></a>树、森林与二叉树的转换</h2><ul><li>对于树来说，在满足树的条件下可以是任意形状，一个结点可以有任意多个孩子，显然对树的处理要复杂得多，去研究关于树的性质和算法，真的不容易。</li><li>前面所学习的二叉树尽管它也是树，但由于每个结点最多只能有左孩子和右孩子，面对的变化就少很多了。因此很多性质和算法都被研究了出来。</li><li>我们可以实现树和二叉树之间的转化来简化问题吗？<ul><li>在学习树的存储结构时，用到的孩子兄弟法，可以实现将一棵树用二叉链表来存储，所以借助二叉链表，树和二叉树也可以相互进行转换。</li><li>从物理结构来看，它们的二叉链表也是相同的，只是解释不太一样而已。</li><li>因此，只要设定一定的规则，用二叉树来表示树，甚至表示森林都是可以的，森林与二叉树也可以互相进行转换。</li></ul></li></ul><h3 id="树转化为二叉树"><a href="#树转化为二叉树" class="headerlink" title="树转化为二叉树"></a>树转化为二叉树</h3><p><code>转化步骤：</code></p><ol><li><strong>加线。</strong>在所有兄弟结点之间加一条连线。</li><li><strong>去线。</strong>对树中每个结点，只保留它与最左侧第一个孩子结点的连线，删除它与其他孩子结点之间的连线。 </li><li><strong>层次调整。</strong>以树的根结点为轴心，将整棵树顺时针旋转一定的角度，使之结构层次分明。</li></ol><div class="note warning no-icon flat"><p>层次调整时，第一个孩子(长子)是二叉树结点的左孩子，兄弟转换过来的孩子是结点的右孩子。<br><strong>注意：</strong>当且仅当原树的根节点没有子节点时，二叉树根结点的度为0，其余情况转化后二叉树根节点的度均为1</p></div><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906144903.png"/></div></div><h3 id="森林转化为二叉树"><a href="#森林转化为二叉树" class="headerlink" title="森林转化为二叉树"></a>森林转化为二叉树</h3><ul><li>森林是由若干棵树组成的，所以可以理解为:森林中的每一棵树都是兄弟，可以按照兄弟的处理办法来操作。</li></ul><p><code>转化步骤：</code></p><ol><li>把每个树转换为二叉树。 </li><li>第一棵二叉树不动，从第二棵二叉树开始，依次把后一棵二叉树的根结点作为前一棵二叉树的根结点的右孩子，用线连接起来。</li><li>当所有的二叉树连接起来后就得到了由森林转换来的二叉树。</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906145554.png"/></div></div><h3 id="二叉树转化为树"><a href="#二叉树转化为树" class="headerlink" title="二叉树转化为树"></a>二叉树转化为树</h3><p>二叉树转换为树是树转换为二叉树的逆过程，也就是反过来做而已。</p><p><code>转化步骤：</code> </p><ol><li><strong>加线。</strong>若某结点的左孩子结点存在，则将这个左孩子的右孩子结点、右孩子的右孩子结点、右孩子的右孩子的右孩子结点……哈，反正就是左孩子的n个右孩子结点都作为此结点的孩子。将该结点与这些右孩子结点用线连接起来。 </li><li><strong>去线。</strong>删除原二叉树中所有结点与其右孩子结点的连线。 </li><li><strong>层次调整。</strong>使之结构层次分明。</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906145922.png"/></div></div><h3 id="二叉树转化为森林"><a href="#二叉树转化为森林" class="headerlink" title="二叉树转化为森林"></a>二叉树转化为森林</h3><p>判断一棵二叉树能够转换成一棵树还是森林的标准很简单，那就是只要看这棵二叉树的根结点有没有右孩子，有就是森林，没有就是一棵树。</p><p><code>转化步骤：</code></p><ol><li>从根结点开始，若右孩子存在，则把与右孩子结点的连线删除，再查看分离后的二叉树，若右孩子存在，则连线删除……，直到所有右孩子连线都删除为止，得到分离的二叉树。</li><li>再将每棵分离后的二叉树转换为树即可。 </li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906150250.png"/></div></div><h3 id="树和森林的遍历"><a href="#树和森林的遍历" class="headerlink" title="树和森林的遍历"></a>树和森林的遍历</h3><p>树的遍历分为两种方式:</p><ol><li><code>先根遍历</code>。即先访问树的根结点，然后依次先根遍历根的每棵子树。</li><li><code>后根遍历</code>。即先依次后根遍历每棵子树，然后再访问根结点。</li><li>下图的树的先根遍历序列为ABEFCDG，后根遍历序列为EFBCGDA。<div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906150827.png"/></div></div></li></ol><p>森林的遍历也分为两种方式:</p><ol><li><code>前序遍历</code>：先访问森林中第一棵树的根结点，然后再依次先根遍历根的每棵子树，再依次用同样方式遍历除去第一棵树的剩余树构成的森林。</li><li><code>后序遍历</code>：是先访问森林中第一棵树，后根遍历的方式遍历每棵子树，然后再访问根结点，再依次同样方式遍历除去第一棵树的剩余树构成的森林。</li><li>下图的森林的前序遍历序列的结果就是ABCDEFGHJI,后序遍历序列的结果就是BCDAFEJHIG。<div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906151141.png"/></div></div></li></ol><ul><li>对森林转化为的二叉树进行遍历分析即可发现，森林的前序遍历和二叉树的前序遍历结果相同，森林的后序遍历和二叉树的中序遍历结果相同。</li><li>这也就告诉我们，当以二叉链表作树的存储结构时，树的先根遍历和后根遍历完全可以借用二叉树的前序遍历和中序遍历的算法来实现。</li></ul><h2 id="哈夫曼树"><a href="#哈夫曼树" class="headerlink" title="哈夫曼树"></a>哈夫曼树</h2><h3 id="哈夫曼树有什么用？"><a href="#哈夫曼树有什么用？" class="headerlink" title="哈夫曼树有什么用？"></a>哈夫曼树有什么用？</h3><details class="folding-tag" ><summary> 数据压缩引入 </summary>              <div class='content'>              <p>“喂，兄弟，最近无聊透顶了，有没有什么书可看？”“我这有《三<br>国演义》的电子书，你要不要？”“‘既生瑜，何生亮。’《三国演<br>义》好呀，你邮件发给我！”“OK！文件1M多大小，好像大了点。我<br>打个包，稍等……哈哈，少了一半，压缩效果不错呀。”“太棒了，<br>快点传给我吧。”</p><p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906151720.png"/></div>&lt;/div&gt;<br>这是生活中常见的对白，在这个讲究效率的社会，什么都要求速度，在不能出错的情况下，速度越快越好。使用电脑的人几乎都会应用压缩和解压缩软件来处理文档。除了能减少文档在磁盘的空间外，更能让我们在网络上以压缩的形式传输大量数据，使保存和传递更加高效。</p>              </div>            </details><ul><li>现在的压缩技术在编码上已经非常强大，这一切均来自曾经的技术积累。现在来学习最基本的压缩编码方法——<code>哈夫曼编码</code></li><li>在介绍哈夫曼编码前，我们必须得介绍哈夫曼树，而介绍哈夫曼树，我们不得不提这样一个人，美国数学家哈夫曼（David Huffman）。他在1952年发明了赫夫曼编码，为了纪念他的成就，于是就把他在编码中用到的特殊的二叉树称之为哈夫曼树，他的编码方法称为哈夫曼编码。</li></ul><div class="note danger no-icon flat"><p>给定N个权值作为N个叶子结点，构造一棵二叉树，若该树的<code>带权路径长度</code>达到最小，称这样的二叉树为最优二叉树，也称为<code>哈夫曼树（Huffman Tree）</code></p></div><ul><li>乍一看好像没看懂，啥叫带权路径长度达到最小？就是树中所有的叶结点的权值乘上其到根结点根结点的路径长度（若根结点为0层，叶结点到根结点的路径长度为叶结点的层数）</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250906153146.png"/></div></div><ul><li>这里分别将叶子结点ABCD都赋予一个权值，计算后左右两边的计算结果为：<ul><li>左图：WPL=5×2+7×2+2×2+13×2=54</li><li>右图：WPL=5×3+2×3+7×2+13×1=48</li></ul></li><li>通过计算结果可知，右图的带权路径长度最小，实际上右图是一棵哈夫曼树。</li></ul><h3 id="如何创建一棵哈夫曼树？"><a href="#如何创建一棵哈夫曼树？" class="headerlink" title="如何创建一棵哈夫曼树？"></a>如何创建一棵哈夫曼树？</h3><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907145557.png"/></div></div><ul><li>现在我们有这些带权的叶子结点，如何将这些叶子结点连接起来，生成一棵哈夫曼树呢？<ul><li>首先将这些带权结点看成树，他们共同构成了一片森林</li><li>然后在这四个结点中，选择两个权值最小的树结合成一棵新的数，左右顺序不重要(因为哈夫曼编码不唯一)，得到的树的根节点是这两个结点的和</li></ul></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907150113.png"/></div></div><ul><li>接着将这棵树放回到森林中，重复上面的步骤继续选择两个最小的组成新的树，直到森林中只有一棵树为止</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907150534.png"/></div></div><ul><li>这样就得到了一棵哈夫曼树，构造这棵树又有什么用呢？<ul><li>实际上哈夫曼树比较重要的应用就是对数据进行压缩，他是现代压缩算法的基础。</li></ul></li><li><p>对以下的字符串进行压缩：ABCABCD</p><ul><li>这里可以直接采用刚才创建的哈夫曼树，对其进行标注</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907151342.png"/></div></div></li><li>向左走是0，向右走是1，每个字符的哈夫曼编码即为根节点到这个字符整条路径上的值的拼接<ul><li>A:110</li><li>B:0</li><li>C:111</li><li>D:10</li></ul></li><li>经压缩后得到的编码为：ABCABCD = 110 0 111 110 0 111 10</li></ul><h1 id="图"><a href="#图" class="headerlink" title="图"></a>图</h1><h2 id="图的定义"><a href="#图的定义" class="headerlink" title="图的定义"></a>图的定义</h2><details class="folding-tag" yellow><summary> 引入 </summary>              <div class='content'>              <ul><li>旅游几乎是每个年轻人的爱好,但没有钱或没时间也是困惑年轻人不能圆梦的直接原因。假设你有了一笔不算很丰裕的闲钱,也有了约半年的时间。此时打算全国性的旅游,你将会如何安排这次行程呢?</li><li>假设旅游就是逐个省市进行,省市内的风景区不去细分,例如北京玩 7 天,天津玩 3 天,四川玩 20 天,你现在需要做的就是制订一个规划方案,如何才能用最少的成本将图中所有省市都玩遍,这里所谓最少的成本是指<code>交通成本</code>与<code>时间成本</code>。</li><li>如果你不善于规划,很有可能就会出现如玩好新疆后到海南,然后再冲向黑龙江这样的荒唐决策。但是即使是紧挨着省市游玩的方案也会存在很复杂的选择问题,比如游完湖北,周边有安徽、江西、湖南、重庆、陕西、河南等省市,你下一步怎么走最划算呢?</li><li>一时解答不了这些问题是很正常的,计算的工作本来就非人脑而应该是电脑去做的事情。在图的应用中,就有应的算法来解决这样的问题。学完这一章,即便不能马上获得最终的答案,也大概知道应该如何去做了。</li></ul>              </div>            </details><ul><li>在<code>线性表</code>中,数据元素之间仅有线性关系,每个数据元素只有一个直接前驱和一个直接后继。</li><li>在<code>树形结构</code>中,数据元素之间有着明显的层次关系,并且每一层上的数据元素可能和下一层中多个元素相关,但只能和上一层中一个元素相关。这和一对父母可以有多个孩子,但每个孩子却只能有一对父母是一个道理。</li><li>现实中,人与人之间关系就非常复杂,比如我认识的朋友,可能他们之间也互相认识,这就不是简单的一对一、一对多,而是更加复杂的多对多的情况。那就是我们今天要研究的主题——<code>图</code>。图是一种较线性表和树更加复杂的数据结构。在图形构中,结点之间的关系可以是任意的,图中任意两个数据元素之间都可能相关。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907152732.png"/></div></div><div class="note default no-icon flat"><p>图(Graph)是由顶点的<code>有穷非空集合</code>和<code>顶点之间边的集合</code>组成,通常表示为:G ( V,E ), 其中,G 表示一个图,V 是图 G 中顶点的集合,E是图G 中边的集合。</p></div><p>对于图的定义，需要明确的地方：</p><ul><li>线性表中我们把数据元素叫元素,树中将数据元素叫结点,在图中数据元素,我们则称之为<code>顶点(Vertex)</code>。</li><li>线性表中可以没有数据元素,称为空表。树中可以没有结点,叫做空树。但是在图结构中，不允许没有顶点点。在定义中,若是顶点的集合,则强调了顶点集合 V 有穷非空。</li><li>线性表中,相邻的数据元素之间具有线性关系,树结构中,相邻两层的结点具有层次关系,而图中,任意两个顶点之间都可能有关系,顶点之间的逻辑关系用边来表示,<strong>边集可以是空的。</strong></li></ul><h3 id="各种图的定义"><a href="#各种图的定义" class="headerlink" title="各种图的定义"></a>各种图的定义</h3><ul><li><strong>无向边:若顶点到之间的边没有方向,则称这条边为无向边(Edge),用无序偶对(vi,vj)来表示</strong>。如果图中任意两个顶点之间的边都是无向边,则称该图为<code>无向图(Undirected graphs)</code>。</li><li><strong>有向边:若从顶点到v的边有方向,则称这条边为有向边,也称为弧(Arc)。,有序偶<vi,vj>来表示,vi称为弧尾(Tail),vj称为弧头(Head)</strong>。如果图中任意两个顶点之间的边都是有向边,则称该图为<code>有向图(Directed graphs)</code>。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907153555.png"/></div></div><ul><li>对于图中的有向图 G<sub>2</sub>来说,G<sub>2</sub>= (V<sub>2</sub>,{E<sub>2</sub>}),其中顶点集合 V<sub>2</sub>={A,B,C,D};弧集合 E<sub>2</sub>= {<A,D>,<B,A>,<C,A>,<B,C>}</li></ul><div class="note warning no-icon flat"><p><strong>无向边用小括号“()”表示,而有向边则是用尖括号“&lt;&gt;”表示。</strong></p></div><p>在图中,若不存在顶点到其自身的边,且同一条边不重复出现,则称这样的图为<code>简单图</code>。在数据结构中学习的基本都是简单图，在这里讨论的也都是简单图，显然下方图片的两张图就不属于讨论的范围<br><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907154317.png"/></div></div></p><ul><li><strong>在无向图中，如果任意两个顶点之间都存在边,则称该图为<code>无向完全图</code></strong>。含有n个顶点的无向完全图有nx(n-1)/2条边。比如</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907160343.png"/></div></div><ul><li><strong>在有向图中,如果任意两个顶点之间都存在方向互为相反的两条弧,则称该图为<code>有向完全图</code></strong>。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907160443.png"/></div></div><ul><li>有很少条边或弧的图称为<code>稀疏图</code>,反之称为<code>稠密图</code>。这里稀疏和稠密是模糊的概念,都是相对而言的。</li><li>有些图的边或弧具有与它相关的数字,这种与图的边或弧相关的数叫做<code>权(Weigh)</code>)。这些权可以表示从一个顶点到另一个顶点的距离或耗费。这种带权的图通常称为网(Network)。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907160731.png"/></div></div><ul><li>如果有两个图，其中图A’中所有点和线都能在A中找到，则称图A’是图A的<code>子图。</code></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907161022.png"/></div></div><h3 id="图的顶点与边的关系"><a href="#图的顶点与边的关系" class="headerlink" title="图的顶点与边的关系"></a>图的顶点与边的关系</h3><ul><li>对于无向图 G=(V,{E}),如果边(v,v’)∈E,则称顶点 v 和v’互为<code>邻接点(Adjacent)</code>,即v和v’相邻接。边(v,v’)<code>依附(incident)</code>于顶点 v 和 v’,或者说(v,v’)与顶点v和v’相关联。顶点v的<code>度</code>(Degree)是和v相关联的边的数目,记为TD(v)。例如图7-2-8 左侧上方的无向图,顶点A与B互为邻接点,边(A,B) 依附于顶点 A与B上,顶点 A 的度为3。而此图的边数是5,各个顶点度的和=3+2+3+2=10,推敲后发现,边数就是各顶点度数和的一半,多出的一半是因为重复两次记数。</li><li>对于有向图 G= (V,{E}),如果弧<v,v'> ∈E,则称顶点v邻接到顶点v',顶点v'邻接自顶点v。弧<v,v'>和顶点 v,v’相关联。以顶点 v 为头的弧的数目称为v的<code>入度(InDegree)</code>,记为ID (v); 以v 为尾的弧的数目称为v的<code>出度(OutDegree)</code>,记为OD(v);顶点v的度为 TD (v) =ID (v) +OD (v)。例如下方的有向图,顶点A的入度是2(从B到A的弧,从C到A的弧),出度是1(从A到D的弧),所以顶点 A 的度为2+1=3。此有向图的弧有4条,而各顶点的出度和=1+2+1+0=4,各顶点的入度和=2+0+1+1=4。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907162007.png"/></div></div><ul><li><p>路径的长度是路径上的边或弧的数目。例如上图有向图从B到C再到A的路径长度为2。</p><div class="note warning no-icon flat"><p>树中根结点到任意结点的路径是唯一的,但是图中顶点与顶点之间的路径却是不唯一的。</p></div></li><li><p>第一个顶点和最后一个顶点相同的路径称为<code>回路或环(Cycle)</code>。序列中顶点不重复出现的路径称为<code>简单路径</code>。除了第一个顶点和最后一个顶点之外,其余顶点不重复出现的回路,称为<code>简单回路或简单环</code>。</p></li><li>两个图的粗线都构成环,左侧的环因第一个顶点和最后一个顶点都是B,且C、D、A 没有重复出现,因此是一个简单环。而右侧的环,由于顶点C的重复,它就不是简单环了。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907162818.png"/></div></div><h3 id="连通图相关术语"><a href="#连通图相关术语" class="headerlink" title="连通图相关术语"></a>连通图相关术语</h3><ul><li>在无向图 G中,如果从顶点v到顶点有路径,则称和是连通的。如果对于图中任意两个顶点v<sub>i</sub>,v<sub>j</sub>∈E，v<sub>i</sub>和v<sub>j</sub>都是连通的,则称 G 是<code>连通图(ConnectedGraph)</code>。</li><li>图1中它的顶点A到顶点B、C、D 都是连通的,但显然顶点A与顶点E或F就无路径,因此不能算是连通图。而图2,顶点A、B、C、D相互都是连通的,所以它本身是连通图。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907163339.png"/></div></div><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907163625.png"/></div></div><ul><li><strong>无向图中的极大连通子图称为连通分量。注意连通分量的概念,它强调:</strong><ul><li>要是子图;</li><li>子图要是连通的;</li><li>连通子图含有极大顶点数;</li><li>具有极大顶点数的连通子图包含依附于这些顶点的所有边。</li></ul></li><li>图1是一个无向非连通图。但是它有两个连通分量,即图2和图3.而图4,尽管是图1的子图,但是它却不满足连通子图的极大顶点数(图2满足)。因此它不是图1的无向图的连通分量。</li><li><strong>在有向图 G 中,如果对于每一对v<sub>i</sub>,v<sub>j</sub>∈V、v<sub>i</sub>≠v<sub>j</sub>,从v<sub>i</sub>到v<sub>j</sub>和从v<sub>j</sub>到v<sub>i</sub>到都存在路径,则称 G 是强连通图。有向图中的极大强连通子图称做有向图的强连通分量。</strong></li><li>图1并不是强连通图,因为顶点A到顶点D 存在路径,而D到A就在存在。图2就是强连通图,而且显然图2是图1的极大强连通子图,即是它的强连通分量。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907164137.png"/></div></div><ul><li>连通图的生成树定义：<ul><li>所谓的一个连通图的生成树是一个极小的连通子图,它含有图中全部的n 个顶点,但只有足以构成一棵树的 n-1 条边。</li><li>比如图1是一个普通图,但显然它不是生成树,当去掉两条构成环的边后,比如图 2 或图 3,就满足n 个顶点n-1条边且连通的定义了。它们都是一棵生成树。从这里也可知道,如果一个图有 n 个顶点和小于n-1条边,则是非连通图,如果它多于n-1 边条,必定构成一个环,因为这条边使得它依附的那两个顶点之间有了第二条路径。比如图 2 和图 3,随便加哪两顶点的边都将构成环。不过有n-1条边并不一定是生成树,比如图 4。</li></ul></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907164508.png"/></div></div><ul><li>如果一个有向图 有一个顶点的入度为0,其余顶点的入度均为1,则是一棵<code>有向树</code>。对有向树的理解比较容易,所谓入度为0其实就相当于树中的根结点,其余顶点入度为1 就是说树的非根结点的双亲只有一个。一个有向图的生成森林由若干棵有向树组成,含有图中全部顶点,但只有足以构成若干棵不相交的有向树的弧。如图1是一棵有向图。去掉一些弧后,它可以分解为两棵有向树,如图2和图3,这两棵就是图1有向图的生成森林。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907164623.png"/></div></div><h3 id="图的定义与属于总结"><a href="#图的定义与属于总结" class="headerlink" title="图的定义与属于总结"></a>图的定义与属于总结</h3><p>图的术语是真的多，看完感觉脑袋晕晕的，现在整理一下：</p><ul><li>图按照有无方向分为<code>无向图</code>和<code>有向图</code>。无向图由顶点和边构成,有向图由顶点和弧构成。弧有弧尾和弧头之分。</li><li>图按照边或弧的多少分<code>稀疏图</code>和<code>稠密图</code>。如果任意两个顶点之间都存在边叫<code>完全图</code>,有向的叫有向完全图。若无重复的边或顶点到自身的边则叫<code>简单图</code>。</li><li>图中顶点之间有<code>邻接点</code>、<code>依附</code>的概念。无向图顶点的边数叫做<code>度</code>,有向图顶点分为<code>入度</code>和<code>出度</code>。</li><li>图上的边或弧上带权则称为<code>网</code>。</li><li>图中顶点间存在路径,两顶点存在路径则说明是连通的,如果路径最终回到起始点则称为环,当中不重复叫简单路径。若任意两顶点都是连通的,则图就是<code>连通图</code>,有向则称<code>强连通图</code>。图中有子图,若子图极大连通则就是<code>连通分量</code>,有向的则称<code>强连通分量</code>。</li><li>无向图中连通且n 个顶点n-1 条边叫<code>生成树</code>。有向图中一顶点入度为0其余顶点入度为1的叫<code>有向树</code>。一个有向图由若干棵有向树构成生成森林。</li></ul><h2 id="图的存储结构"><a href="#图的存储结构" class="headerlink" title="图的存储结构"></a>图的存储结构</h2><ul><li>图的存储结构相较线性表与树来说就更加复杂了。我们口头上说的“顶点的位置”或“邻接点的位置”只是一个相对的概念。其实从图的逻辑结构定义来看,<strong>图上任何一个顶点都可被看成是第一个顶点,任一顶点的邻接点之间也不存在次序关系</strong>，因此无法靠数据元素在内存中的物理位置来表示元素之间的关系，即不可能靠简单的顺序存储结构来表示，靠多重链表的方式和树中一样会造成很多存储单元的浪费。</li><li>我们的前辈提供了五种存储结构：<ul><li>邻接矩阵</li><li>邻接表</li><li>十字链表</li><li>邻接多重表</li><li>边集数组</li></ul></li></ul><h2 id="图的遍历"><a href="#图的遍历" class="headerlink" title="图的遍历"></a>图的遍历</h2><ul><li>我们经常会面临找东西的问题，不找的东西时常见,需要的东西寻不着。找东西的策略也因人而异。有些人因为找东西没有规划,当一样东西找不到时,往往会反复地找,甚至某些抽屉找个四五遍,另一些地方却一次也没找过。</li><li>图的遍历和找东西类似，我们希望从图中某一顶点出发访遍图中其余顶点,且使每一个顶点仅被访问一次,这一过程就叫做<code>图的遍历 (Traversing Graph)</code>。</li><li>树的遍历共谈到了四种方案,应该说都还好,毕竟根结点只有一个,遍历都是从它发起,其余所有结点都只有一个双亲。可图的任一顶点都可能和其余的所有顶点相邻接,极有可能存在沿着某条路径搜索后,又回到原顶点,而有些顶点却还没有遍历到的情况。因此我们需要在遍历过程中把访问过的顶点打上标记,以避免访问多次而不自知。具体办法是设置一个访问数组 visited[n], n 是图中顶点的个数,初值为0,访问过后设置为 1。这其实在小说中常常见到,一行人在迷宫中迷了路,为了避免找寻出路时屡次重复,所以会在路口用小刀刻上标记。</li><li>对于图的遍历来说,如何避免因回路陷入死循环,就需要科学地设计遍历方案,通常有两种遍历次序方案:它们是<code>深度优先遍历</code>和<code>广度优先遍历</code>。<h3 id="深度优先遍历"><a href="#深度优先遍历" class="headerlink" title="深度优先遍历"></a>深度优先遍历</h3></li><li><strong>深度优先遍历(Depth_First_Search),也有称为深度优先搜索,简称为 DFS。</strong></li><li>可以通俗的理解为<strong>不撞南墙不回头</strong>，一直搜索某一个方向，直到该方向所以顶点均搜索完毕，再退回来，继续搜索其他方向的顶点，直到所有顶点都搜索完毕。<details class="folding-tag" ><summary> 搜索过程示例 </summary>              <div class='content'>              <p>比如现在我们要从A开始寻找下图中的I：</p><p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/XgN2k3Ce9VnUDaR.png"/></div>&lt;/div&gt;<br>路线可以是这样的：</p><p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/XO93w5N6tEMIhFZ.png"/></div>&lt;/div&gt;<br>顶点B有三个方向，我们可以先随便选一个方向看看：</p><p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/gFIJDkKEOe4bzl5.png"/></div>&lt;/div&gt;<br>此时来到K，我们发现K已经是一个死胡同，没有其他路了，那么此时我们就需要回到上一个路口，继续去探索其他的路径：</p><p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/NSUDtQTRZfoBnuY.png"/></div>&lt;/div&gt;<br>接着往下一个相邻的顶点G走，发现G有其他的分叉，那么我们就继续向前：</p><p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/sp39cE8yhT54F1R.png"/></div>&lt;/div&gt;<br>此时走到F发现又是死路，那么退回到G，走其他的方向：</p><p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/a8I7smtX6PK3NVe.png"/></div>&lt;/div&gt;<br>又到死胡同了，同样的，回到G继续走其他方向：</p><p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/o8MSFfkiHe1ptGV.png"/></div>&lt;/div&gt;<br>走到C之后，我们有其他的路，我们继续往后走：</p><p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/v4rlfJdkaWCIcOi.png"/></div>&lt;/div&gt;<br>此时走到顶点H，发现H只有一条路，并且H再向前是已经走过的顶点B，那么此时不能再向前了，所以说直接退回到C，走另一边：</p><p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/JCNUjlfpOgbkLIQ.png"/></div>&lt;/div&gt;<br>此时来到E，又有两条路，那么继续随便选一条走：</p><p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/IK1AZgGjXr3LqJm.png"/></div>&lt;/div&gt;<br>此时来到顶点J，发现又是死胡同，退回到E，继续走另一边：</p><p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/IK1AZgGjXr3LqJm.png"/></div>&lt;/div&gt;<br>经过了这么多试错，终于是找到了I顶点，这种方式就是<code>深度优先搜索</code>。</p>              </div>            </details><h3 id="广度优先遍历"><a href="#广度优先遍历" class="headerlink" title="广度优先遍历"></a>广度优先遍历</h3></li><li><code>广度优先遍历(Breadth_First_Search)</code>,又称为广度优先搜索,简称BFS。</li><li>以找钥匙为例，深度优先搜索是挨个房间查找，将这个房间的所有地方挨个查找后，若未找到则继续查找下一个房间，但我们一般不会把钥匙放到厨房的油烟机或者大衣柜的最顶上吧，而深度优先搜索则是，把这个房间的所有地方都查找一遍才查找下一个房间，这未必是最佳方案，所以我们可以先把家里所有房间简单看一遍，看看钥匙是不是放在显眼的位置，没有找到再找一找最常去的地方，这样一步步扩大查找的范围，直到找到为止，这就是广度优先遍历。</li><li>广度优先遍历和二叉树中的层序遍历类似，层序遍历实际上是优先将每一层进行遍历，图的搜索其实也可以采用这种方案，我们可以先探索顶点所有的分支，然后再依次去看这些分支的所有分支：<details class="folding-tag" ><summary> 搜索过程示例 </summary>              <div class='content'>              <div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/qm3OUZbv8XzFLiJ.png"/></div></div><p>依旧还是从A来到B，此时B有三条分叉路，我们依次访问这三条路的各个顶点：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/SCeXgptNDbdFkLi.png"/></div></div><p>我们先记录一下这三个顶点，同样需要使用队列来完成：H、G、K</p><p>注意访问之后不要再继续向下了，接着我们从这三个里面的第一个顶点H开始，按照同样的方法继续：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/t8c2KVLZM6qx4ui.png"/></div></div>此时因为只有一个分支，所以说找到C，继续记录，将C也添加进去：G、K、C注意此时需要回去，继续看之前三个顶点的第二个顶点G：<div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/Y5qFPAbanH4VcuM.png"/></div></div>此时C已经看过了，接着就找到了F和D，也是记录一下：K、C、F、D然后，我们继续看之前三个结点的最后一个:<div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/3yfDGmKzLbBhcsA.png"/></div></div>此时K已经是死胡同了，那么就结束，然后继续看下一个C：<div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/4aTCOYzlm3dLGbt.png"/></div></div>此时继续将E给记录进去：F、D、E，接着看D和F，也没有后续了，那么最后就只有E了：<div class="img-wrap"><div class="img-bg"><img class="img" src="https://oss.itbaima.cn/internal/markdown/2022/08/31/lWyvMUbSdsELVNI.png"/></div></div>              </div>            </details></li></ul><div class="note warning no-icon flat"><p>实际上广度优先遍历就是尽可能地扩展范围，多去探索广阔的土地，而不是死拽着一根不放</p></div><h3 id="两种遍历的区别"><a href="#两种遍历的区别" class="headerlink" title="两种遍历的区别"></a>两种遍历的区别</h3><ul><li>对比图的深度优先遍历与广度优先遍历算法,你会发现,它们在<strong>时间复杂度上是一样的,不同之处仅仅在于对顶点访问的顺序不同。</strong>可见两者在全图遍历上是没有优劣之分的,只是视不同的情况选择不同的算法。</li><li>不过如果图顶点和边非常多,不能在短时间内遍历完成,遍历的目的是为了寻找合适的顶点,那么选择哪种遍历就要仔细斟酌了。<ul><li>深度优先更适合目标比较明确,以找到目标为主要目的的情况</li><li>广度优先更适合在不断扩大遍历范围时找到相对最优解的情况。</li></ul></li></ul><h2 id="最小生成树"><a href="#最小生成树" class="headerlink" title="最小生成树"></a>最小生成树</h2><details class="folding-tag" yellow><summary> 引入 </summary>              <div class='content'>              <ul><li>假设你是电信的实施工程师,需要为一个镇的九个村庄架设通信网络做设计,村庄位置大致如图,其中vo~ve是村庄,之间连线的数字表示村与村间的可通达的直线距离,比如 vo 至1就是10公里(个别如vo与V6,V6与V8,V5与V7未测算距离是因为有高山或湖泊,不予考虑)。你们领导要求你必须用最小的成本完成这次任务。你说怎么办?<div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907175337.png"/></div></div></li><li><p>显然这是一个带权值的图,即网结构。所谓的最小成本,就是n个顶点,用n-1条边把一个连通图连接起来,并且使得权值的和最小。在这个例子里,每多一公里就多一份成本,所以只要让线路连线的公里数最少,就是最少成本了。</p></li><li><p>如果你加班加点,没日没夜设计出的结果是方案一(粗线为要架设线路),我想你离被炒鱿鱼应该是不远了(同学微笑)。因为这个方案比后两个方案多出60%的成本会让老板气晕过去的。</p></li></ul><p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907175551.png"/></div>&lt;/div&gt;</p><ul><li>方案三设计得非常巧妙,但也只以极其微弱的优势对方案二胜出,应该说很是侥幸。我们有没有办法可以精确计算出这种网图的最佳方案呢?答案当然是Yes。</li></ul>              </div>            </details><ul><li><p>在学习图的定义和术语时,曾经提到过,一个连通图的生成树是一个极小的连通子图,它含有图中全部的顶点,但只有足以构成一棵树n-1 条边，多一条会成环，少一条则无法连通。显然图中的三个方案都是网图的生成树。那么我们把构造连通网的最小代价生成树称为<code>最小生成树(Minimum Cost Spanning Tree)</code>，最小生成树主要针对于无向图。</p></li><li><p>找连通网的最小生成树,经典的有两种算法：<code>普里姆算法</code>和<code>克鲁斯卡尔算法</code>。</p><div class="note danger no-icon flat"><p><strong>普利姆算法和克鲁斯卡尔算法都是典型的贪心算法，其核心逻辑完全遵循贪心算法 “每一步都选择当前最优解，最终期望得到全局最优解” 的设计思想</strong></p></div><h3 id="普里姆算法"><a href="#普里姆算法" class="headerlink" title="普里姆算法"></a>普里姆算法</h3></li><li><p><code>普利姆算法(Prim Algorithm)</code>，也可以通俗的理解为<code>加点法</code></p></li><li>基本思路：从图中任意选择一个顶点作为起始点，然后每次选择一个与当前生成树连通的顶点中距离最小的顶点，将其加入到生成树中。重复这个过程，直到所有顶点都被加入到生成树中。</li></ul><ol><li>如图a，首先从图中任意取出一个顶点，这里取出顶点0，此时跟顶点0连接的三条边长分别为5,1,2，最小的边长为1</li><li>如图b，选择最小的边长，将两个顶点连接起来，接着寻找和顶点0以及顶点2连接的各条边，此时各边长分别为5,3,2,6,2,最小的边长为2</li><li>如图c，选择边长为2的边,因为有两条边长为2,所以可以任意选一个顶点，检查是否有顶点与该顶点连通，如果没有连通则连接该顶点，如果有连通，则换一个顶点。</li><li>如图d，重复上面的步骤，此时可选的边长共有5,3,2,3(没有6是因为2和3是连通的所以不作考虑)接着选择另一个边长为2的边，将其连接</li><li>如图e，重复上面的步骤，此时可选的边长共有5,3,3,4,最小的边长为3，此时所有顶点都已经并入生成树，求得最小生成树</li></ol><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907192315.png"/></div></div><div class="note danger no-icon flat"><p>普利姆算法是以找点为核心，边是根据距离顺带加入的，所以<strong>普利姆算法更适用于稠密图</strong></p></div><h3 id="克鲁斯卡尔算法"><a href="#克鲁斯卡尔算法" class="headerlink" title="克鲁斯卡尔算法"></a>克鲁斯卡尔算法</h3><ul><li><code>克鲁斯卡尔算法(Kruskal Algorithm)</code>，可以通俗的理解为加边法</li><li>基本思路：每次找出候选边中权值最小的边，并将该边并入生成树中，重复此过程直到所有边都被检测完为止</li></ul><ol><li>如图a，搜索所有边，将所有边按照权值从小到大排序，得到1&lt;2=2&lt;3=3&lt;4&lt;5&lt;6</li><li>如图b，选择权值最小的边，将其加入到生成树中，此时生成树只有一个顶点，所以不会成环</li><li>如图c，重复上面的步骤，选择权值为2的边，因为有两条边权值为2，随机选一条将其加入到生成树中，此时生成树有两个顶点，所以不会成环</li><li>如图d，重复上面的步骤，选择另一条权值为2的边，将其加入到生成树中，此时生成树有三个顶点，所以不会成环</li><li>如图e，重复上面的步骤，选择权值为3的边，有两条，但发现其中一条3和4是连通的所以跳过这条边，而另一条是不连通的，将其加入到生成树中</li><li>可以继续检测下面的边，但此时所有顶点都已经连通，故无论增加哪条边都会成环，故现在已经求得最小生成树<div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250907194237.png"/></div></div></li></ol><div class="note danger no-icon flat"><p>克鲁斯卡尔算法是以找边为核心，所以<strong>克鲁斯卡尔算法更适用于稀疏图</strong></p></div><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul><li>对比两个算法，克鲁斯卡尔算法主要是针对边来展开，边数少时效率会非常高，所以对于稀疏图有很大的优势；而普里姆算法对于稠密<br>图，即边数非常多的情况会更好一些。</li><li>无论是普利姆算法还是克鲁斯卡尔算法，所求得的无向图最小生成树都不一定是唯一的，但他们的边权和一定是唯一的</li></ul><h2 id="最短路径"><a href="#最短路径" class="headerlink" title="最短路径"></a>最短路径</h2><ul><li>在网图和非网图中，最短路径的含义是不同的。<ul><li>非网图它没有边上的权值，所谓的最短路径，其实就是指两顶点之间经过的边数最少的路径；</li><li>对于网图来说，最短路径，是指两顶点之间经过的边上权值之和最少的路径，并且我们称路径上的第一个顶点是源点，最后一个顶点是终点。</li></ul></li><li>显然，研究网图的最短路径更有意义，有两种算法求最短路径的算法，分别是<code>迪杰斯特拉算法</code>和<code>弗洛伊德算法</code></li></ul><h3 id="迪杰斯特拉算法"><a href="#迪杰斯特拉算法" class="headerlink" title="迪杰斯特拉算法"></a>迪杰斯特拉算法</h3><ul><li>算法思想：<ul><li>假设有两个顶点集合S和T，集合S中存放图中已找到最短路径的顶点，集合T存放图中剩余顶点。</li><li>初始状态集合S只包含源点a,然后不断从集合T中选取到顶点a路径最短的顶点a’并加入到集合S中</li><li><strong>集合S每次并入一个新顶点a’，都要修改顶点a到集合T中顶点的最短路径的长度</strong></li><li>不断重复该过程，直到集合T中的顶点全部并入到S为止</li></ul></li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/7900420009e17da01dbace0e4ecb4b52.jpg"/></div></div><p>寻找a到各顶点的最短路径：</p><ol><li>初始化先将a到b,c,d,e,f的路径全部设为∞，每当有路径先找寻距离a最近的顶点，a到b的权值为2，a到c的权值为5，故a到b此时为最短路径，将b添加到终点集</li><li></li></ol>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python基础</title>
      <link href="/2025/08/30/python-python/"/>
      <url>/2025/08/30/python-python/</url>
      
        <content type="html"><![CDATA[<h1 id="第一章"><a href="#第一章" class="headerlink" title="第一章"></a>第一章</h1><h2 id="字面量"><a href="#字面量" class="headerlink" title="字面量"></a>字面量</h2><ul><li>定义：在代码中，被写下来的固定的值，称之为字面量。</li><li>Python有六种常用的数据类型<div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250830165514.png"/></div></div></li></ul><h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><ul><li>定义：对代码进行解释说明的文字</li><li>作用：对代码进行解释说明，注释不会被执行，只是用来增强程序的可读性</li><li>语法：<ul><li>单行注释：以#开头，#右边的所有文字都会当作说明</li><li>多行注释：以一对三个双引号引起来</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 我是单行注释</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">我是多行注释</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><div class="note warning no-icon flat"><p>注意：#号和注释内容一般建议以一个空格隔开。</p></div><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><ul><li>定义：程序运行时用来储存计算结果或表示值的抽象概念。简单来说变量是<code>存储数据</code>用的</li><li>变量的定义格式：<code>变量名</code> = <code>值</code></li><li>在Python中，一个变量名可以定义多次，定义的值会覆盖掉之前定义的值</li></ul><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>可以通过type(变量)，查看变量的数据类型，type(变量)的返回值就是该数据的数据类型<br><div class="note warning no-icon flat"><p>注意：变量是无类型的，变量存储的数据是有类型的。</p></div></p><h2 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h2><ul><li>数据类型之间，在特定的场景下，是可以相互转换的，如字符串转数字，数字转字符串等。</li><li>常见的转换语句</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">这三个语句都是带有结果的（返回值）</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="built_in">int</span>(x) <span class="comment">#将x转换为一个整数</span></span><br><span class="line"><span class="built_in">float</span>(x) <span class="comment">#将x转换为一个浮点数</span></span><br><span class="line"><span class="built_in">str</span>(x) <span class="comment">#将x转换为一个字符串</span></span><br></pre></td></tr></table></figure><div class="note warning no-icon flat"><p>浮点数转整数会丢失精度，因为整数是没有小数点的</p></div><h2 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h2><ul><li>定义：在编程的时候所使用的一系列名字，用于给变量、类、方法等命名。</li><li>命名规则：<ul><li><code>内容限定</code>：只允许出现：英文、中文(不推荐使用)、数字(不可以用在开头)、下划线（__）</li><li><code>​大小写敏感</code>：大小写可以完全区分</li><li><code>​不可使用关键字</code>：如int、float、str等</li></ul></li><li>命名规范：见名知意、下划线命名法(多个单词组合变量名，需使用下划线做分隔)、英文字母全小写。</li></ul><h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><ul><li>算术运算符<div class="note no-icon flat"><p>以下实例中a=10,b=20</p></div></li></ul><div class="table-container"><table><thead><tr><th style="text-align:center">运算符</th><th style="text-align:center">描述</th><th style="text-align:center">实例</th></tr></thead><tbody><tr><td style="text-align:center">+</td><td style="text-align:center">加</td><td style="text-align:center">a+b=30</td></tr><tr><td style="text-align:center">—</td><td style="text-align:center">减</td><td style="text-align:center">a-b=-10</td></tr><tr><td style="text-align:center">*</td><td style="text-align:center">乘</td><td style="text-align:center">a*b=200</td></tr><tr><td style="text-align:center">/</td><td style="text-align:center">除（含小数）</td><td style="text-align:center">a/b=0.5</td></tr><tr><td style="text-align:center">//</td><td style="text-align:center">取整数</td><td style="text-align:center">a//b=0</td></tr><tr><td style="text-align:center">%</td><td style="text-align:center">取余</td><td style="text-align:center">a%b=10</td></tr><tr><td style="text-align:center">**</td><td style="text-align:center">指数</td><td style="text-align:center">a**b输出结果为10的20次方</td></tr></tbody></table></div><ul><li>赋值运算符</li></ul><div class="table-container"><table><thead><tr><th style="text-align:center">运算符</th><th style="text-align:center">描述</th><th style="text-align:center">实例</th></tr></thead><tbody><tr><td style="text-align:center">=</td><td style="text-align:center">赋值</td><td style="text-align:center">a=10</td></tr><tr><td style="text-align:center">+=</td><td style="text-align:center">加法赋值</td><td style="text-align:center">a+=10等效于a=a+10</td></tr><tr><td style="text-align:center">-=</td><td style="text-align:center">减法赋值</td><td style="text-align:center">a-=10等效于a=a-10</td></tr><tr><td style="text-align:center">*=</td><td style="text-align:center">乘法赋值</td><td style="text-align:center">a<em>=10等效于a=a</em>10</td></tr><tr><td style="text-align:center">/=</td><td style="text-align:center">除法赋值</td><td style="text-align:center">a/=10等效于a=a/10</td></tr><tr><td style="text-align:center">//=</td><td style="text-align:center">取整除赋值</td><td style="text-align:center">a//=10等效于a=a//10</td></tr><tr><td style="text-align:center">%=</td><td style="text-align:center">取余赋值</td><td style="text-align:center">a%=10等效于a=a%10</td></tr><tr><td style="text-align:center">**=</td><td style="text-align:center">指数赋值</td><td style="text-align:center">a<strong>=10等效于a=a</strong>10</td></tr></tbody></table></div><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><h3 id="定义方法"><a href="#定义方法" class="headerlink" title="定义方法"></a>定义方法</h3><ol><li>单引号定义法<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str1=<span class="string">&#x27;hello world&#x27;</span></span><br><span class="line">str2 = <span class="string">&#x27;It\&#x27;s a cat&#x27;</span>     <span class="comment"># 内部包含单引号时，需用反斜杠 \ 转义</span></span><br><span class="line">str3 = <span class="string">&#x27;He said: &quot;Hello&quot;&#x27;</span><span class="comment"># 内部包含双引号时，无需转义</span></span><br></pre></td></tr></table></figure></li><li>双引号定义法<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str4=<span class="string">&quot;hello world&quot;</span></span><br><span class="line">str5 = <span class="string">&quot;It&#x27;s a cat&quot;</span>     <span class="comment"># 内部包含单引号时，无需转义</span></span><br><span class="line">str6 = <span class="string">&quot;He said: \&quot;Hello\&quot;&quot;</span><span class="comment"># 内部包含双引号时，需用反斜杠 \ 转义</span></span><br></pre></td></tr></table></figure></li><li>三引号定义法<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">三引号的特点是：</span></span><br><span class="line"><span class="string"> 1. 支持直接换行（无需用 \n 转义），保留文本的原始格式</span></span><br><span class="line"><span class="string"> 2. 内部可以自由包含单引号和双引号，无需额外转义</span></span><br><span class="line"><span class="string"> 3. 常用来定义多行文本（如文档字符串、SQL 语句、HTML 代码等）</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>p</span><br><span class="line">str7=<span class="string">&#x27;&#x27;&#x27;hello world&#x27;&#x27;&#x27;</span></span><br><span class="line">str8 = <span class="string">&quot;&quot;&quot;It&#x27;s a cat&quot;&quot;&quot;</span>  <span class="comment"># 内部包含单引号时，无需转义</span></span><br><span class="line">str9 = <span class="string">&#x27;&#x27;&#x27;It&#x27;s a cat&#x27;&#x27;&#x27;</span>  <span class="comment"># 内部包含双引号时，无需转义</span></span><br><span class="line"></span><br><span class="line">str10 = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">         He said: </span></span><br><span class="line"><span class="string">         &quot;Hello world!&quot; </span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="拼接"><a href="#拼接" class="headerlink" title="拼接"></a>拼接</h3><ul><li>字符串支架可以通过+号进行拼接<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str11 = <span class="string">&quot;hello&quot;</span> + <span class="string">&quot; &quot;</span> + <span class="string">&quot;world&quot;</span></span><br><span class="line"><span class="built_in">print</span>(str11)</span><br></pre></td></tr></table></figure></li></ul><h3 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h3><ul><li>格式化语法： “%占位符 “ %(变量1,变量2,变量3)</li><li>常用占位符<br>|格式符号|转化|<br>|:——-:|:—-:|<br>|%s|将内容转换为字符串，放入占位位置|<br>|%d|将内容转换为整数，放入占位位置|<br>|%f|将内容转换为浮点数，放入占位位置|<ul><li>快速格式化</li></ul></li><li>语法：f”字符串{变量1}字符串{变量2}字符串”</li><li>快速格式化不关注类型，也不能精度控制，只适合没有其他要求时快速使用</li></ul><h3 id="字符串格式化的精度控制"><a href="#字符串格式化的精度控制" class="headerlink" title="字符串格式化的精度控制"></a>字符串格式化的精度控制</h3><ul><li>可以通过使用辅助符号”m,n”来控制数据的<code>宽度</code>和<code>精度</code><ul><li>m表示数据的最小宽度,要求必须是数字，设置的宽度小于数字自身时不生效</li><li>n表示小数点的精度，要求是数字，会进行<code>四舍五入</code></li></ul></li></ul><div class="tabs" id="字符串格式化"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#字符串格式化-1">精度控制示例</button></li><li class="tab"><button type="button" data-href="#字符串格式化-2">示例代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="字符串格式化-1"><blockquote><p>这是一个设置宽度为2位的数字：123<br>这是一个宽度为五位的数字：  123<br>这是一个有两位小数的数字：111.11<br>这是一个宽度为五位,且有两位小数的数字：123.46<br> a=123<br>   b=123.456<br>   c=111.111</p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="字符串格式化-2"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">123</span></span><br><span class="line">b=<span class="number">123.456</span></span><br><span class="line">c=<span class="number">111.111</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;这是一个设置宽度为2位的数字：%2d&quot;</span> %a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;这是一个宽度为五位的数字：%5d&quot;</span> %a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;这是一个有两位小数的数字：%0.2f&quot;</span> %c)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;这是一个宽度为五位,且有两位小数的数字：%5.2f&quot;</span> %b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot; a=<span class="subst">&#123;a&#125;</span> \n b=<span class="subst">&#123;b&#125;</span> \n c=<span class="subst">&#123;c&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="输入函数"><a href="#输入函数" class="headerlink" title="输入函数"></a>输入函数</h2><ul><li>语法：input(“提示信息”)</li><li>功能：用于接收用户输入的信息</li><li>返回值：无论用户输入哪种类型的信息，默认都是字符串型</li><li>示例：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="built_in">input</span>(<span class="string">&quot;请输入您的姓名：&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;您的姓名是：<span class="subst">&#123;name&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><h1 id="第二章"><a href="#第二章" class="headerlink" title="第二章"></a>第二章</h1><h2 id="布尔类型和比较运算符"><a href="#布尔类型和比较运算符" class="headerlink" title="布尔类型和比较运算符"></a>布尔类型和比较运算符</h2><ul><li>布尔类型：只有两个值True和False</li><li>布尔值可以和数字进行运算，True等价于1，False等价于0</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">t=<span class="literal">True</span></span><br><span class="line">f=<span class="literal">False</span></span><br><span class="line"><span class="built_in">print</span>(t+<span class="number">1</span>)  <span class="comment">#输出结果为2</span></span><br><span class="line"><span class="built_in">print</span>(f+<span class="number">1</span>)  <span class="comment">#输出结果为1</span></span><br></pre></td></tr></table></figure><ul><li>比较运算符</li></ul><div class="table-container"><table><thead><tr><th>运算符</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>==</td><td>判断内容是否<code>相等</code>，满足为True，不满足为False</td><td>如a=5,b=3,则（a==b)为False</td></tr><tr><td>!=</td><td>判断内容是否<code>不相等</code>，满足为True，不满足为False</td><td>如a=5,b=3,则（a!=b)为True</td></tr><tr><td>&gt;</td><td>判断运算符左侧内容是否<code>大于</code>右侧，满足为True，不满足为False</td><td>如a=5,b=3,则（a &gt; b)为True</td></tr><tr><td>&lt;</td><td>判断运算符左侧内容是否<code>小于</code>右侧，满足为True，不满足为False</td><td>如a=5,b=3,则（a &lt; b)为False</td></tr><tr><td>&gt;=</td><td>判断运算符左侧内容是否<code>大于等于</code>右侧，满足为True，不满足为False</td><td>如a=5,b=3,则（a&gt;=b)为True</td></tr><tr><td>&lt;=</td><td>判断运算符左侧内容是否<code>小于等于</code>右侧，满足为True，不满足为False</td><td>如a=5,b=3,则（a&lt;=b)为False</td></tr></tbody></table></div><h2 id="if语句"><a href="#if语句" class="headerlink" title="if语句"></a>if语句</h2><ul><li>语法格式</li></ul><div class="note warning no-icon 注意 flat"><p>判断条件的结果必须是<code>布尔类型</code>；不要忘记判断条件后的:冒号；<br>python根据缩进层级来判断语句的归属，必须严格要求缩进</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">当满足if或elif语句的条件时，会执行if语句下的代码块；</span></span><br><span class="line"><span class="string">执行结束后会直接跳出该if块，不会执行其他的if语句或elif语句</span></span><br><span class="line"><span class="string">当所有if和elif的条件均不满足时，会执行else语句下的代码块；</span></span><br><span class="line"><span class="string">如果没有else语句，且所有条件均不满足时，程序会直接跳过if语句，继续执行后续代码。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">if</span> 条件表达式<span class="number">1</span>:</span><br><span class="line">    语句块<span class="number">1</span></span><br><span class="line"><span class="keyword">elif</span> 条件表达式<span class="number">2</span>:</span><br><span class="line">    语句块<span class="number">2</span></span><br><span class="line"><span class="keyword">elif</span> 条件表达式<span class="number">3</span>：</span><br><span class="line">    语句块<span class="number">3</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    语句块<span class="number">4</span></span><br></pre></td></tr></table></figure><h2 id="嵌套if语句"><a href="#嵌套if语句" class="headerlink" title="嵌套if语句"></a>嵌套if语句</h2><ul><li>定义：在一个if语句块中，再嵌套一个if语句</li><li>语法格式</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 满足条件1，再判断条件表达式2，若满足，执行语句块2，若不满足，执行语句块3</span></span><br><span class="line"><span class="comment"># 不满足条件1，直接执行语句块4</span></span><br><span class="line"><span class="keyword">if</span> 条件表达式<span class="number">1</span>:</span><br><span class="line">    语句块<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> 条件表达式<span class="number">2</span>:</span><br><span class="line">        语句块<span class="number">2</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        语句块<span class="number">3</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    语句块<span class="number">4</span></span><br></pre></td></tr></table></figure><div class="note warning no-icon if嵌套 flat"><p>嵌套判断语句可以用于多条件、多层次的逻辑判断；<br>嵌套判断语句可以根据需求，自由组合if elif else来构建多层次判断；<br>嵌套判断语句，一定要注意空格缩进，Python通过空格缩进来决定层次关系。</p></div><h1 id="第三章"><a href="#第三章" class="headerlink" title="第三章"></a>第三章</h1><h2 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h2><h3 id="语法格式"><a href="#语法格式" class="headerlink" title="语法格式"></a>语法格式</h3><ul><li>定义：在满足条件的情况下，重复执行某段代码</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 条件表达式:</span><br><span class="line">    执行语句<span class="number">1</span></span><br><span class="line">    执行语句<span class="number">2</span></span><br><span class="line">    执行语句<span class="number">3</span></span><br><span class="line">    执行语句<span class="number">4</span></span><br><span class="line">    ……</span><br></pre></td></tr></table></figure><div class="note warning no-icon 注意 flat"><p>条件需提供布尔类型结果，True则执行，False则跳过；空格缩进需严格执行；设置好循环终止条件﹐否则将无限循环。</p></div><h3 id="嵌套循环"><a href="#嵌套循环" class="headerlink" title="嵌套循环"></a>嵌套循环</h3><ul><li>定义：在一个while循环体内，再嵌套一个while循环</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 条件表达式<span class="number">1</span>:</span><br><span class="line">    执行语句<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> 条件表达式<span class="number">2</span>:</span><br><span class="line">        执行语句<span class="number">2</span></span><br><span class="line">    执行语句<span class="number">3</span></span><br></pre></td></tr></table></figure><div class="tabs" id="嵌套循环"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#嵌套循环-1">示例代码</button></li><li class="tab"><button type="button" data-href="#嵌套循环-2">输出结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="嵌套循环-1"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> a&lt;<span class="number">5</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;上部while循环，此时a的值为：&quot;</span>,a)</span><br><span class="line">    a+=<span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> a&lt;<span class="number">3</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;内部while循环，此时a的值为：&quot;</span>,a)</span><br><span class="line">        a+=<span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;底部while循环，此时a的值为：&quot;</span>,a)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;循环结束，此时a的值为：&quot;</span>,a)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="嵌套循环-2"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">上部<span class="keyword">while</span>循环，此时a的值为： <span class="number">1</span></span><br><span class="line">内部<span class="keyword">while</span>循环，此时a的值为： <span class="number">2</span></span><br><span class="line">底部<span class="keyword">while</span>循环，此时a的值为： <span class="number">3</span></span><br><span class="line">上部<span class="keyword">while</span>循环，此时a的值为： <span class="number">3</span></span><br><span class="line">底部<span class="keyword">while</span>循环，此时a的值为： <span class="number">4</span></span><br><span class="line">上部<span class="keyword">while</span>循环，此时a的值为： <span class="number">4</span></span><br><span class="line">底部<span class="keyword">while</span>循环，此时a的值为： <span class="number">5</span></span><br><span class="line">循环结束，此时a的值为： <span class="number">5</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="补充知识点"><a href="#补充知识点" class="headerlink" title="补充知识点"></a>补充知识点</h3><ul><li>在python中使用<code>print</code>函数默认换行，该如何实现输出不换行呢？</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>（<span class="string">&quot;hello&quot;</span>,end=<span class="string">&#x27;&#x27;</span>）</span><br><span class="line"><span class="built_in">print</span>（<span class="string">&quot;world&quot;</span>,end=<span class="string">&#x27;&#x27;</span>）</span><br></pre></td></tr></table></figure><ul><li>制表符:<code>\t</code></li><li>实现九九乘法表</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">i=<span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">9</span> :</span><br><span class="line">    j = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> j &lt;= i:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;j&#125;</span>*<span class="subst">&#123;i&#125;</span>=<span class="subst">&#123;i*j&#125;</span>&quot;</span>,end=<span class="string">&quot;\t&quot;</span>)</span><br><span class="line">        j+=<span class="number">1</span></span><br><span class="line">    i+=<span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h2><h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 变量 <span class="keyword">in</span> 序列:</span><br><span class="line">    循环体</span><br></pre></td></tr></table></figure><ul><li>实现内容统计</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">name1 = <span class="string">&quot;itheima is a brand of itcast&quot;</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> name1:</span><br><span class="line">    <span class="keyword">if</span> x == <span class="string">&#x27;a&#x27;</span>:</span><br><span class="line">        i+=<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;一共有%d个a&quot;</span>%i)</span><br></pre></td></tr></table></figure><div class="note warning no-icon 注意 flat"><p>for循环中的变量，只在for循环中生效，循环结束后，变量就会被销毁</p></div><div class="note default no-icon 注意 flat"><p>但这种限定是编程规范的限定，在Python中非强制限定；不遵守也能正常运行，但是不建议这样做；如需访问临时变量，可以预先在循环外定义它</p></div><h3 id="range函数"><a href="#range函数" class="headerlink" title="range函数"></a>range函数</h3><ul><li><strong>定义</strong>：用于生成一个整数序列</li><li><strong>语法格式</strong><ul><li>语法一：range(num)</li><li>语法二：range(start,stop)</li><li>语法三：range(start,stop,step)</li></ul></li><li><strong>解释</strong><ul><li>语法一表示从0开始，到num结束，不包含num</li><li>语法二表示从start开始，到stop结束，不包含stop</li><li>语法三表示从start开始，到stop结束，不包含stop，步长为step</li></ul></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#range语法1 range(num)</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="comment"># 输出0-9,不包含10</span></span><br><span class="line">    <span class="built_in">print</span>(x)</span><br><span class="line"><span class="comment">#range语法2 range(num1,num2)</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>,<span class="number">10</span>):</span><br><span class="line">    <span class="comment"># 输出5-9的一个数字序列,不包含10</span></span><br><span class="line">    <span class="built_in">print</span>(x)</span><br><span class="line"><span class="comment">#range语法3 range(num1,num2,step)</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>,<span class="number">10</span>,<span class="number">2</span>):</span><br><span class="line">    <span class="comment"># 输出5,7,9的一个数字序列,数字间隔为2,不包含10</span></span><br><span class="line">    <span class="built_in">print</span>(x)</span><br></pre></td></tr></table></figure><h3 id="for循环嵌套"><a href="#for循环嵌套" class="headerlink" title="for循环嵌套"></a>for循环嵌套</h3><ul><li>定义：在一个for循环体内，再嵌套一个for循环    </li><li>语法格式<blockquote><p>for循环和while循环可以相互嵌套使用</p></blockquote></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 变量<span class="number">1</span> <span class="keyword">in</span> 序列<span class="number">1</span>:</span><br><span class="line">    循环体<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> 变量<span class="number">2</span> <span class="keyword">in</span> 序列<span class="number">2</span>:</span><br><span class="line">        循环体<span class="number">2</span></span><br></pre></td></tr></table></figure><h2 id="continue和break"><a href="#continue和break" class="headerlink" title="continue和break"></a>continue和break</h2><ul><li><p><code>continue</code>:中断所在循环的当次执行，直接进入下一次</p></li><li><p><code>break</code>:直接结束所在循环</p></li></ul><div class="note warning no-icon 注意 flat"><p>continue和break在for和while循环中作用一致；<br>并且在嵌套循环中，只能作用在所在的循环上，无法对上层循环起作用</p></div><h1 id="第四章"><a href="#第四章" class="headerlink" title="第四章"></a>第四章</h1><h2 id="函数是什么"><a href="#函数是什么" class="headerlink" title="函数是什么"></a>函数是什么</h2><ul><li>函数是<code>组织好的</code>，<code>可重复使用的</code>，用来<code>实现特定功能</code>的代码块</li><li>函数的好处<ul><li>实现特定功能</li><li>可供随时随地重复利用</li><li>提高代码的复用性，减少重复代码，提高代码的可维护性</li><li>提高开发效率。</li></ul></li></ul><h2 id="定义语法"><a href="#定义语法" class="headerlink" title="定义语法"></a>定义语法</h2><ul><li>当没有参数时，参数列表可以省略，但是括号不能省略</li><li>当函数有返回值时，return语句必须写，且必须返回一个值</li><li>当函数没有返回值时，return语句可以省略<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">函数名</span>(<span class="params">参数<span class="number">1</span>,参数<span class="number">2</span>,参数<span class="number">3</span></span>):</span><br><span class="line">    函数体</span><br><span class="line">    <span class="keyword">return</span> 返回值</span><br></pre></td></tr></table></figure><div class="note warning no-icon 函数 flat"><p>函数必须先定义再使用</p></div></li></ul><h2 id="传入参数"><a href="#传入参数" class="headerlink" title="传入参数"></a>传入参数</h2><ul><li>传入参数的定义<ul><li><code>形式参数</code>：定义函数时，括号中的参数，称为形式参数</li><li><code>实际参数</code>：调用函数时，括号中的参数，称为实际参数</li></ul></li><li>传入参数的类型<ul><li>位置参数<ul><li>最常见的参数类型，必须按照定义的顺序传递</li><li>例如：def func(a, b): … 调用时 func(1, 2)</li></ul></li><li>关键字参数<ul><li>通过参数名指定值，不依赖顺序</li><li>例如：func(a=1, b=2) 或 func(b=2, a=1)</li></ul></li><li>默认参数<ul><li>定义函数时指定默认值，调用时可省略</li><li>默认参数以后的参数必须定义为默认参数</li><li>例如：def func(a, b=2): … 调用时 func(1) 等效于 func(1, 2)</li></ul></li><li>可变参数<ul><li>接收任意数量的位置参数，用 *args 表示</li><li>例如：def func(*args): … 调用时 func(1, 2, 3)，args 会成为元组 (1, 2, 3)<div class="tabs" id="传入参数"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#传入参数-1">位置参数</button></li><li class="tab"><button type="button" data-href="#传入参数-2">关键字参数</button></li><li class="tab"><button type="button" data-href="#传入参数-3">默认参数</button></li><li class="tab"><button type="button" data-href="#传入参数-4">可变参数</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="传入参数-1"><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">x,y</span>):</span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line"><span class="built_in">print</span>(add(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">输出结果：</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="传入参数-2"><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">MyPrint</span>(<span class="params">a,b</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;a= %d&quot;</span> %a)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;b= %d&quot;</span> %b)</span><br><span class="line"></span><br><span class="line">MyPrint(b=<span class="number">1</span>,a=<span class="number">2</span>)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">输出结果：</span></span><br><span class="line"><span class="string">    a= 2</span></span><br><span class="line"><span class="string">    b= 1</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="传入参数-3"><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">MyPrint</span>(<span class="params">a=<span class="number">1</span>,b=<span class="number">2</span></span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;a= %d&quot;</span> %a)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;b= %d&quot;</span> %b)</span><br><span class="line"></span><br><span class="line">MyPrint(<span class="number">1</span>)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">输出结果：</span></span><br><span class="line"><span class="string">    a= 1</span></span><br><span class="line"><span class="string">    b= 2</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250901170006.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="传入参数-4"><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">MyPrint</span>(<span class="params">* args</span>):</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> args:</span><br><span class="line">        <span class="built_in">print</span>(x)</span><br><span class="line">    <span class="built_in">print</span>(args)</span><br><span class="line"></span><br><span class="line">MyPrint(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">输出结果：</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">    9</span></span><br><span class="line"><span class="string">    8</span></span><br><span class="line"><span class="string">    7</span></span><br><span class="line"><span class="string">    (1, 2, 3, 9, 8, 7)</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ul></li></ul></li></ul><h2 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h2><ul><li>函数的返回值，通过<code>return</code>关键字返回</li><li>当函数没有返回值时，默认返回<code>None</code></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">MyAdd</span>(<span class="params">a,b</span>):</span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line">    <span class="built_in">print</span>(b)</span><br><span class="line"></span><br><span class="line">a=MyAdd(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">输出结果：</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    None</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><h2 id="None类型"><a href="#None类型" class="headerlink" title="None类型"></a>None类型</h2><ul><li><code>None</code>是Python的一个特殊类型，用于表示<code>空值</code>或<code>不存在</code>的情况</li><li>它是一个<code>唯一的对象</code>，在内存中只有一个实例</li><li>可以将<code>None</code>赋值给变量，用于表示变量当前没有值</li><li>不使用return语句返回时，函数默认返回<code>None</code></li><li>使用场景：<ul><li>函数返回值</li><li>if判断</li><li>变量定义</li></ul></li></ul><h2 id="函数说明文档"><a href="#函数说明文档" class="headerlink" title="函数说明文档"></a>函数说明文档</h2><ul><li>作用：对函数的参数，作用返回类型等进行说明</li><li>语法格式<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">函数名</span>(<span class="params">参数x,参数y</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    函数说明文档</span></span><br><span class="line"><span class="string">    :param 参数x: 参数x的说明</span></span><br><span class="line"><span class="string">    :param 参数y: 参数y的说明</span></span><br><span class="line"><span class="string">    :return: 返回x+y的值</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    函数体</span><br><span class="line">    <span class="keyword">return</span> x + y</span><br></pre></td></tr></table></figure></li></ul><h2 id="函数嵌套调用"><a href="#函数嵌套调用" class="headerlink" title="函数嵌套调用"></a>函数嵌套调用</h2><ul><li>定义：在一个函数中调用另一个函数</li><li>执行流程: 函数A中执行到调用函数B的语句，会将函数B全部执行完成后，继续执行函数A的剩余内容。</li></ul><h2 id="变量在函数中的作用域"><a href="#变量在函数中的作用域" class="headerlink" title="变量在函数中的作用域"></a>变量在函数中的作用域</h2><ul><li><p><code>局部变量</code>：作用范围在函数内部，在函数外部无法使用。</p></li><li><p><code>全局变量</code>：在函数内部和外部均可使用。</p></li><li><p>如何将函数内定义的变量声明为全局变量</p><ul><li>使用global关键字</li></ul></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">myfunction</span>(<span class="params">x,y</span>):</span><br><span class="line">    <span class="keyword">global</span> c </span><br><span class="line">    c = x+y</span><br><span class="line"></span><br><span class="line">myfunction(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br></pre></td></tr></table></figure><h1 id="第五章"><a href="#第五章" class="headerlink" title="第五章"></a>第五章</h1><h2 id="数据容器"><a href="#数据容器" class="headerlink" title="数据容器"></a>数据容器</h2><ul><li>定义：一种可以容纳多份数据的数据类型，容纳的每一份数据称之为元素，可以是任意类型的数据，如字符串、数字、布尔等。</li><li>容器的种类：<ul><li>list（列表）</li><li>tuple（元组）</li><li>str（字符串）</li><li>dict（字典）</li><li>set（集合）</li></ul></li></ul><h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><h3 id="基本语法："><a href="#基本语法：" class="headerlink" title="基本语法："></a>基本语法：</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个列表</span></span><br><span class="line">a = [元素<span class="number">1</span>,元素<span class="number">2</span>,元素<span class="number">3</span>, ... ]</span><br><span class="line"><span class="comment"># 创建一个空列表</span></span><br><span class="line">b = []</span><br><span class="line">c = <span class="built_in">list</span>()</span><br></pre></td></tr></table></figure><ul><li>列表中的元素可以是任意类型，如字符串、数字、布尔，甚至元素也可以是列表。</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span> = [<span class="string">&#x27;h&#x27;</span>,<span class="string">&#x27;s&#x27;</span>,<span class="string">&#x27;z&#x27;</span>,[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;p&#x27;</span>,<span class="string">&#x27;y&#x27;</span>],<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">list</span>))</span><br></pre></td></tr></table></figure><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ul><li>列表的特点：<ul><li>列表是<code>有序的</code>，<code>可变</code>的数据类型</li><li>列表中的元素可以重复</li><li>列表的元素可以改变</li><li>列表能容纳多个元素(上限为2**63-1)</li><li>列表的元素可以进行排序</li><li>列表中能够容纳不同的数据类型</li></ul></li></ul><h3 id="下标索引"><a href="#下标索引" class="headerlink" title="下标索引"></a>下标索引</h3><ul><li>列表的索引从0开始，索引可以使用正数和负数。<ul><li><code>正数索引</code>：从左往右，第一个元素的索引为0，第二个元素的索引为1，以此类推。</li><li><code>负数索引</code>：从右往左，最后一个元素的索引为-1，倒数第二个元素的索引为-2，以此类推。</li></ul></li></ul><h3 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作"></a>常用操作</h3><div class="table-container"><table><thead><tr><th style="text-align:center">编号</th><th style="text-align:center">使用方式</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">列表.append(元素)</td><td style="text-align:center">向列表追加一个元素</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">列表.extend(元素)</td><td style="text-align:center">将数据内容依次取出，再追加到列表尾部</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">列表.insert(下标，元素)</td><td style="text-align:center">在指定下标处，插入指定的元素</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">del 列表(下标)</td><td style="text-align:center">删除列表指定下标元素</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">列表.pop(下标)</td><td style="text-align:center">删除列表制定下标元素</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center">列表.remove(元素)</td><td style="text-align:center">从前往后，删除此元素第一个匹配项</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">列表.clear()</td><td style="text-align:center">清空列表</td></tr><tr><td style="text-align:center">8</td><td style="text-align:center">列表.count(元素)</td><td style="text-align:center">统计此元素在列表中出现的次数</td></tr><tr><td style="text-align:center">9</td><td style="text-align:center">列表.index(元素)</td><td style="text-align:center">查找指定元素在列表的下标，找不到报错</td></tr><tr><td style="text-align:center">10</td><td style="text-align:center">len(列表)</td><td style="text-align:center">统计容器内有多少元素</td></tr></tbody></table></div><p>在Python中，如果将函数定义为class(<code>类</code>）的成员，那么函数会称之为:方法；方法和函数功能一样，有传入参数，有返回值，只是方法的使用格式不同。</p><details class="folding-tag" ><summary> 1. 查找元素下标 </summary>              <div class='content'>              <ul><li>功能:查找指定元素在列表的下标，如果找不到则报错ValueError</li><li>语法:列表.index(元素)；<ul><li>index是列表对象内置的方法（函数)<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>.index(<span class="string">&#x27;h&#x27;</span>)</span><br></pre></td></tr></table></figure></li></ul></li></ul>              </div>            </details><details class="folding-tag" ><summary> 2. 修改元素 </summary>              <div class='content'>              <p>语法: 列表[下标]=值</p><ul><li>可以直接对指定下标（正向、反向下标均可）的值进行重新赋值（修改)<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span> = [<span class="string">&#x27;h&#x27;</span>,<span class="string">&#x27;s&#x27;</span>,<span class="string">&#x27;z&#x27;</span>,[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;p&#x27;</span>,<span class="string">&#x27;y&#x27;</span>],<span class="number">1</span>]</span><br><span class="line"><span class="built_in">list</span>[<span class="number">0</span>] = <span class="string">&#x27;a&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>)</span><br></pre></td></tr></table></figure></li></ul>              </div>            </details><details class="folding-tag" ><summary> 3. 删除元素 </summary>              <div class='content'>              <ul><li>语法1: del列表[下标]</li><li>语法2: 列表.pop(下标)</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">del</span> <span class="built_in">list</span>[<span class="number">3</span>]</span><br><span class="line"><span class="built_in">list</span>.pop(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 4. 插入元素 </summary>              <div class='content'>              <ul><li>功能: 在指定位置插入元素</li><li>语法: 列表.insert(下标,元素)</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>.insert(<span class="number">0</span>,<span class="string">&#x27;a&#x27;</span>)</span><br></pre></td></tr></table></figure>              </div>            </details>    <details class="folding-tag" ><summary> 5. 追加元素 </summary>              <div class='content'>              <ul><li>语法1: 列表.append(元素)，将指定元素，追加到列表的尾部</li><li>语法2: 列表.extend(其它数据容器)，将其它数据容器的内容取出，依次追加到列表尾部</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>.append(<span class="string">&#x27;多啦A萌&#x27;</span>)</span><br><span class="line"><span class="built_in">list</span>.extend([<span class="string">&#x27;很&#x27;</span>,<span class="string">&#x27;可&#x27;</span>,<span class="string">&#x27;爱&#x27;</span>])</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 6. 删除出现的第一个元素 </summary>              <div class='content'>              <ul><li>语法:列表.remove(元素)</li><li>删除某元素在列表中的第一个匹配项<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>.remove(<span class="string">&#x27;s&#x27;</span>)</span><br></pre></td></tr></table></figure></li></ul>              </div>            </details><details class="folding-tag" ><summary> 7. 清空列表 </summary>              <div class='content'>              <ul><li>语法:列表.clear()</li><li>清空列表所有元素<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>.clear()</span><br></pre></td></tr></table></figure></li></ul>              </div>            </details><details class="folding-tag" ><summary> 8. 统计元素数量 </summary>              <div class='content'>              <ul><li>统计某元素在列表内的数量</li><li>语法:列表.count(元素)<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>.count(<span class="string">&#x27;多啦A萌&#x27;</span>)</span><br></pre></td></tr></table></figure></li></ul>              </div>            </details><details class="folding-tag" ><summary> 9. 统计元素总数量 </summary>              <div class='content'>              <p>语法: len(列表)<br>可以得到一个int数字，表示列表内的元素数量<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">len</span>(<span class="built_in">list</span>)</span><br></pre></td></tr></table></figure></p>              </div>            </details><div class="note warning no-icon flat"><p>以上代码块中的list均代指数据类型为列表的变量名。</p></div><h3 id="遍历列表"><a href="#遍历列表" class="headerlink" title="遍历列表"></a>遍历列表</h3><ul><li>遍历指的是将容器内人元素依次取出后进行操作。</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  while循环遍历</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">list_while</span>():</span><br><span class="line">    <span class="built_in">list</span> = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>]</span><br><span class="line">    num = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> num&lt; <span class="built_in">len</span>(<span class="built_in">list</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="built_in">list</span>[num])</span><br><span class="line">        num+=<span class="number">1</span></span><br><span class="line">list_while()</span><br><span class="line"><span class="comment">#  for循环遍历</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">list_for</span>():</span><br><span class="line">    <span class="built_in">list</span> = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">list</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="built_in">str</span>(x))</span><br><span class="line">list_for()</span><br></pre></td></tr></table></figure><h2 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h2><ul><li>定义：一种有序的数据类型，元素<code>不可修改</code>，元素可以重复的数据容器。</li><li>与列表的主要区别是：元组中的元素不能修改（可以修改内部list的内部元素）。</li><li>元组的操作</li></ul><div class="table-container"><table><thead><tr><th style="text-align:center">编号</th><th style="text-align:center">使用方式</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">元组.index(元素)</td><td style="text-align:center">查找指定元素在元组的下标，找不到报错</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">元组.count(元素)</td><td style="text-align:center">统计此元素在元组中出现的次数</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">len(元组)</td><td style="text-align:center">统计容器内有多少元素</td></tr></tbody></table></div><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">tuple</span>.index(<span class="string">&#x27;h&#x27;</span>)</span><br><span class="line"><span class="built_in">tuple</span>.count(<span class="string">&#x27;h&#x27;</span>)</span><br><span class="line"><span class="built_in">len</span>(<span class="built_in">tuple</span>)</span><br></pre></td></tr></table></figure><ul><li>元组的遍历</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#元组的遍历: while</span></span><br><span class="line">index = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> index &lt; <span class="built_in">len</span>(t1):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;while:元组的元素有: <span class="subst">&#123;t1[index]&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="comment">#至关重要</span></span><br><span class="line">    index += <span class="number">1</span></span><br><span class="line"><span class="comment">#元组的遍历:for</span></span><br><span class="line"><span class="keyword">for</span> element <span class="keyword">in</span> t1:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;for:元组的元素有: <span class="subst">&#123;element&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="字符串-1"><a href="#字符串-1" class="headerlink" title="字符串"></a>字符串</h2><h3 id="下标索引-1"><a href="#下标索引-1" class="headerlink" title="下标索引"></a>下标索引</h3><ul><li>与列表一样，索引可以使用正数和负数，整数从0开始，负数从-1开始。</li></ul><h3 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h3><ul><li>字符串的特点：<ul><li>字符串是只读的，不能修改</li><li>字符串的每一部分都是一个字符</li><li>字符串是有序的，每个字符都有一个下标</li><li>字符串是可以拼接的，拼接的结果是一个新的字符串</li><li>字符串是可以比较的，比较的结果是一个布尔值</li></ul></li></ul><h3 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h3><ul><li>字符串之间比较大小是<code>按位比较</code>，也就是一位位的进行对比，只要一位不相同，则不会继续比较下去。</li></ul><h3 id="常用操作-1"><a href="#常用操作-1" class="headerlink" title="常用操作"></a>常用操作</h3><div class="table-container"><table><thead><tr><th style="text-align:center">编号</th><th style="text-align:center">操作</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">字符串[下标]</td><td style="text-align:center">根据下标索引取出特定位置的字符</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">字符串.index(字符串)</td><td style="text-align:center">查找给定字符的第一个匹配项的下标</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">字符串.replace(字符串1,字符串2)</td><td style="text-align:center">将所以字符串1替换为字符串2，并不会修改原字符串，是返回一个新的字符串</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">字符串.split(字符串)</td><td style="text-align:center">根据给定的字符分隔字符串，不会修改原字符串，是返回一个新的字符串</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">字符串.strip()或字符串.strip(字符串)</td><td style="text-align:center">移除首尾的空格和换行符或者指定字符串</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center">字符串.count(字符串)</td><td style="text-align:center">统计字符串内某字符串的出现次数</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">len(字符串)</td><td style="text-align:center">统计字符串的字符个数</td></tr></tbody></table></div><details class="folding-tag" ><summary> 1.查找下标 </summary>              <div class='content'>              <p>根据下标索引取出特定位置的字符<br>str.index(‘h’)<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#index方法：</span></span><br><span class="line">value = my_str.index( <span class="string">&quot;and&quot;</span> )</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;在字符串<span class="subst">&#123;my_str&#125;</span>中查找and，其起始下标是: <span class="subst">&#123;value&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></p>              </div>            </details><details class="folding-tag" ><summary> 2.字符串替换 </summary>              <div class='content'>              <p>将所以字符串1替换为字符串2，并不会修改原字符串，是返回一个新的字符串<br>用法：str.replace(‘h’,’a’)<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">my_str = <span class="string">&quot;hello and hello&quot;</span></span><br><span class="line">new_str = my_str.replace(<span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;world&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(new_str)</span><br><span class="line"><span class="built_in">print</span>(my_str)</span><br></pre></td></tr></table></figure></p>              </div>            </details><details class="folding-tag" ><summary> 3.字符串分隔 </summary>              <div class='content'>              <p>根据给定的字符分隔字符串，不会修改原字符串，是返回一个新的字符串<br>用法：str.split(‘h’)</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">my_str = <span class="string">&quot;hello and hello&quot;</span></span><br><span class="line">new_str = my_str.split(<span class="string">&#x27;and&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(new_str)</span><br><span class="line"><span class="built_in">print</span>(my_str)</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 4.字符串移除 </summary>              <div class='content'>              <p>移除首尾的空格和换行符或者指定字符串<br>用法：str.strip()或str.strip(‘指定字符串’)<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">my_str = <span class="string">&quot;  hello and hello  &quot;</span></span><br><span class="line">new_str = my_str.strip()</span><br><span class="line"><span class="built_in">print</span>(new_str)</span><br><span class="line"><span class="built_in">print</span>(my_str)</span><br></pre></td></tr></table></figure></p>              </div>            </details><details class="folding-tag" ><summary> 5.字符串统计 </summary>              <div class='content'>              <p>统计字符串内某字符串的出现次数<br>用法：str.count(‘h’)<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">my_str = <span class="string">&quot;hello and hello&quot;</span></span><br><span class="line">new_str = my_str.count(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(new_str)</span><br><span class="line"><span class="built_in">print</span>(my_str)</span><br></pre></td></tr></table></figure></p>              </div>            </details><div class="note warning no-icon flat"><p>以上代码块中的str均代指数据类型为字符串的变量名。</p></div><h3 id="遍历字符串"><a href="#遍历字符串" class="headerlink" title="遍历字符串"></a>遍历字符串</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">&quot;itheima itcast boxuegu&quot;</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">str</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;for循环遍历字符串<span class="subst">&#123;x&#125;</span>&quot;</span>)</span><br><span class="line">index = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> index&lt;<span class="built_in">len</span>(<span class="built_in">str</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;while循环遍历字符串<span class="subst">&#123;<span class="built_in">str</span>[index]&#125;</span>&quot;</span>)</span><br><span class="line">    index+=<span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="序列"><a href="#序列" class="headerlink" title="序列"></a>序列</h2><ul><li>定义：指<code>内容连续</code>，<code>有序</code>，<code>元素可以重复</code>且<code>可以使用下标索引</code>的一类数据容器</li><li><p>序列是一类数据容器，列表、元组、字符串都是序列</p></li><li><p>切片意思是从一个序列中，取出一个子序列</p><ul><li>语法：<code>[开始索引:结束索引:步长]</code></li><li>表示从序列中，从指定位置开始，依次取出元素，到指定位置结束，得到一个新序列</li><li>说明：<ul><li>开始索引：表示从哪个位置开始取，默认是0</li><li>结束索引：表示到哪个位置结束取，默认是序列的长度</li><li>步长：表示每次取的间隔，默认是1</li></ul></li></ul></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#对list进行切片，从1开始，4结束，步长</span></span><br><span class="line"><span class="built_in">list</span> = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>[<span class="number">1</span>:<span class="number">4</span>:<span class="number">1</span>])</span><br><span class="line"><span class="comment">#对tuple进行切片，从头开始，到最后结束，步长1</span></span><br><span class="line"><span class="built_in">tuple</span> = (<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">tuple</span>[::])</span><br><span class="line"><span class="comment">#对str进行切片，从头开始，到最后结束，步长2</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">&#x27;0123456&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>[::<span class="number">2</span>])</span><br><span class="line"><span class="comment">#对str进行切片，从头开始，到最后结束，步长-1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>[::-<span class="number">1</span>])</span><br><span class="line"><span class="comment">#对列表进行切片，从3开始，到1结束，步长-1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>[<span class="number">3</span>:<span class="number">1</span>:-<span class="number">1</span>])</span><br><span class="line"><span class="comment">#对元组进行切片，从头开始，到尾结束，步长-2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">tuple</span>[::-<span class="number">2</span>])</span><br></pre></td></tr></table></figure><h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><ul><li>定义：指<code>内容不连续</code>，<code>无序</code>，<code>元素不可以重复</code>的一类数据容器</li><li>集合是无序的，故集合<code>不支持下标索引</code>访问</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义集合字面量</span></span><br><span class="line">&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line"><span class="comment"># 定义集合变量</span></span><br><span class="line"><span class="built_in">set</span> = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line"><span class="comment"># 创建空集合</span></span><br><span class="line">Set1 = <span class="built_in">set</span>()</span><br></pre></td></tr></table></figure><h3 id="特点-2"><a href="#特点-2" class="headerlink" title="特点"></a>特点</h3><ul><li>集合是无序的，故<code>不支持索引</code>访问</li><li>集合不允许重复元素</li><li>集合可以容纳不同类型的数据</li><li>集合可以修改元素</li><li>集合支持for循环，不支持while循环</li></ul><h3 id="常用操作-2"><a href="#常用操作-2" class="headerlink" title="常用操作"></a>常用操作</h3><div class="table-container"><table><thead><tr><th style="text-align:center">编号</th><th style="text-align:center">操作</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">集合.add(元素)</td><td style="text-align:center">集合内添加一个元素</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">集合.remove(元素)</td><td style="text-align:center">移除集合内指定的元素</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">集合.pop()</td><td style="text-align:center">从集合中随机取出一个元素</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">集合.clear()</td><td style="text-align:center">将集合清空</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">集合1.difference(集合2)</td><td style="text-align:center">得到一个新集合，内含2个集合的差集 原有的2个集合内容不变</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center">集合1.difference_update(集合2)</td><td style="text-align:center">在集合1中，删除集合2中存在的元素 集合1被修改，集合2不变</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">集合1.union(集合2)</td><td style="text-align:center">得到1个新集合，内含2个集合的全部元素 原有的2个集合内容不变</td></tr><tr><td style="text-align:center">8</td><td style="text-align:center">len(集合)</td><td style="text-align:center">得到一个记录集合元素数量的数字</td></tr></tbody></table></div><ul><li>集合不属于序列类，故常用操作与前面的列表等数据容器差异较大</li></ul><details class="folding-tag" ><summary> 1.添加元素 </summary>              <div class='content'>              <ul><li>语法:集合.add(元素)。将指定元素，添加到集合内。</li><li>结果:集合本身被修改，添加了新元素。</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span>.add(<span class="string">&#x27;hello&#x27;</span>)</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 2.删除元素 </summary>              <div class='content'>              <ul><li>语法:集合.remove(元素)，将指定元素，从集合内移除。</li><li>结果:集合本身被修改，移除了元素。</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span>.remove(<span class="string">&#x27;hello&#x27;</span>)</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 3.随机取出元素 </summary>              <div class='content'>              <ul><li>语法∶集合.pop()功能，从集合中随机取出一个元素。​ </li><li>结果:会得到一个元素的结果。同时集合本身被修改，元素被移除。</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 实际上pop的随机是伪随机，重复执行以下代码会发现，删除的第一个一直是1，第二次删除一定是2</span></span><br><span class="line"><span class="built_in">set</span> = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">5</span> &#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">set</span>)</span><br><span class="line">a=<span class="built_in">set</span>.pop()</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">set</span>.add(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">set</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">set</span>.pop())</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">set</span>)</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 4. 清空集合 </summary>              <div class='content'>              <ul><li>用于清空集合元素。</li><li>结果:集合清空为空集合。</li></ul>              </div>            </details><details class="folding-tag" ><summary> 5. 获取集合的差集 </summary>              <div class='content'>              <ul><li>语法∶集合1.difference(集合2)</li><li>功能:取出集合1和集合2的差集（集合1有而集合2没有的)</li><li>结果:得到一个新集合，集合1和集合2不变。</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">set2 = &#123;<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;</span><br><span class="line">set3 = set1.difference(set2)</span><br><span class="line"><span class="built_in">print</span>(set3)</span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line"><span class="built_in">print</span>(set2)</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 6.消除两个集合的差集 </summary>              <div class='content'>              <ul><li>语法:集合1.difference_update(集合2)</li><li>功能:对比集合1和集合2，在集合1内，删除和集合2相同的元素。</li><li>结果:集合1被修改，集合2不变</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">set2 = &#123;<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;</span><br><span class="line">set1.difference_update(set2)</span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line"><span class="built_in">print</span>(set2)</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 7.合并两个集合 </summary>              <div class='content'>              <ul><li>语法:集合1.union(集合2)</li><li>功能:将集合1和集合2的全部元素，合并到一个新集合内。</li><li>结果:得到一个新集合，集合1和集合2不变。</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">set2 = &#123;<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;</span><br><span class="line">set3 = set1.union(set2)</span><br><span class="line"><span class="built_in">print</span>(set3)</span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line"><span class="built_in">print</span>(set2)</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="遍历集合"><a href="#遍历集合" class="headerlink" title="遍历集合"></a>遍历集合</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 集合遍历</span></span><br><span class="line"><span class="comment">#集合不支持下标索引，不能用while循环，可以用于or循环</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> set1:</span><br><span class="line">    <span class="built_in">print</span>(x)</span><br></pre></td></tr></table></figure><h2 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h2><p>定义字典同样是使用{},不过存储的元素是一个个键值对<br><div class="tabs" id="字典"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#字典-1">定义字典</button></li><li class="tab"><button type="button" data-href="#字典-2">创建字典</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="字典-1"><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义字典字面量</span></span><br><span class="line">&#123;key:vaule,key:value,......,key:value&#125;</span><br><span class="line"><span class="comment"># 定义字典变量</span></span><br><span class="line">my_dicty = &#123;key:value,key:value,......,key:value&#125;</span><br><span class="line"><span class="comment"># 定义空字典</span></span><br><span class="line">my_dicty = &#123;&#125;       <span class="comment"># 方式一</span></span><br><span class="line">my_dicty = <span class="built_in">dict</span>()   <span class="comment"># 方式二</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="字典-2"><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定义字典</span></span><br><span class="line">my_dict1 = &#123;<span class="string">&#x27;王&#x27;</span>:<span class="number">99</span>,<span class="string">&#x27;林&#x27;</span>:<span class="number">88</span>,<span class="string">&#x27;周&#x27;</span>:<span class="number">99</span>&#125;</span><br><span class="line"><span class="comment">#定义空字典</span></span><br><span class="line">my_dict2 = &#123;&#125;</span><br><span class="line">my_dict3 = <span class="built_in">dict</span>()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;字典1的内容是:<span class="subst">&#123;my_dict1&#125;</span>，类型:<span class="subst">&#123;<span class="built_in">type</span>(my_dict1)&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;字典2的内容是:<span class="subst">&#123;my_dict2&#125;</span>，类型:<span class="subst">&#123;<span class="built_in">type</span>(my_dict2)&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;字典3的内容是:<span class="subst">&#123;my_dict3&#125;</span>，类型:<span class="subst">&#123;<span class="built_in">type</span>(my_dict3)&#125;</span>&quot;</span>)</span><br><span class="line"><span class="comment">#定义重复Key的字典</span></span><br><span class="line">my_dict4 = &#123;<span class="string">&#x27;王&#x27;</span>:<span class="number">99</span>,<span class="string">&#x27;王&#x27;</span>:<span class="number">88</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;字典4重复key的内容是：<span class="subst">&#123;my_dict4&#125;</span>&quot;</span>)</span><br><span class="line"><span class="comment">#从字典中基于Key获取Value</span></span><br><span class="line"><span class="built_in">print</span>(my_dict1[<span class="string">&#x27;王&#x27;</span>])</span><br><span class="line"><span class="comment">#定义嵌套字典</span></span><br><span class="line">subject = &#123;</span><br><span class="line">    <span class="string">&#x27;王&#x27;</span>:&#123;</span><br><span class="line">        <span class="string">&#x27;语文&#x27;</span>:<span class="number">77</span>,</span><br><span class="line">        <span class="string">&#x27;数学&#x27;</span>:<span class="number">66</span>,</span><br><span class="line">        <span class="string">&#x27;英语&#x27;</span>:<span class="number">33</span></span><br><span class="line">    &#125;,<span class="string">&#x27;周&#x27;</span>:&#123;</span><br><span class="line">        <span class="string">&#x27;语文&#x27;</span>: <span class="number">88</span>,</span><br><span class="line">        <span class="string">&#x27;数学&#x27;</span>: <span class="number">86</span>,</span><br><span class="line">        <span class="string">&#x27;英语&#x27;</span>: <span class="number">55</span></span><br><span class="line">    &#125;,<span class="string">&#x27;林&#x27;</span>:&#123;</span><br><span class="line">        <span class="string">&#x27;语文&#x27;</span>: <span class="number">99</span>,</span><br><span class="line">        <span class="string">&#x27;数学&#x27;</span>: <span class="number">96</span>,</span><br><span class="line">        <span class="string">&#x27;英语&#x27;</span>: <span class="number">66</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 从嵌套字典中获取数据</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;学生的考试信息：<span class="subst">&#123;subject&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(subject[<span class="string">&#x27;王&#x27;</span>][<span class="string">&#x27;语文&#x27;</span>])</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><div class="note warning no-icon 字典 flat"><ul><li>键值对的Key和Value可以是任意类型(Key不可为字典)</li><li>字典内Key不允许重复，重复添加等同于覆盖原有数据</li><li>字典不可用下标索引，而是通过Key检索Value</li></ul></div><h3 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h3><div class="table-container"><table><thead><tr><th style="text-align:center">编号</th><th style="text-align:center">操作</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">字符串[下标]</td><td style="text-align:center">根据下标索引取出特定位置字符</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">字符串.index(字符串)</td><td style="text-align:center">查找给定字符的第一个匹配项的下标</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">字符串.replace(字符串1,字符串2)</td><td style="text-align:center">将字符串内的全部字符串1，替换为字 符串2 不会修改原字符串，而是得到一个新的</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">字符串.split(字符串)</td><td style="text-align:center">按照给定字符串，对字符串进行分隔 不会修改原字符串，而是得到一个新的 列表</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">字符串.strip() 字符串.strip(字符串)</td><td style="text-align:center">移除首尾的空格和换行符或指定字符串</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center">字符串.count(字符串)</td><td style="text-align:center">统计字符串内某字符串的出现次数</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">len(字符串)</td><td style="text-align:center">统计字符串的字符个数</td></tr></tbody></table></div><details class="folding-tag" ><summary> 新增元素 </summary>              <div class='content'>              <ul><li>语法:字典[Key]= Value，</li><li>结果:字典被修改，新增了元素</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#新增元素</span></span><br><span class="line">my_dict1[<span class="string">&#x27;张&#x27;</span>]=<span class="number">100</span></span><br><span class="line"><span class="built_in">print</span>(my_dict1)</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 更新元素 </summary>              <div class='content'>              <ul><li>语法:字典[Key] = value</li><li>结果:字典被修改，元素被更新</li><li>注意:字典Key不可以重复，所以对已存在的Key执行上述操作，就是更新Value值</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#更新元素</span></span><br><span class="line">my_dict1[<span class="string">&#x27;林&#x27;</span>]=<span class="number">33</span></span><br><span class="line"><span class="built_in">print</span>(my_dict1)</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 删除元素 </summary>              <div class='content'>              <ul><li>语法:字典pop(Key)</li><li>结果:获得指定Key的Value，同时字典被修改，指定Key的数据被删除</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#删除元素</span></span><br><span class="line">score = my_dict1.pop(<span class="string">&#x27;周&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;周的分数<span class="subst">&#123;score&#125;</span>，字典中的内容<span class="subst">&#123;my_dict1&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 清空元素 </summary>              <div class='content'>              <ul><li>语法:字典.clear()</li><li>结果:字典被修改，元素被清空</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#清空元素</span></span><br><span class="line">my_dict1.clear()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;字典被清空了<span class="subst">&#123;my_dict1&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 获取全部的key </summary>              <div class='content'>              <ul><li>语法:字典.keys</li><li>结果:得到字典中的全部Key</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取全部的key</span></span><br><span class="line">my_dict1 = &#123;<span class="string">&#x27;王&#x27;</span>:<span class="number">99</span>,<span class="string">&#x27;林&#x27;</span>:<span class="number">88</span>,<span class="string">&#x27;周&#x27;</span>:<span class="number">99</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(my_dict1.keys())</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 统计字典元素数量 </summary>              <div class='content'>              <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#统计字典内的元素数量</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(my_dict1))</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="遍历字典"><a href="#遍历字典" class="headerlink" title="遍历字典"></a>遍历字典</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#遍历字典</span></span><br><span class="line"><span class="comment"># 方式一</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> my_dict1.keys():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;字典的key是<span class="subst">&#123;key&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;字典的value是<span class="subst">&#123;my_dict1[key]&#125;</span>&quot;</span>)</span><br><span class="line"><span class="comment"># 方式二</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> my_dict1:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;字典的key是<span class="subst">&#123;key&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;字典的value是<span class="subst">&#123;my_dict1[key]&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="数据容器的对比"><a href="#数据容器的对比" class="headerlink" title="数据容器的对比"></a>数据容器的对比</h2><p><strong><em>对比</em></strong></p><p>|          | 列表                               | 元组                                 | 字符串              | 集合                    | 字典                                             |<br>| :————: | :—————————————————: | :—————————————————: | :—————————-: | :———————————-: | :————————————————————————:s |<br>| 元素数量 | 支持多个                           | 支持多个                             | 支持多个            | 支持多个                | 支持多个                                         |<br>| 元素类型 | 任意                               | 任意                                 | 仅字符              | 任意                    | Key: Value Key：除字典外任意类型 Value：任意类型 |<br>| 下标索引 | 支持                               | 支持                                 | 支持                | 不支持                  | 不支持                                           |<br>| 重复元素 | 支持                               | 支持                                 | 支持                | 不支持                  | 不支持                                           |<br>| 可修改性 | 支持                               | 不支持                               | 不支持              | 支持                    | 支持                                             |<br>| 数据有序 | 是                                 | 是                                   | 是                  | 否                      | 否                                               |<br>| 使用场景 | 可修改、可重 复的一批数据 记录场景 | 不可修改、可重 复的一批数据记 录场景 | 一串字符的记录 场景 | 不可重复的数据 记录场景 | 以Key检索Value 的数据记录场景             |</p><p><strong><em>通用操作</em></strong></p><div class="table-container"><table><thead><tr><th style="text-align:center">功能</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">通用for循环</td><td style="text-align:center">遍历容器（字典是遍历key)</td></tr><tr><td style="text-align:center">max</td><td style="text-align:center">容器内最大元素</td></tr><tr><td style="text-align:center">min()</td><td style="text-align:center">容器内最小元素</td></tr><tr><td style="text-align:center">len()</td><td style="text-align:center">容器元素个数</td></tr><tr><td style="text-align:center">list()</td><td style="text-align:center">转换为列表</td></tr><tr><td style="text-align:center">tuple()</td><td style="text-align:center">转换为元组</td></tr><tr><td style="text-align:center">str()</td><td style="text-align:center">转换为字符串</td></tr><tr><td style="text-align:center">set()</td><td style="text-align:center">转换为集合</td></tr><tr><td style="text-align:center">sorted(序列, [reverse=True])</td><td style="text-align:center">排序，reverse=True表示降序 得到一个排好序的列表</td></tr></tbody></table></div><h1 id="第六章"><a href="#第六章" class="headerlink" title="第六章"></a>第六章</h1><h2 id="函数的多返回值"><a href="#函数的多返回值" class="headerlink" title="函数的多返回值"></a>函数的多返回值</h2><ul><li>在函数中，执行返回操作后，函数会自动结束，后续代码不再执行，故不能连续书写两条return语句，但在Python中，却能够支持函数有多返回值</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">a,b</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    无法实现多返回</span></span><br><span class="line"><span class="string">    return a+b</span></span><br><span class="line"><span class="string">    return a-b</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 正确实现多返回的操作：</span></span><br><span class="line">    <span class="keyword">return</span> a+b,a-b</span><br><span class="line"><span class="comment"># 调用函数</span></span><br><span class="line">result1,result2 = func(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(result1)</span><br><span class="line"><span class="built_in">print</span>(result2)</span><br></pre></td></tr></table></figure><h2 id="函数的多种传参"><a href="#函数的多种传参" class="headerlink" title="函数的多种传参"></a>函数的多种传参</h2><ul><li>函数常见的四种传参方式：<ul><li>位置参数</li><li>关键字参数</li><li>默认参数</li><li>不定长参数</li></ul></li></ul><details class="folding-tag" ><summary> 位置参数 </summary>              <div class='content'>              <p>定义：调用函数时根据函数定义的参数位置来传递参数。</p><p><div class="note warning no-icon 注意 flat"><p>传递的参数和定义的参数的顺序徐及个数必须一致</p></div><br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">user_info</span>(<span class="params">name ,age,gender</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;名字是<span class="subst">&#123;name&#125;</span>，年龄是<span class="subst">&#123;age&#125;</span>，性别是<span class="subst">&#123;gender&#125;</span>&quot;</span>)</span><br><span class="line">user_info(<span class="string">&#x27;韩一&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;男&#x27;</span>)</span><br></pre></td></tr></table></figure></p>              </div>            </details><details class="folding-tag" ><summary> 关键字参数 </summary>              <div class='content'>              <p>定义：函数调用时通过“键=值”形式传递参数.<br>作用: 让函数更加清晰、容易使用，同时也清除了参数的顺序需求.</p><p><div class="note warning no-icon 注意 flat"><p>函数调用时，如果有位置参数时，位置参数必须在关键字参数的前面，但关键字参数之间不存在先后顺序</p></div><br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">user_info</span>(<span class="params">name ,age,gender</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;名字是<span class="subst">&#123;name&#125;</span>，年龄是<span class="subst">&#123;age&#125;</span>，性别是<span class="subst">&#123;gender&#125;</span>&quot;</span>)</span><br><span class="line">user_info(<span class="string">&#x27;韩一&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;男&#x27;</span>)</span><br><span class="line">user_info(age=<span class="number">18</span>,name=<span class="string">&#x27;韩一&#x27;</span>,gender=<span class="string">&#x27;男&#x27;</span>)</span><br></pre></td></tr></table></figure></p>              </div>            </details><details class="folding-tag" ><summary> 缺省参数 </summary>              <div class='content'>              <p>定义：在定义函数时，给参数指定一个默认值，具有默认值的参数就叫做缺省参数。</p><p><div class="note warning no-icon 注意 flat"><p>所有位置参数必须出现在默认参数前，包括函数定义和调用，默认值参数在最后。</p></div><br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">user_info</span>(<span class="params">name ,age,gender=<span class="string">&#x27;男&#x27;</span></span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;名字是<span class="subst">&#123;name&#125;</span>，年龄是<span class="subst">&#123;age&#125;</span>，性别是<span class="subst">&#123;gender&#125;</span>&quot;</span>)</span><br><span class="line">user_info(<span class="string">&#x27;韩一&#x27;</span>,<span class="number">18</span>)</span><br><span class="line">user_info(<span class="string">&#x27;韩二&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;女&#x27;</span>)</span><br></pre></td></tr></table></figure></p>              </div>            </details><details class="folding-tag" ><summary> 不定长参数 </summary>              <div class='content'>              <p>定义：在定义函数时，不确定调用时会传递多少个参数，就可以使用不定长参数。<br>不定长参数的类型：位置传递；关键字传递</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#不定长-位置不定长，*号</span></span><br><span class="line"><span class="comment">#传进的所有参数都会被args变量收集，它会根据传进参数的位置合并为一个元组(tuple)，</span></span><br><span class="line"><span class="comment"># args是元组类型，这就是位置传递</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_info</span>(<span class="params">*args</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;args参数的类型是<span class="subst">&#123;<span class="built_in">type</span>(args)&#125;</span>,内容是<span class="subst">&#123;args&#125;</span>&quot;</span>)</span><br><span class="line">user_info(<span class="string">&#x27;小李&#x27;</span>,<span class="number">18</span>)</span><br><span class="line"><span class="comment">#不定长-关键字不定长，**号</span></span><br><span class="line"><span class="comment"># 参数是“键=值”形式的形式的情况下，所有的“键=值”都会被kwargs接受，</span></span><br><span class="line"><span class="comment"># 同时会根据“键=值”组成字典.</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_info</span>(<span class="params">**kwargs</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;args参数的类型是<span class="subst">&#123;<span class="built_in">type</span>(kwargs)&#125;</span>,内容是<span class="subst">&#123;kwargs&#125;</span>&quot;</span>)</span><br><span class="line">user_info(name=<span class="string">&#x27;小李&#x27;</span>,age = <span class="number">18</span>)</span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="函数作为参数"><a href="#函数作为参数" class="headerlink" title="函数作为参数"></a>函数作为参数</h2><ul><li>可以将函数本身作为参数，传入到另一个函数中使用。</li><li>作用:传入计算逻辑，而非传入数据。<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定义一个函数，接收另一个函数作为传入参数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun_test</span>(<span class="params">computer</span>):</span><br><span class="line">    result =computer (<span class="number">1</span>,<span class="number">2</span>)<span class="comment">#确定computer是函数</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;computer的类型是<span class="subst">&#123;<span class="built_in">type</span>(computer)&#125;</span>,结果是<span class="subst">&#123;result&#125;</span>&quot;</span>)</span><br><span class="line"><span class="comment">#定义一个函数，准备作为参数传入另一个函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">x,y</span>):</span><br><span class="line">    <span class="keyword">return</span> x+y</span><br><span class="line">fun_test(add)</span><br></pre></td></tr></table></figure></li></ul><h2 id="Lambda匿名函数"><a href="#Lambda匿名函数" class="headerlink" title="Lambda匿名函数"></a>Lambda匿名函数</h2><ul><li>语法：lambda 传入参数: 函数体(一行代码)<ul><li>lambda是关键字，表示定义匿名函数；</li><li>传入参数表示匿名函数的形式参数，如:x, y表示接收2个形式参数；</li><li>函数体，就是函数的执行逻辑</li></ul></li></ul><div class="note warning no-icon 注意 flat"><p>Lambda匿名函数，只能写一行代码，不能写多行代码</p></div><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定义一个函数，接受其它函数输入</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_function</span>(<span class="params">compute</span>):</span><br><span class="line">    result = compute(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;结果是<span class="subst">&#123;result&#125;</span>&quot;</span>)</span><br><span class="line"><span class="comment">#通过lambda匿名函数的形式，将匿名函数作为参数传入</span></span><br><span class="line">test_function(<span class="keyword">lambda</span> x,y: x*y)</span><br></pre></td></tr></table></figure><h1 id="第七章"><a href="#第七章" class="headerlink" title="第七章"></a>第七章</h1><h2 id="文件编码"><a href="#文件编码" class="headerlink" title="文件编码"></a>文件编码</h2><p><strong>1.什么是编码？</strong><br>编码就是一种规则集合，记录了内容和二进制间进行相互转换的逻辑。编码有许多中，我们最常用的是UTF-8编码。<br><strong>2.为什么要编码？</strong><br>因为计算机只能识别二进制，而我们人类只能识别文字，所以我们需要编码将文字转换为二进制，才能让计算机识别。<br><strong>3.编码的作用？</strong><br>编码的作用就是将文字转换为二进制，也可以将二进制转换为文字。<br><strong>4.编码的分类？</strong><br>编码的分类有很多种，我们最常用的是UTF-8编码，其他的编码有GBK编码、ISO-8859-1编码等。</p><h2 id="文件的读写操作"><a href="#文件的读写操作" class="headerlink" title="文件的读写操作"></a>文件的读写操作</h2><ul><li>文件可以分为文本文件、视频文件、图像文件、可执行文件等多种类别。</li><li>文件的操作<ul><li>创建文件</li><li>打开文件</li><li>关闭文件</li><li>读写文件</li></ul></li></ul><h3 id="打开文件"><a href="#打开文件" class="headerlink" title="打开文件"></a>打开文件</h3><ul><li>通常使用<code>open</code>函数来打开文件<ul><li><code>open(name,mode,encoding)</code></li><li>name是要打开的目标文件名的字符串（可以包括文件所在的具体路径）</li><li>mode是打开文件的模式，即读取、写入、追加等</li><li>encoding是指定文件的编码方式(推荐使用UTF-8)</li></ul></li><li>常用的三种基础访问模式:</li></ul><div class="table-container"><table><thead><tr><th>模式</th><th>描述</th></tr></thead><tbody><tr><td>r</td><td>以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。</td></tr><tr><td>W</td><td>打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，原有内容会被删除。 如果该文件不存在，创建新文件。</td></tr><tr><td>a</td><td>打开一个文件用于追加。如果该文件已存在，新的内容将会被写入到已有内容之后。 如果该文件不存在，创建新文件进行写入。</td></tr></tbody></table></div><h3 id="读取文件"><a href="#读取文件" class="headerlink" title="读取文件"></a>读取文件</h3><ul><li>使用<code>read()</code>方法读取文件内容<ul><li>file.read(num)<ul><li>file是文件对象</li><li>num表示读取的数据长度（单位是字节），如果没有传入num，那么就是读取所以的数据</li></ul></li></ul></li><li>使用<code>readline()</code>方法读取文件内容<ul><li>file.readline()</li><li>readline()方法读取文件的一行内容</li></ul></li><li>使用<code>readlines()</code>方法读取文件内容<ul><li>file.readlines()</li><li>readlines()方法读取文件的所有内容，返回一个列表，列表的每个元素是文件的一行内容</li></ul></li><li>for循环逐行读取</li><li>读取后关闭文件<ul><li>file.<code>close()</code></li><li><code>with open</code></li></ul></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#打开文件</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;D:Silvan.txt&quot;</span>,<span class="string">&quot;r&quot;</span>,encoding=<span class="string">&quot;UTF-8&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(f))</span><br><span class="line"><span class="comment">#读取文件- read()</span></span><br><span class="line"><span class="built_in">print</span>(f.read(<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(f.read())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;------&quot;</span>)</span><br><span class="line"><span class="comment">#读取文件- readLines()</span></span><br><span class="line">lines = f.readlines()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;lines对象的类型是<span class="subst">&#123;<span class="built_in">type</span>(lines)&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(lines)</span><br><span class="line"><span class="comment">#读取文件- readline()</span></span><br><span class="line">line1 = f.readline()</span><br><span class="line">line2 = f.readline()</span><br><span class="line">line3 = f.readline()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;第一行的内容<span class="subst">&#123;line1&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;第二行的内容<span class="subst">&#123;line2&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;第三行的内容<span class="subst">&#123;line3&#125;</span>&quot;</span>)</span><br><span class="line"><span class="comment"># for循环读取文件行</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;每一行的内容是<span class="subst">&#123;line&#125;</span>&quot;</span>)</span><br><span class="line"><span class="comment">#文件的关闭</span></span><br><span class="line">f.close()</span><br><span class="line"><span class="comment">#with open语法操作文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span> <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;每一行的内容是<span class="subst">&#123;line&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th style="text-align:center">操作</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center">文件对象 = open(file, mode, encoding)</td><td style="text-align:center">打开文件获得文件对象</td></tr><tr><td style="text-align:center">文件对象.read(num)</td><td style="text-align:center">读取指定长度字节 不指定num读取文件全部</td></tr><tr><td style="text-align:center">文件对象.readline()</td><td style="text-align:center">读取一行</td></tr><tr><td style="text-align:center">文件对象.readlines()</td><td style="text-align:center">读取全部行，得到列表</td></tr><tr><td style="text-align:center">for line in 文件对象</td><td style="text-align:center">for循环文件行，一次循环得到一行数据</td></tr><tr><td style="text-align:center">文件对象.close()</td><td style="text-align:center">关闭文件对象</td></tr><tr><td style="text-align:center">with open() as f</td><td style="text-align:center">通过with open语法打开文件，可以自动关闭</td></tr></tbody></table></div><h3 id="写入文件"><a href="#写入文件" class="headerlink" title="写入文件"></a>写入文件</h3><ul><li>可以通过<code>write()</code>方法将数据写入文件<div class="note warning no-icon flat"><p>需要注意的是，直接调用write，内容并未真正写入文件，而是会积攒在程序的内存中，称之为<code>缓冲区</code>；当调用flush的时候+内容会真正写入文件；这样做是避免频繁的操作硬盘，导致效率下降（攒一堆，一次性写磁盘)</p></div><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">演示文件的写入</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment">#打开文件，（不存在的文件，会自动创建）</span></span><br><span class="line">f= <span class="built_in">open</span>(<span class="string">&quot;E:/word.txt&quot;</span>,<span class="string">&quot;w&quot;</span>,encoding=<span class="string">&quot;UTF-8&quot;</span>)</span><br><span class="line"><span class="comment"># write写入</span></span><br><span class="line">f.write(<span class="string">&quot;hello&quot;</span>) <span class="comment">#内容写到内存中</span></span><br><span class="line"><span class="comment">#flush刷新</span></span><br><span class="line">f.flush()<span class="comment">#将内存积攒的内容写到硬盘的文件中</span></span><br><span class="line"><span class="comment">#close关闭，close方法内置了flush功能 </span></span><br><span class="line">f.close()</span><br><span class="line"><span class="comment">#打开一个存在的文件</span></span><br><span class="line"><span class="comment">#write写入、flush刷新</span></span><br><span class="line"><span class="comment">#close关闭</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="追加写入"><a href="#追加写入" class="headerlink" title="追加写入"></a>追加写入</h3><ul><li>追加写入即通过open函数的”a”模式打开文件后，再调用write方法写入内容，追加写入的内容会追加到文件末尾。</li><li>a模式，文件不存在时，会创建新文件；文件存在时，会在原有内容后面继续写入；可以使用”\n”来写出换行符</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">演示文件的追加</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment">#打开文件，（不存在的文件，会自动创建）</span></span><br><span class="line">f= <span class="built_in">open</span>(<span class="string">&quot;E:/word.txt&quot;</span>,<span class="string">&quot;a&quot;</span>,encoding=<span class="string">&quot;UTF-8&quot;</span>)</span><br><span class="line"><span class="comment"># write写入</span></span><br><span class="line">f.write(<span class="string">&quot;hsz&quot;</span>) <span class="comment">#内容写到内存中</span></span><br><span class="line"><span class="comment">#flush刷新</span></span><br><span class="line">f.flush()<span class="comment">#将内存积攒的内容写到硬盘的文件中</span></span><br><span class="line"><span class="comment">#close关闭，close方法内置了flush功能</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 编程语言 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JaveWeb---HTML、CSS</title>
      <link href="/2025/08/29/JaveWeb-HTML-CSS/"/>
      <url>/2025/08/29/JaveWeb-HTML-CSS/</url>
      
        <content type="html"><![CDATA[<h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>HTML是用来编写网页的一门语言，像京东，12306等网站都是用HTML编写的。</p><p>HTML(HyperText Markup Language)：<code>超文本标记语言</code></p><ul><li><p>超文本：超越了文本的限制，比普通文本更强大。除了文字信息，还可以定义图片、音频、视频等内容</p><p> 在网页中除了能看到一些文字，同时也有大量的图片展示；有些网页也有视频，音频等。这种展示效果超越了文本展示的限制。</p></li><li><p>标记语言：由标签构成的语言</p><p>之前学习的XML就是标记语言，由一个一个的标签组成，HTML 也是由标签组成 。我们在浏览器页面右键可以查看页面的源代码。</p></li></ul><p>HTML标签不像XML那样可以自定义，<code>HTML中的标签都是预定义好的</code>，运行在浏览器上并由浏览器解析，然后展示出对应的效果。例如我们想在浏览器上展示出图片就需要使用预定义的 <code>img</code> 标签；想展示可以点击的链接的效果就可以使用预定义的 <code>a</code> 标签等。</p><p>W3C标准：</p><ul><li>W3C是<code>万维网联盟</code>，这个组成是用来定义标准的。他们规定了一个网页是由三部分组成，分别是：<ul><li><code>结构</code>：对应的是 HTML 语言</li><li><code>表现</code>：对应的是 CSS 语言</li><li><code>行为</code>：对应的是 JavaScript 语言</li></ul></li></ul><ul><li>HTML定义页面的整体结构；</li><li>CSS是用来美化页面，让页面看起来更加美观；</li><li>JavaScript可以使网页动起来，比如轮播图也就是多张图片自动的进行切换等效果。</li></ul><h2 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h2><p>在IDEA中新建一个HTML文件，会默认为我们生成几个标签</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--HTML5的标识--&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--设定字符集--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>html标签是根标签，下面有 <code>head</code> 标签和 <code>body</code> 标签这两个子标签。而 <code>head</code> 标签的 <code>title</code> 子标签是用来定义页面标题名称的，它定义的内容会展示在浏览器的标题位置</p><p><code>body</code> 标签的内容会被展示在内容区中</p><p>使用<code>font</code>标签可以改变文字颜色、大小、字体</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--HTML5的标识--&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--设定字符集--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>我的第一个网页<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;red&quot;</span> <span class="attr">size</span>=<span class="string">&quot;5&quot;</span> <span class="attr">face</span>=<span class="string">&quot;楷体&quot;</span>&gt;</span>HELLO WORLD!!<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>HTML 结构标签</p></li><li><p>HTML 标签不区分大小写</p><p>如上案例中的 <code>font</code> 写成 <code>Font</code> 也是一样可以展示出对应的效果的。</p></li><li><p>HTML 标签属性值 单双引皆可</p><p>如上案例中的color属性值使用双引号也是可以的。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;red&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>HTML 语法松散</p><p>比如 font 标签不加结束标签也是可以展示出效果的。但不建议，最好严格按照要求去写。</p></li></ul><div class="table-container"><table><thead><tr><th style="text-align:center">标签</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center"><code>&lt;HTML&gt;</code></td><td style="text-align:center">定义HTML文档</td></tr><tr><td style="text-align:center"><code>&lt;head&gt;</code></td><td style="text-align:center">定义关于文档的信息</td></tr><tr><td style="text-align:center"><code>&lt;title&gt;</code></td><td style="text-align:center">定义文档的标题</td></tr><tr><td style="text-align:center"><code>&lt;body&gt;</code></td><td style="text-align:center">定义文档的主体</td></tr></tbody></table></div><h2 id="基础标签"><a href="#基础标签" class="headerlink" title="基础标签"></a>基础标签</h2><p>基础标签就是一些和文字相关的标签，如下：</p><div class="table-container"><table><thead><tr><th style="text-align:center">标签</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center"><code>&lt;h1&gt; ~ &lt;h6&gt;</code></td><td style="text-align:center">定义标题，h1最大，h6最小</td></tr><tr><td style="text-align:center"><code>&lt;font&gt;</code></td><td style="text-align:center">定义文本的字体、字体尺寸、字体颜色</td></tr><tr><td style="text-align:center"><code>&lt;b&gt;</code></td><td style="text-align:center">定义粗体文本</td></tr><tr><td style="text-align:center"><code>&lt;i&gt;</code></td><td style="text-align:center">定义斜体文本</td></tr><tr><td style="text-align:center"><code>&lt;u&gt;</code></td><td style="text-align:center">定义文本下划线</td></tr><tr><td style="text-align:center"><code>&lt;center&gt;</code></td><td style="text-align:center">定义文本居中</td></tr><tr><td style="text-align:center"><code>&lt;p&gt;</code></td><td style="text-align:center">定义段落</td></tr><tr><td style="text-align:center"><code>&lt;br&gt;</code></td><td style="text-align:center">定义折行</td></tr><tr><td style="text-align:center"><code>&lt;hr&gt;</code></td><td style="text-align:center">定义水平线</td></tr></tbody></table></div><h3 id="标题标签"><a href="#标题标签" class="headerlink" title="标题标签"></a>标题标签</h3><p>书写标题标签</p><p>标题标签中 h1最大，h6最小。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">h1</span>&gt;我是标题 <span class="selector-tag">h1</span>&lt;/<span class="selector-tag">h1</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">h2</span>&gt;我是标题 <span class="selector-tag">h2</span>&lt;/<span class="selector-tag">h2</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">h3</span>&gt;我是标题 <span class="selector-tag">h3</span>&lt;/<span class="selector-tag">h3</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">h4</span>&gt;我是标题 <span class="selector-tag">h4</span>&lt;/<span class="selector-tag">h4</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">h5</span>&gt;我是标题 <span class="selector-tag">h5</span>&lt;/<span class="selector-tag">h5</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">h6</span>&gt;我是标题 <span class="selector-tag">h6</span>&lt;/<span class="selector-tag">h6</span>&gt;</span><br></pre></td></tr></table></figure><h3 id="hr标签"><a href="#hr标签" class="headerlink" title="hr标签"></a>hr标签</h3><p><code>hr</code> 标签在浏览器中呈现出 <code>水平线</code> 的效果。</p><p>在页面文件中书写 hr 标签<br><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">&lt;hr&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="字体标签"><a href="#字体标签" class="headerlink" title="字体标签"></a>字体标签</h3><p>font：字体标签</p><ul><li><p><strong>face 属性：</strong>用来设置字体。如 “楷体”、”宋体”等</p></li><li><p><strong>color 属性：</strong>设置文字颜色。颜色有三种表示方式</p><ul><li><p><strong>英文单词</strong>：red,pink,blue…</p><p>这种方式表示的颜色特别有限，所以一般不用。</p></li><li><p><strong>rgb(值1,值2,值3)</strong>：值的取值范围：0~255</p><p>此种方式也就是三原色（红绿蓝）设置方式。 例如： rgb(255,0,0)。</p><p>这种书写起来比较麻烦，一般不用。</p></li><li><p><strong>#值1值2值3</strong>：值的范围：00~FF</p><p>这种方式是rgb方式的简化写法，以后基本都用此方式。</p><p>值1表示红色的范围，值2表示绿色的范围，值3表示蓝色范围。例如： #ff0000</p></li></ul></li><li><p><strong>size 属性：</strong>设置文字大小</p></li></ul><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="built_in">font</span> <span class="built_in">color</span>=<span class="string">&quot;red&quot;</span> <span class="built_in">size</span>=<span class="string">&quot;5&quot;</span> face=<span class="string">&quot;楷体&quot;</span>&gt;测试文本&lt;/<span class="built_in">font</span>&gt;  </span><br></pre></td></tr></table></figure><blockquote><p><strong>注意：</strong>font 标签已经不建议使用了，以后如果要改变文字字体，大小，颜色可以使用 CSS 进行设置。</p></blockquote><h3 id="换行标签"><a href="#换行标签" class="headerlink" title="换行标签"></a>换行标签</h3><p>如果直接在body标签中使用回车，是不会自动换行的，如果要实现换行效果，需要使用 换行标签（br标签）。</p><h3 id="段落标签"><a href="#段落标签" class="headerlink" title="段落标签"></a>段落标签</h3><p>上面文字展示的效果还是不太好，我们想让每一段上下都加空行。此时就需要使用段落标签（p标签）</p><p>在页面文件中书写如下内容：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>刚察草原绿草如茵，沙柳河水流淌入湖。藏族牧民索南才让家中，茶几上摆着馓子、麻花和水果，炉子上刚煮开的奶茶香气四溢……<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>6月8日下午，习近平总书记来到青海省海北藏族自治州刚察县沙柳河镇果洛藏贡麻村，走进牧民索南才让家中，看望慰问藏族群众。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>这种效果就会比之前的效果好一些，呈现出段落的效果。</p><h3 id="加粗、斜体、下划线标签"><a href="#加粗、斜体、下划线标签" class="headerlink" title="加粗、斜体、下划线标签"></a>加粗、斜体、下划线标签</h3><ul><li>b：加粗标签</li><li>i：斜体标签</li><li>u：下划线标签，在文字的下方有一条横线</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>沙柳河水流淌<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span>沙柳河水流淌<span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">u</span>&gt;</span>沙柳河水流淌<span class="tag">&lt;/<span class="name">u</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure><p>展示的效果如下：</p><blockquote><p><strong>沙柳河水流淌</strong></p><p><em>沙柳河水流淌</em></p><p><u>沙柳河水流淌</u></p></blockquote><h3 id="居中标签"><a href="#居中标签" class="headerlink" title="居中标签"></a>居中标签</h3><p>center ：文本居中</p><p>代码如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">    我是文章标题</span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果如下</p><center>    我是文章标题</center><h3 id="图片、音频、视频标签"><a href="#图片、音频、视频标签" class="headerlink" title="图片、音频、视频标签"></a>图片、音频、视频标签</h3><div class="table-container"><table><thead><tr><th style="text-align:center">标签</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center"><code>&lt;img&gt;</code></td><td style="text-align:center">定义图片</td></tr><tr><td style="text-align:center"><code>&lt;audio&gt;</code></td><td style="text-align:center">定义音频</td></tr><tr><td style="text-align:center"><code>&lt;video&gt;</code></td><td style="text-align:center">定义视频</td></tr></tbody></table></div><ul><li>img：定义图片<ul><li>src：规定显示图像的 URL（统一资源定位符）</li><li>height：定义图像的高度</li><li>width：定义图像的宽度</li></ul></li><li>audio：定义音频。支持的音频格式：MP3、WAV、OGG<ul><li>src：规定音频的 URL</li><li>controls：显示播放控件</li></ul></li><li>video：定义视频。支持的音频格式：MP4, WebM、OGG<ul><li>src：规定视频的 URL</li><li>controls：显示播放控件</li></ul></li></ul><p><strong>尺寸单位：</strong></p><p>height属性和width属性有两种设置方式：</p><ul><li>像素：单位是px</li><li>百分比。占父标签的百分比。例如宽度设置为 50%，意思就是占它的父标签宽度一半（50%） </li><li>不设置宽度，默认宽度是图片的宽度</li></ul><p><strong>资源路径：</strong></p><p>图片，音频，视频标签都有src属性，而src是用来指定对应的图片，音频，视频文件的路径。此处的图片，音频，视频就称为资源。资源路径有<code>绝对路径</code>和<code>相对路径</code>两种方式</p><h3 id="超链接标签"><a href="#超链接标签" class="headerlink" title="超链接标签"></a>超链接标签</h3><p>在网页中可以看到很多超链接标签，当我们点击这些超链接时会跳转到其他的页面或者资源。</p><p><code>a</code> 标签属性：</p><ul><li>href：指定访问资源的URL</li><li>target：指定打开资源的方式<ul><li>_self：默认值，在当前页面打开</li><li>_blank：在空白页面打开</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--HTML5的标识--&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--设定字符集--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>我的第一个网页<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://silvan2077.github.io/&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>点我跳转至博客主页<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="列表标签"><a href="#列表标签" class="headerlink" title="列表标签"></a>列表标签</h2><p><code>HTML</code> 中列表分为</p><ul><li><p>有序列表</p><ol><li>咖啡</li><li>牛奶</li><li>可乐</li></ol></li><li><p>无序列表</p><ul><li>Apex</li><li>Deadcells</li><li>Terraria</li></ul></li></ul><p><strong>标签说明：</strong></p><div class="table-container"><table><thead><tr><th style="text-align:center">标签</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center"><code>&lt;ol&gt;</code></td><td style="text-align:center">定义有序列表</td></tr><tr><td style="text-align:center"><code>&lt;ul&gt;</code></td><td style="text-align:center">定义无序列表</td></tr><tr><td style="text-align:center"><code>&lt;li&gt;</code></td><td style="text-align:center">定义列表项</td></tr></tbody></table></div><p>有序列表中的 <code>type</code> 属性用来指定标记的标号的类型（数字、字母、罗马数字等）</p><p>无序列表中的 <code>type</code> 属性用来指定标记的形状</p><p>代码演示：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--HTML5的标识--&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--设定字符集--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>我的第一个网页<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>咖啡<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>牛奶<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>可乐<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">type</span>=<span class="string">&quot;A&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Apex<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Deadcells<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Terraria<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="表格标签"><a href="#表格标签" class="headerlink" title="表格标签"></a>表格标签</h2><ul><li><code>table</code> ：定义表格<ul><li>border：规定表格边框的宽度</li><li>width ：规定表格的宽度</li><li>cellspacing：规定单元格之间的空白</li></ul></li><li><code>tr</code> ：定义行<ul><li>align：定义表格行的内容对齐方式</li></ul></li><li><code>td</code> ：定义单元格<ul><li>rowspan:规定单元格可横跨的行数(横向合并单元格)</li><li>colspan:规定单元格可横跨的列数(纵向合并单元格)</li></ul></li><li><code>th</code> ：定义表头单元格</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span> <span class="attr">cellspacing</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;500&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>序号<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>品牌logo<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>品牌名称<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>企业名称<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>010<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://t8.baidu.com/it/u=3082494854,3782081507&amp;fm=85&amp;app=131&amp;size=f242,150&amp;n=0&amp;f=JPEG&amp;fmt=auto?s=84165C97CFA40C8000A1E5EB0300E063&amp;sec=1660496400&amp;t=c8906529b7d9dfc5354b293d180b2ce1&quot;</span> <span class="attr">height</span>=<span class="string">&quot;20&quot;</span> <span class="attr">width</span>=<span class="string">&quot;30&quot;</span>  &gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>三只松鼠<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>三只松鼠<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>009<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://files.codelife.cc/website/5f2a578265bf280ee60a165a.png?x-oss-process=image/resize,limit_0,m_fill,w_100,h_100/quality,q_100&quot;</span> <span class="attr">height</span>=<span class="string">&quot;20&quot;</span> <span class="attr">width</span>=<span class="string">&quot;30&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>优衣库<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>优衣库<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>008<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://files.codelife.cc/website/mi.svg&quot;</span> <span class="attr">height</span>=<span class="string">&quot;20&quot;</span> <span class="attr">width</span>=<span class="string">&quot;30&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>小米<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>小米科技有限公司<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="布局标签"><a href="#布局标签" class="headerlink" title="布局标签"></a>布局标签</h2><div class="table-container"><table><thead><tr><th style="text-align:center">标签</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center"><code>&lt;div&gt;</code></td><td style="text-align:center">定义HTML文档中的一个区域部分，经常与CSS一起使用，用来布局网页</td></tr><tr><td style="text-align:center"><code>&lt;span&gt;</code></td><td style="text-align:center">用于组合行内元素。</td></tr></tbody></table></div><p>这两个标签，一般都是和css结合到一块使用来实现页面的布局。</p><p><code>div</code>标签 在浏览器上会有换行的效果，而 <code>span</code> 标签在浏览器上没有换行效果。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>我是div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>我是div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>我是span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>我是span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="表单标签"><a href="#表单标签" class="headerlink" title="表单标签"></a>表单标签</h2><p>表单标签效果大家其实都不陌生，像登陆页面、注册页面等都是表单。</p><p>表单就是用来<code>采集用户输入的数据</code>，然后将数据发送到服务端，服务端会对数据库进行操作，比如注册就是将数据保存到数据库中，而登陆就是根据用户名和密码进行数据库的查询操作。</p><h3 id="表单标签概述"><a href="#表单标签概述" class="headerlink" title="表单标签概述"></a>表单标签概述</h3><p>表单：在网页中主要负责数据采集功能，使用<code>&lt;form&gt;</code>标签定义表单</p><p>表单项(元素)：不同类型的 input 元素、下拉列表、文本域等</p><div class="table-container"><table><thead><tr><th style="text-align:center">标签</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center"><code>&lt;form&gt;</code></td><td style="text-align:center">定义表单</td></tr><tr><td style="text-align:center"><code>&lt;input&gt;</code></td><td style="text-align:center">定义表单项，通过type属性控制输入形式</td></tr><tr><td style="text-align:center"><code>&lt;label&gt;</code></td><td style="text-align:center">为表单项定义标注</td></tr><tr><td style="text-align:center"><code>&lt;select&gt;</code></td><td style="text-align:center">定义下拉列表</td></tr><tr><td style="text-align:center"><code>&lt;option&gt;</code></td><td style="text-align:center">定义下拉列表的列表项</td></tr><tr><td style="text-align:center"><code>&lt;textarea&gt;</code></td><td style="text-align:center">定义文本域</td></tr></tbody></table></div><p><code>form</code> 是表单标签，它在页面上没有任何展示的效果。需要借助于表单项标签来展示不同的效果。</p><h3 id="form标签属性"><a href="#form标签属性" class="headerlink" title="form标签属性"></a>form标签属性</h3><ul><li><p><strong>action：规定当提交表单时向何处发送表单数据，该属性值就是URL</strong></p><p>以后会将数据提交到服务端，该属性需要书写服务端的URL。而今天我们可以书写 <code>#</code> ，表示提交到当前页面来看效果。</p></li><li><p><strong>method ：规定用于发送表单数据的方式</strong></p><p>method取值有如下两种：</p><ul><li>get：默认值。如果不设置method属性则默认就是该值<ul><li>请求参数会拼接在URL后边</li><li>url的长度有限制 4KB</li></ul></li><li>post：<ul><li>浏览器会将数据放到http<code>请求消息体</code>中</li><li>请求参数无限制的</li></ul></li></ul></li></ul><h3 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h3><p>由于表单标签在页面上没有任何展示的效果，所以在演示的过程是会先使用 <code>input</code> 这个表单项标签展示输入框效果。</p><p>代码如下：<br><div class="tabs" id="input"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#input-1">输入框展示</button></li><li class="tab"><button type="button" data-href="#input-2">样例代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="input-1"><form>    <input type="text">    <input type="submit"></form><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="input-2"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><p>从效果可以看到页面有一个输入框，用户可以在数据框中输入自己想输入的内容，点击提交按钮以后会将数据发送到服务端，当然现在肯定不能实现。现在我们可以将 <code>form</code> 标签的 <code>action</code> 属性值设置为 <code>#</code> ，将其将数据提交到当前页面。还需要注意一点，要想提交数据，<code>input</code> 输入框必须设置 <code>name</code> 属性。代码如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;#&quot;</span>&gt;</span></span><br><span class="line">    用户名<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    密码<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>接下来我们来聊 <code>method</code> 属性，默认是 <code>method = &#39;get&#39;</code>，所以该取值就会将数据拼接到URL的后面。新建html文件，输入用户名为<code>silvan</code>，密码为<code>123321</code>，点击提交，效果如下：<code>file:///D:/Desktop/111.html?username=silvan&amp;password=123321#</code></p><h3 id="表单项标签"><a href="#表单项标签" class="headerlink" title="表单项标签"></a>表单项标签</h3><p>表单项标签有很多，不同的表单项标签有不同的展示效果。表单项标签可以分为以下三个：</p><ul><li><code>&lt;input&gt;</code>：表单项，通过type属性控制输入形式<br><code>input</code> 标签有个 <code>type</code> 属性。 <code>type</code> 属性的取值不同，展示的效果也不一样。</li></ul><div class="table-container"><table><thead><tr><th style="text-align:center">type取值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">text</td><td style="text-align:center">默认值。定义单行的输入字段</td></tr><tr><td style="text-align:center">password</td><td style="text-align:center">定义密码字段</td></tr><tr><td style="text-align:center">radio</td><td style="text-align:center">定义单选按钮 男 女</td></tr><tr><td style="text-align:center">checkbox</td><td style="text-align:center">定义复选框 Apex Deadcells Terraria</td></tr><tr><td style="text-align:center">file</td><td style="text-align:center">定义文件上传按钮</td></tr><tr><td style="text-align:center">hidden</td><td style="text-align:center">定义隐藏的输入字段</td></tr><tr><td style="text-align:center">submit</td><td style="text-align:center">定义提交按钮，提交按钮会把表单数据发送到服务器</td></tr><tr><td style="text-align:center">reset</td><td style="text-align:center">定义重置按钮，重置按钮会清除表单中的所有数据</td></tr><tr><td style="text-align:center">button</td><td style="text-align:center">定义可点击按钮</td></tr></tbody></table></div><ul><li><p><code>&lt;select&gt;</code>：定义下拉列表，<code>&lt;option&gt;</code> 定义列表项</p><div class="tabs" id="select"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#select-1">下拉列表</button></li><li class="tab"><button type="button" data-href="#select-2">样例代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="select-1"><select>    <option>北京</option>    <option>上海</option>    <option>广州</option>    <option>深圳</option></select><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="select-2"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>广州<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>深圳<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li><li><p><code>&lt;textarea&gt;</code>：文本域，它可以输入多行文本，而 <code>input</code> 数据框只能输入一行文本。</p><div class="tabs" id="textarea"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#textarea-1">文本域</button></li><li class="tab"><button type="button" data-href="#textarea-2">样例代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="textarea-1"><textarea></textarea><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="textarea-2"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ul><blockquote><ul><li>以上标签项的内容要想提交，必须得定义 <code>name</code> 属性。</li><li>每一个标签都有id属性，id属性值是唯一的标识。</li><li>单选框、复选框、下拉列表需要使用 <code>value</code> 属性指定提交的值。</li></ul></blockquote><ul><li>练习：实现以下表单样式<div class="tabs" id="form"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#form-1">表单</button></li><li class="tab"><button type="button" data-href="#form-2">代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="form-1"><html lang="en"><head>    <meta charset="UTF-8">    <title>Title</title></head><body><form action="#">    用户名：    <input type="text" name="username"><br>    密码：    <input type="password" name="password"><br>    性别：    <input type="radio" name="gender" value="1">男    <input type="radio" name="gender" value="2">女<br>    爱好：    <input type="checkbox" name="hobbby" value="1">Apex    <input type="checkbox" name="hobbby" value="2">Deadcells    <input type="checkbox" name="hobbby" value="3">Terraria<br>    头像：    <input type="file"><br>    城市：    <select>        <option>北京</option>        <option>上海</option>        <option>广州</option>        <option>深圳</option>    </select><br>    个人描述：    <textarea cols="20" rows="5" name="desc"></textarea><br>    <input type="submit" value="免费注册">    <input type="reset" value="重置">    <input type="button" value="一个按钮"></form></body></html><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="form-2"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;#&quot;</span>&gt;</span></span><br><span class="line">    用户名：</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    密码：</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    性别：</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>男</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>女<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    爱好：</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobbby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>Apex</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobbby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>Deadcells</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobbby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>Terraria<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    头像：</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    城市：</span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>广州<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>深圳<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    个人描述：</span><br><span class="line">    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">cols</span>=<span class="string">&quot;20&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;5&quot;</span> <span class="attr">name</span>=<span class="string">&quot;desc&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;免费注册&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重置&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;一个按钮&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ul><h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>CSS 是一门语言，用于控制网页表现。我们之前介绍过W3C标准。W3C标准规定了网页是由以下组成：</p><blockquote><ul><li>结构：HTML</li><li>表现：CSS</li><li>行为：JavaScript</li></ul></blockquote><p>CSS也有一个专业的名字：<code>Cascading Style Sheet</code>（层叠样式表）。</p><p>如下面的代码， <code>style</code> 标签中定义的就是css代码。该代码描述了将 div 标签的内容的字体颜色设置为 红色。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">div</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>Hello CSS~<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CSS导入方式"><a href="#CSS导入方式" class="headerlink" title="CSS导入方式"></a>CSS导入方式</h2><p>CSS 导入方式其实就是 CSS 代码和 html 代码的结合方式。CSS 导入 HTML有三种方式：</p><ol><li>内联样式：在标签内部使用style属性，属性值是CSS属性键值对</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;color: red&quot;</span>&gt;</span>Hello CSS~<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>给方式只能作用在这一个标签上，如果其他的标签也想使用同样的样式，那就需要在其他标签上写上相同的样式。复用性太差。</p><ol><li>内部样式：定义<code>&lt;style&gt;</code>标签，在标签内部定义CSS样式</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">span</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这种方式可以做到在该页面中复用，被span标签包裹的字体会变为红色</p><ol><li>外部样式：定义link标签，引入外部的CSS文件</li></ol><ul><li>编写一个CSS文件。名为：demo.css，内容如下:</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line"><span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>在html中引入 CSS 文件。</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span>  <span class="attr">href</span>=<span class="string">&quot;demo.css&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这种方式可以在多个页面进行复用。其他的页面想使用同样的样式，只需要使用 <code>link</code> 标签引入该CSS文件。</p><h2 id="CSS选择器"><a href="#CSS选择器" class="headerlink" title="CSS选择器"></a>CSS选择器</h2><p>CSS 选择器就是选取需设置样式的元素（标签），比如如下CSS代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line"><span class="attribute">color</span>:red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如上代码中的 <code>div</code> 就是 css 中的选择器。这里只讲下面三种选择器：</p><ul><li>元素选择器<br>格式：</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">元素名称&#123;<span class="attribute">color</span>: red;&#125;</span><br></pre></td></tr></table></figure><p>举例：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;<span class="attribute">color</span>:red&#125;  <span class="comment">/*该代码表示将页面中所有的div标签的内容的颜色设置为红色*/</span></span><br></pre></td></tr></table></figure><ul><li>id选择器<br>格式：</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#id</span>属性值&#123;<span class="attribute">color</span>: red;&#125;</span><br></pre></td></tr></table></figure><p>举例：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#name</span>&#123;<span class="attribute">color</span>: red;&#125;<span class="comment">/*该代码表示将页面中所有的id属性值是 name 的标签的内容的颜色设置为红色*/</span></span><br></pre></td></tr></table></figure><p>在HTML中调用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span>&gt;</span>hello css2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>类选择器<br>格式：</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.class</span>属性值&#123;<span class="attribute">color</span>: red;&#125;</span><br></pre></td></tr></table></figure><p>举例：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.cls</span>&#123;<span class="attribute">color</span>: red;&#125; <span class="comment">/*该代码表示将页面中所有的class属性值是 cls 的标签的内容的颜色设置为红色*/</span></span><br></pre></td></tr></table></figure><p>在HTML中调用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;cls&quot;</span>&gt;</span>hello css3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CSS属性"><a href="#CSS属性" class="headerlink" title="CSS属性"></a>CSS属性</h2><p>css有很多css属性，想把它们都学会，需要花费很长的时间。而作为java程序员，不需要重点掌握这部分内容。对于网页三剑客中css是对我们要求最低的。了解一些简单的CSS属性就可以，剩下的可以去W3School查。</p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
            <tag> HTML </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JaveWeb---HTML、CSS、JavaScript</title>
      <link href="/2025/08/29/JaveWeb-JS/"/>
      <url>/2025/08/29/JaveWeb-JS/</url>
      
        <content type="html"><![CDATA[<h2 id="JavaScript简介"><a href="#JavaScript简介" class="headerlink" title="JavaScript简介"></a>JavaScript简介</h2><p>JavaScript 是一门<code>跨平台</code>、<code>面向对象</code>的脚本语言，而Java语言也是跨平台的、面向对象的语言，只不过Java是编译语言，是需要编译成字节码文件才能运行的；JavaScript是脚本语言，不需要编译，由浏览器直接解析并执行。</p><p>JavaScript能用来<code>控制网页行为</code>，使得网页可交互；</p><p>JavaScript（简称：JS） 在 1995 年由 Brendan Eich 发明，并于 1997 年成为一部 ECMA 标准。ECMA 规定了一套标准 就叫 <code>ECMAScript</code> ，所有的客户端校验语言必须遵守这个标准，当然 JavaScript 也遵守了这个标准。</p><h2 id="JavaScript引入方式"><a href="#JavaScript引入方式" class="headerlink" title="JavaScript引入方式"></a>JavaScript引入方式</h2><p>JavaScript 引入方式就是 HTML 和 JavaScript 的结合方式。JavaScript引入方式有两种：</p><ul><li>内部脚本：将 JS代码定义在HTML页面中</li><li>外部脚本：将 JS代码定义在外部 JS文件中，然后引入到 HTML页面中</li></ul><h3 id="内部脚本"><a href="#内部脚本" class="headerlink" title="内部脚本"></a>内部脚本</h3><p>在 HTML 中，JavaScript 代码必须位于 <code>&lt;script&gt;</code> 与 <code>&lt;/script&gt;</code> 标签之间</p><p><strong>代码如下：</strong></p><p><code>alert(数据)</code> 是 JavaScript 的一个方法，作用是将参数数据以浏览器弹框的形式输出出来。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">alert</span>(<span class="string">&quot;Hello JavaScript&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><ul><li>在 HTML 文档中可以在任意地方，可以放置任意数量的<code>&lt;script&gt;</code>标签。</li><li>不过一般把脚本放置在<code>&lt;body&gt;</code>元素的底部，可以改善显示速度</li><li>因为浏览器在加载页面的时候会从上往下进行加载并解析。 我们应该先让用户看到页面内容，然后再展示动态的效果。</li></ul></blockquote><h3 id="外部脚本"><a href="#外部脚本" class="headerlink" title="外部脚本"></a>外部脚本</h3><p>外部脚本即为定义外部 js 文件，将js代码写在文件中</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;hello js&quot;</span>);</span><br></pre></td></tr></table></figure><p>在页面使用 <code>script</code> 标签中使用 <code>src</code> 属性指定 js 文件的 URL 路径。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/demo.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span> </span><br></pre></td></tr></table></figure><blockquote><ul><li>在js文件中直接写 js 代码即可，不要在 js文件 中写 <code>script</code> 标签</li><li><code>&lt;script&gt;</code> 标签不能自闭合</li></ul></blockquote><h2 id="JavaScript基础语法"><a href="#JavaScript基础语法" class="headerlink" title="JavaScript基础语法"></a>JavaScript基础语法</h2><h3 id="书写语法"><a href="#书写语法" class="headerlink" title="书写语法"></a>书写语法</h3><ul><li><p>区分大小写：与 Java 一样，变量名、函数名以及其他一切东西都是区分大小写的</p></li><li><p>每行结尾的分号可有可无（建议还是加上）</p><p>如果一行上写多个语句时，必须加分号用来区分多个语句。</p></li><li><p>注释</p><ul><li>单行注释：// 注释内容</li><li>多行注释：/<em> 注释内容 </em>/</li></ul></li></ul><p>注意：JavaScript 没有文档注释</p><ul><li>大括号表示代码块</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (count == <span class="number">3</span>) &#123; </span><br><span class="line">   <span class="title function_">alert</span>(count); </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="输出语句"><a href="#输出语句" class="headerlink" title="输出语句"></a>输出语句</h3><p>js 可以通过以下方式进行内容输出，只不过不同的语句输出到的位置不同<br><div class="tabs" id="输出语句"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#输出语句-1">window.alert()</button></li><li class="tab"><button type="button" data-href="#输出语句-2">document.write()</button></li><li class="tab"><button type="button" data-href="#输出语句-3">console.log()</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="输出语句-1"><ul><li>使用 window.alert() 写入警告框</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="title function_">alert</span>(<span class="string">&quot;HELLO JS&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="输出语句-2"><ul><li>使用 document.write() 写入 HTML 输出</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&quot;HELLO JS&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="输出语句-3"><ul><li>使用 console.log() 写入浏览器控制台</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;HELLO JS&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>JavaScript中使用var关键字（variable的缩写）来声明变量，格式<code>var 变量名 = 数据值;</code>。<br>JavaScript是一门<code>弱类型语言</code>，变量可以存放不同类型的值</p><p>js 中的变量名命名也有如下规则，和java语言基本都相同</p><ul><li>组成字符可以是任何字母、数字、下划线（_）或美元符号（$）</li><li>数字不能开头</li><li>建议使用驼峰命名</li></ul><p>JavaScript 中 <code>var</code> 关键字有点特殊，有以下地方和其他语言不一样</p><ul><li><code>作用域：全局变量</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> age = <span class="number">18</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(age); <span class="comment">//在代码块中定义age，在代码块外依然能使用</span></span><br></pre></td></tr></table></figure><ul><li><code>变量可以重复定义</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> age = <span class="number">18</span>;</span><br><span class="line">    <span class="keyword">var</span> age = <span class="number">14</span>; <span class="comment">//JavaScript会用14替换之前的18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(age); <span class="comment">//最后输出的是14</span></span><br></pre></td></tr></table></figure><blockquote><p>针对如上的问题，ECMAScript 6 新增了 <code>let</code>关键字来定义变量。它的用法类似于 <code>var</code>，但是<code>let</code>声明的变量，只在 <code>let</code> 关键字所在的代码块内有效，且不允许重复声明。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> age = <span class="number">18</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(age);  <span class="comment">//试图在代码块外部输出age</span></span><br></pre></td></tr></table></figure><p>浏览器不会弹窗输出结果，F12打开控制台会出现<code>Uncaught ReferenceError: age is not defined</code>错误，age未定义。</p><p>ECMAScript 6 新增了 const关键字，用来声明一个只读的常量。一旦声明，常量的值就不能改变。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="variable constant_">PI</span> = <span class="number">3.14159</span>;</span><br><span class="line">    <span class="variable constant_">PI</span> = <span class="number">3.14</span>;  <span class="comment">//IDEA会直接报错</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>JavaScript 中提供了两类数据类型：<code>原始类型</code> 和 <code>引用类型</code>。</p><p>使用 <code>typeof</code> 运算符可以获取数据类型</p><p>例如<code>alert(typeof age);</code> 以弹框的形式将 age 变量的数据类型输出</p><p>原始数据类型：</p><ul><li>number：数字（整数，小数，NaN(Not a Number)）</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="number">3.14</span>;</span><br><span class="line"><span class="keyword">var</span> price = <span class="number">521</span>;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(<span class="keyword">typeof</span> age);   <span class="comment">//结果为number</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(<span class="keyword">typeof</span> price); <span class="comment">//结果为number  </span></span><br></pre></td></tr></table></figure><blockquote><p>注意： NaN是一个特殊的number类型的值，后面用到再说</p></blockquote><ul><li>string：字符、字符串，单引号和双引号都行</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ch = <span class="string">&#x27;X&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;Tom&#x27;</span>; </span><br><span class="line"><span class="keyword">var</span> addr = <span class="string">&quot;US&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(<span class="keyword">typeof</span> ch);   <span class="comment">//结果是  string</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="keyword">typeof</span> name); <span class="comment">//结果是  string</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="keyword">typeof</span> addr); <span class="comment">//结果是  string</span></span><br></pre></td></tr></table></figure><p>注意：==在 js 中 双引号和单引号都表示字符串类型的数据</p><ul><li>boolean：布尔。true，false</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> flag1 = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> flag2 = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(<span class="keyword">typeof</span> flag1);  <span class="comment">//结果是 boolean</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="keyword">typeof</span> flag2); <span class="comment">//结果是 boolean</span></span><br></pre></td></tr></table></figure><ul><li>null：对象为空</li></ul><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">alert(<span class="keyword">typeof</span> obj); <span class="comment">//结果是 object</span></span><br></pre></td></tr></table></figure><p>为什么结果是object，官方给出了这个解释</p><blockquote><p>注释:您也许会问，为什么typeof 运算符对于null值会返回“Object”。这实际上是JavaScript最初实现中的一个错误，然后被ECMAScript沿用了。现在，null被认为是对象的占位符，从而解释了这一矛盾，但从技术上来说，它仍然是原始值。</p></blockquote><ul><li>undefined：当声明的变量未初始化时，该变量的默认值是 undefined</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a ;</span><br><span class="line"><span class="title function_">alert</span>(<span class="keyword">typeof</span> a); <span class="comment">//结果是 undefined</span></span><br></pre></td></tr></table></figure><h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p>JavaScript 提供了如下的运算符。大部分和 Java语言 都是一样的，不同的是 JS 关系运算符中的 <code>==</code> 和 <code>===</code>，只演示一下这两个的区别，其他运算符将不做演示</p><ul><li>一元运算符：++，—</li><li>算术运算符：+，-，*，/，%</li><li>赋值运算符：=，+=，-=…</li><li>关系运算符：&gt;，&lt;，&gt;=，&lt;=，!=，==，===…</li><li>逻辑运算符：&amp;&amp;，||，!</li><li>三元运算符：条件表达式 ? true_value : false_value</li></ul><h4 id="和-区别"><a href="#和-区别" class="headerlink" title="==和===区别"></a>==和===区别</h4><ul><li>==：<ol><li>判断类型是否一样，如果不一样，则进行类型转换</li><li>再去比较其值</li></ol></li><li>===：js 中的全等于<ol><li>判断类型是否一样，如果不一样，直接返回false</li><li>再去比较其值</li></ol></li><li>验证</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tmp1 = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">var</span> tmp2 = <span class="string">&quot;18&quot;</span>;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(tmp1 == tmp2);     <span class="comment">//ture</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(tmp1 === tmp2);    <span class="comment">//false</span></span><br></pre></td></tr></table></figure><h4 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h4><p>上述讲解 <code>==</code> 运算符时，发现会进行类型转换，这里就来详细说说JavaScript中的类型转换</p><ul><li><p>其他类型转为number</p><ul><li><p>string 转换为 number 类型：按照字符串的字面值，转为数字。如果字面值不是数字，则转为<code>NaN</code></p><p>将 string 转换为 number 有两种方式：</p><ul><li>使用 <code>+</code> 正号运算符：</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> tmp1 = <span class="string">&quot;18&quot;</span>;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(+tmp1 + <span class="number">1</span>);    <span class="comment">//19</span></span><br></pre></td></tr></table></figure><ul><li>使用 <code>parseInt()</code> 函数：</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> tmp1 = <span class="string">&quot;18&quot;</span>;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(<span class="built_in">parseInt</span>(tmp1) + <span class="number">1</span>);   <span class="comment">//19</span></span><br></pre></td></tr></table></figure></li></ul><div class="note warning no-icon flat"><p>建议使用 <code>parseInt()</code> 函数进行转换。</p></div><ul><li>boolean 转换为 number 类型：true 转为1，false转为0</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> flag = +<span class="literal">false</span>;</span><br><span class="line"><span class="title function_">alert</span>(flag); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure></li><li><p>其他类型转为boolean</p></li></ul><div class="note no-icon flat"><ul><li>number 类型转换为 boolean 类型：0和NaN转为false，其他的数字转为true</li><li>string 类型转换为 boolean 类型：空字符串转为false，其他的字符串转为true</li><li>null类型转换为 boolean 类型是 false</li><li>undefined 转换为 boolean 类型是 false</li></ul></div><p><strong>使用场景：</strong></p><p>在 Java 中使用字符串前，一般都会先判断字符串不是null，并且不是空字符才会做其他的一些操作，JavaScript也有类型的操作，代码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//健壮性判断</span></span><br><span class="line"><span class="keyword">if</span>(str != <span class="literal">null</span> &amp;&amp; str.<span class="property">length</span> &gt; <span class="number">0</span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;转为true&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;转为false&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但是由于 JavaScript 会自动进行类型转换，所以上述的判断可以进行简化，代码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//健壮性判断</span></span><br><span class="line"><span class="keyword">if</span>(str)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;转为true&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;转为false&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="流程控制语句"><a href="#流程控制语句" class="headerlink" title="流程控制语句"></a>流程控制语句</h3><p>JavaScript 中提供了和 Java 一样的流程控制语句，如下</p><ul><li>if</li><li>switch</li><li>for</li><li>while</li><li>dowhile</li></ul><h4 id="if-语句"><a href="#if-语句" class="headerlink" title="if 语句"></a>if 语句</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(num = <span class="number">1</span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(num)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="switch-语句"><a href="#switch-语句" class="headerlink" title="switch 语句"></a>switch 语句</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">8</span>;</span><br><span class="line"><span class="keyword">switch</span> (num) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;星期一&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;星期二&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;星期三&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;星期四&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;星期无&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;星期六&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;星期日&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;输入有误&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="for-语句"><a href="#for-语句" class="headerlink" title="for 语句"></a>for 语句</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">write</span>(num++ + <span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="while-语句"><a href="#while-语句" class="headerlink" title="while 语句"></a>while 语句</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (num &lt; <span class="number">10</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">write</span>(num++ + <span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="dowhile-语句"><a href="#dowhile-语句" class="headerlink" title="dowhile 语句"></a>dowhile 语句</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">write</span>(num++ + <span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125; <span class="keyword">while</span> (num &lt; <span class="number">20</span>);</span><br></pre></td></tr></table></figure><h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>函数（就是Java中的方法）是被设计为执行特定任务的代码块；JavaScript 函数通过 function 关键词进行定义。</p><h4 id="定义格式"><a href="#定义格式" class="headerlink" title="定义格式"></a>定义格式</h4><p>函数定义格式有两种：</p><ul><li><strong>方式一：</strong> </li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> 函数名(参数列表)&#123;</span><br><span class="line">    要执行的代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>方式二：</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 函数名 = <span class="keyword">function</span>(<span class="params">参数列表</span>)&#123;</span><br><span class="line">    要执行的代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note warning no-icon flat"><p>注意：形式参数不需要类型。因为JavaScript是弱类型语言<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>上述函数的参数 a 和 b 不需要定义数据类型，因为在每个参数前加上 var 也没有任何意义。</p><p>返回值也不需要定义类型，可以在函数内部直接使用return返回即可</p></div><h3 id="函数调用"><a href="#函数调用" class="headerlink" title="函数调用"></a>函数调用</h3><p>函数调用函数：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">函数名称(实际参数列表);</span><br></pre></td></tr></table></figure><p>举例</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> res = <span class="title function_">add</span>(<span class="number">3.14</span>, <span class="number">10</span>);</span><br><span class="line"><span class="title function_">alert</span>(res);</span><br></pre></td></tr></table></figure><div class="note warning no-icon flat"><p>JS中，函数调用可以传递任意个数参数<br>例如 <code>let result = add(1,2,3);</code><br>它是将数据 1 传递给了变量a，将数据 2 传递给了变量 b，而数据 3 没有变量接收。</p></div><h2 id="JavaScript常用对象"><a href="#JavaScript常用对象" class="headerlink" title="JavaScript常用对象"></a>JavaScript常用对象</h2><p>JavaScript 提供了很多对象供使用者来使用。这些对象总共分类三类</p><ul><li><code>基本对象</code></li><li><code>BOM对象</code></li><li><code>DOM对象</code></li></ul><p>先学习基本对象，主要学习 <code>Array</code> 数组对象和 <code>String</code> 字符串对象。</p><h2 id="Array对象"><a href="#Array对象" class="headerlink" title="Array对象"></a>Array对象</h2><p>JavaScript Array对象用于定义数组</p><h3 id="定义格式-1"><a href="#定义格式-1" class="headerlink" title="定义格式"></a>定义格式</h3><p>数组的定义格式有两种：</p><div class="tabs" id="array对象"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#array对象-1">方式一</button></li><li class="tab"><button type="button" data-href="#array对象-2">方式二</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="array对象-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>); <span class="comment">//1,2,3 是存储在数组中的数据（元素）</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="array对象-2"><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]; <span class="comment">//1,2,3 是存储在数组中的数据（元素）</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note warning no-icon flat"><p>注意：Java中的数组静态初始化使用的是{}定义，而 JavaScript 中使用的是 [] 定义</p></div><h4 id="元素访问"><a href="#元素访问" class="headerlink" title="元素访问"></a>元素访问</h4><p>访问数组中的元素和 Java 语言的一样，格式如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[索引] = 值;</span><br></pre></td></tr></table></figure><p>代码演示：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr[<span class="number">0</span>] = <span class="number">10</span>;</span><br><span class="line"><span class="title function_">alert</span>(arr);</span><br></pre></td></tr></table></figure><h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><p>JavaScript 中的数组相当于 Java 中的<code>集合</code>。数组的长度是可以变化的，而 JavaScript 是弱类型，所以可以存储任意的类型的数据。</p><p>例如如下代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">arr[<span class="number">7</span>] = <span class="literal">true</span>;</span><br><span class="line">arr[<span class="number">8</span>] = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">arr[<span class="number">10</span>] = <span class="number">10</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(arr);    <span class="comment">//1,2,3,,,,,true,张三,,10</span></span><br></pre></td></tr></table></figure><h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><div class="table-container"><table><thead><tr><th style="text-align:center">属性</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">constructor</td><td style="text-align:center">返回创建 Array 对象原型的函数。</td></tr><tr><td style="text-align:center">length</td><td style="text-align:center">设置或返回数组中元素的数量。</td></tr><tr><td style="text-align:center">prototype</td><td style="text-align:center">允许您向数组添加属性和方法。</td></tr></tbody></table></div><p>这里只说一下 <code>length</code> 属性，该数组可以动态的获取数组的长度。而有这个属性，我们就可以遍历数组了</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">arr[<span class="number">7</span>] = <span class="literal">true</span>;</span><br><span class="line">arr[<span class="number">8</span>] = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">arr[<span class="number">10</span>] = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">write</span>(arr[i] + <span class="string">&quot;,&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//1,2,3,undefined,undefined,undefined,undefined,true,张三,undefined,10,</span></span><br></pre></td></tr></table></figure><h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><p>Array 对象同样也提供了很多方法</p><div class="table-container"><table><thead><tr><th style="text-align:center">方法</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">concat()</td><td style="text-align:center">连接两个或多个数组，并返回已连接数组的副本。</td></tr><tr><td style="text-align:center">copyWithin()</td><td style="text-align:center">将数组中的数组元素复制到指定位置或从指定位置复制。</td></tr><tr><td style="text-align:center">entries()</td><td style="text-align:center">返回键/值对数组迭代对象。</td></tr><tr><td style="text-align:center">every()</td><td style="text-align:center">检查数组中的每个元素是否通过测试。</td></tr><tr><td style="text-align:center">fill()</td><td style="text-align:center">用静态值填充数组中的元素。</td></tr><tr><td style="text-align:center">filter()</td><td style="text-align:center">使用数组中通过测试的每个元素创建新数组。</td></tr><tr><td style="text-align:center">find()</td><td style="text-align:center">返回数组中第一个通过测试的元素的值。</td></tr><tr><td style="text-align:center">findIndex()</td><td style="text-align:center">返回数组中通过测试的第一个元素的索引。</td></tr><tr><td style="text-align:center">forEach()</td><td style="text-align:center">为每个数组元素调用函数。</td></tr><tr><td style="text-align:center">from()</td><td style="text-align:center">从对象创建数组。</td></tr><tr><td style="text-align:center">includes()</td><td style="text-align:center">检查数组是否包含指定的元素。</td></tr><tr><td style="text-align:center">indexOf()</td><td style="text-align:center">在数组中搜索元素并返回其位置。</td></tr><tr><td style="text-align:center">isArray()</td><td style="text-align:center">检查对象是否为数组。</td></tr><tr><td style="text-align:center">join()</td><td style="text-align:center">将数组的所有元素连接成一个字符串。</td></tr><tr><td style="text-align:center">keys()</td><td style="text-align:center">返回 Array Iteration 对象，包含原始数组的键.</td></tr><tr><td style="text-align:center">lastIndexOf()</td><td style="text-align:center">在数组中搜索元素，从末尾开始，并返回其位置。</td></tr><tr><td style="text-align:center">map()</td><td style="text-align:center">使用为每个数组元素调用函数的结果创建新数组。</td></tr><tr><td style="text-align:center">pop()</td><td style="text-align:center">删除数组的最后一个元素，并返回该元素。</td></tr><tr><td style="text-align:center">push()</td><td style="text-align:center">将新元素添加到数组的末尾，并返回新的长度。</td></tr><tr><td style="text-align:center">reduce()</td><td style="text-align:center">将数组的值减为单个值（从左到右）。</td></tr><tr><td style="text-align:center">reduceRight()</td><td style="text-align:center">将数组的值减为单个值（从右到左）。</td></tr><tr><td style="text-align:center">reverse()</td><td style="text-align:center">反转数组中元素的顺序。</td></tr><tr><td style="text-align:center">shift()</td><td style="text-align:center">删除数组的第一个元素，并返回该元素。</td></tr><tr><td style="text-align:center">slice()</td><td style="text-align:center">选择数组的一部分，并返回新数组。</td></tr><tr><td style="text-align:center">some()</td><td style="text-align:center">检查数组中的任何元素是否通过测试。</td></tr><tr><td style="text-align:center">sort()</td><td style="text-align:center">对数组的元素进行排序。</td></tr><tr><td style="text-align:center">splice()</td><td style="text-align:center">从数组中添加/删除元素。</td></tr><tr><td style="text-align:center">toString()</td><td style="text-align:center">将数组转换为字符串，并返回结果。</td></tr><tr><td style="text-align:center">unshift()</td><td style="text-align:center">将新元素添加到数组的开头，并返回新的长度。</td></tr><tr><td style="text-align:center">valueOf()</td><td style="text-align:center">返回数组的原始值。</td></tr></tbody></table></div><p>只演示一下 <code>push</code> 函数和 <code>splice</code> 函数。</p><ul><li>push 函数：给数组添加元素，也就是在数组的末尾添加元素<ul><li>参数表示要添加的元素</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">arr.<span class="title function_">push</span>(<span class="number">4</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(arr); <span class="comment">//1,2,3,4</span></span><br></pre></td></tr></table></figure><ul><li>splice 函数：删除元素<ul><li>参数1：索引。表示从哪个索引位置删除</li><li>参数2：个数。表示删除几个元素</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">arr.<span class="title function_">push</span>(<span class="number">4</span>);</span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(arr);    <span class="comment">//1,4</span></span><br></pre></td></tr></table></figure><h3 id="String对象"><a href="#String对象" class="headerlink" title="String对象"></a>String对象</h3><p>String对象的创建方式有两种</p><ul><li>方式1：</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 变量名 = <span class="keyword">new</span> <span class="title class_">String</span>(s); </span><br></pre></td></tr></table></figure><ul><li>方式二</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 变量名 = <span class="string">&quot;数组&quot;</span>; </span><br></pre></td></tr></table></figure><p>String对象的与Java中String的方法大多数都一致，这里讲一个常用的方法<code>trim()</code>，它是用来去掉字符串两端的空格。<br>用户在输入用户名和密码时，可能会习惯的输入一些空格，这样在我们后端程序中判断用户名和密码是否正确，结果肯定是失败。所以我们一般都会对用户输入的字符串数据进行去除前后空格的操作。</p><h3 id="自定义对象"><a href="#自定义对象" class="headerlink" title="自定义对象"></a>自定义对象</h3><p>在 JavaScript 中自定义对象特别简单，下面就是自定义对象的格式：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 对象名称 = &#123;</span><br><span class="line">    属性名称<span class="number">1</span>:属性值<span class="number">1</span>,</span><br><span class="line">    属性名称<span class="number">2</span>:属性值<span class="number">2</span>,</span><br><span class="line">    ...,</span><br><span class="line">    函数名称:<span class="keyword">function</span> (<span class="params">形参列表</span>)&#123;&#125;,</span><br><span class="line">...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>调用属性的格式：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象名.属性名</span><br></pre></td></tr></table></figure><p>调用函数的格式：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象名.函数名()</span><br></pre></td></tr></table></figure><p>代码演示：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;张三&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">18</span>,</span><br><span class="line">    <span class="attr">hobby</span>:<span class="keyword">function</span> (<span class="params"></span>)&#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;干饭&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(person.<span class="property">name</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(person.<span class="property">age</span>);</span><br><span class="line">person.<span class="title function_">hobby</span>();</span><br></pre></td></tr></table></figure><h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><h3 id="Window对象"><a href="#Window对象" class="headerlink" title="Window对象"></a>Window对象</h3><p>window 对象是 JavaScript 对浏览器的窗口进行封装的对象。</p><h4 id="获取window对象"><a href="#获取window对象" class="headerlink" title="获取window对象"></a>获取window对象</h4><p>该对象不需要创建直接使用 <code>window</code>，其中 <code>window.</code>可以省略。比如我们之前使用的 <code>alert()</code> 函数，其实就是 <code>window</code> 对象的函数，在调用是可以写成如下两种</p><ul><li>显式使用 <code>window</code> 对象调用</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(<span class="string">&quot;abc&quot;</span>);</span><br></pre></td></tr></table></figure><ul><li>隐式调用</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;abc&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="window对象属性"><a href="#window对象属性" class="headerlink" title="window对象属性"></a>window对象属性</h4><p><code>window</code> 对象提供了用于获取其他 BOM 组成对象的属性</p><div class="table-container"><table><thead><tr><th style="text-align:center">方法</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">history</td><td style="text-align:center">对 History 对象的只读引用。请参数 。<a href="https://www.w3school.com.cn/jsref/dom_obj_history.asp">History 对象</a></td></tr><tr><td style="text-align:center">location</td><td style="text-align:center">用于窗口或框架的 Location 对象。请参阅 <a href="https://www.w3school.com.cn/jsref/dom_obj_location.asp">Location 对象</a>。</td></tr><tr><td style="text-align:center">Navigator</td><td style="text-align:center">对 Navigator 对象的只读引用。请参数 <a href="https://www.w3school.com.cn/jsref/dom_obj_navigator.asp">Navigator 对象</a>。</td></tr><tr><td style="text-align:center">Screen</td><td style="text-align:center">对 Screen 对象的只读引用。请参数 <a href="https://www.w3school.com.cn/jsref/dom_obj_screen.asp">Screen 对象</a>。</td></tr></tbody></table></div><p>也就是说，我们想使用 <code>Location</code> 对象的话，就可以使用 <code>window</code> 对象获取；写成 <code>window.location</code>，而 <code>window.</code> 可以省略，简化写成 <code>location</code> 来获取 <code>Location</code> 对象。</p><h4 id="window对象方法"><a href="#window对象方法" class="headerlink" title="window对象方法"></a>window对象方法</h4><p><code>window</code> 对象提供了很多函数供我们使用，而很多都不常用；下面给列举了一些比较常用的函数</p><div class="table-container"><table><thead><tr><th style="text-align:center">方法</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">alert()</td><td style="text-align:center">显示带有一段消息和一个确认按钮的警告框。</td></tr><tr><td style="text-align:center">confirm()</td><td style="text-align:center">显示带有一段消息以及确认按钮和取消按钮的对话框。</td></tr><tr><td style="text-align:center">setInterval()</td><td style="text-align:center">按照指定的周期（以毫秒计）来调用函数或计算表达式。</td></tr><tr><td style="text-align:center">setTimeout()</td><td style="text-align:center">在指定的毫秒数后调用函数或计算表达式。</td></tr></tbody></table></div><p><code>setTimeout(function,毫秒值)</code> : 在一定的时间间隔后执行一个function，只执行一次<br><code>setInterval(function,毫秒值)</code> :在一定的时间间隔后执行一个function，循环执行</p><p><strong>confirm代码演示：</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> flag =  <span class="title function_">confirm</span>(<span class="string">&quot;确认删除？&quot;</span>);</span><br><span class="line"><span class="title function_">alert</span>(flag);</span><br></pre></td></tr></table></figure><p><code>confirm()</code> 函数一般用于防止用户的误操作，当用户想删除一条数据时，需要点击确定，当我们点击 <code>确定</code> 按钮，<code>flag</code> 变量值记录的就是 <code>true</code> ；当我们点击 <code>取消</code> 按钮，<code>flag</code> 变量值记录的就是 <code>false</code>。</p><p><strong>定时器代码演示：</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;你好&quot;</span>)</span><br><span class="line">&#125;,<span class="number">3000</span>);</span><br></pre></td></tr></table></figure><p>当我们打开浏览器，3秒后才会弹框输出 <code>你好</code>，并且只会弹出一次。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setInterval</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;你好&quot;</span>)</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br></pre></td></tr></table></figure><p>当我们打开浏览器，每隔1秒都会弹框输出 <code>你好</code>。</p><h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><ul><li>需求：每隔1秒，灯泡切换一次状态</li></ul><p><a href="https://s2.loli.net/2022/08/15/ZigwbChy1W9P7qH.gif"><img src="https://s2.loli.net/2022/08/15/RmyvTZrGcYEHj1i.gif" alt="img"></a></p><ul><li>代码</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--将开关灯的按钮打开，把循环定时器的代码注释掉，可以实现手动点击按钮开关灯的效果--&gt;</span><br><span class="line">&lt;!--&lt;input type=&quot;button&quot; onclick=&quot;on()&quot; value=&quot;开灯&quot;&gt;--&gt;</span><br><span class="line">&lt;img id=&quot;myImage&quot; src=&quot;https://s2.loli.net/2022/08/15/ZigwbChy1W9P7qH.gif&quot; alt=&quot;&quot;&gt;</span><br><span class="line">&lt;!--&lt;input type=&quot;button&quot; onclick=&quot;off()&quot; value=&quot;关灯&quot;&gt;--&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    function on()&#123;</span><br><span class="line">        document.getElementById(&quot;myImage&quot;).src=&quot;https://s2.loli.net/2022/08/15/RmyvTZrGcYEHj1i.gif&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    function off()&#123;</span><br><span class="line">        document.getElementById(&quot;myImage&quot;).src=&quot;https://s2.loli.net/2022/08/15/ZigwbChy1W9P7qH.gif&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    let tmp = 0;</span><br><span class="line">    setInterval(function () &#123;</span><br><span class="line">        if (tmp % 2 == 0) &#123;</span><br><span class="line">            on();</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            off();</span><br><span class="line">        &#125;</span><br><span class="line">        tmp++;</span><br><span class="line">    &#125;, 1000);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="History对象"><a href="#History对象" class="headerlink" title="History对象"></a>History对象</h3><p>History 对象是 JavaScript 对历史记录进行封装的对象。</p><ul><li><p>History 对象的获取</p><p>使用 window.history获取，其中window. 可以省略</p></li><li><p>History 对象的函数</p></li></ul><div class="table-container"><table><thead><tr><th style="text-align:center">方法</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">back()</td><td style="text-align:center">加载history 列表中的前一个URL。</td></tr><tr><td style="text-align:center">forward()</td><td style="text-align:center">加载history 列表中的下一个URL。</td></tr></tbody></table></div><p>当我们点击浏览器的向左箭头，就跳转到前一个访问的页面，这就是 <code>back()</code> 函数的作用；当我们点击向右的箭头，就跳转到下一个访问的页面，这就是 <code>forward()</code> 函数的作用。</p><h3 id="Location对象"><a href="#Location对象" class="headerlink" title="Location对象"></a>Location对象</h3><p>Location 对象是 JavaScript 对地址栏封装的对象。可以通过操作该对象，跳转到任意页面。</p><h4 id="获取Location对象"><a href="#获取Location对象" class="headerlink" title="获取Location对象"></a>获取Location对象</h4><p>使用 window.location获取，其中window. 可以省略</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">location</span>.方法();</span><br><span class="line">location.方法();</span><br></pre></td></tr></table></figure><h4 id="Location对象属性"><a href="#Location对象属性" class="headerlink" title="Location对象属性"></a>Location对象属性</h4><p>Location对象提供了很对属性。以后常用的只有一个属性 <code>href</code></p><div class="table-container"><table><thead><tr><th style="text-align:center">属性</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">href</td><td style="text-align:center">设置或返回完整的URL。</td></tr></tbody></table></div><p>代码演示</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;要跳转了&quot;</span>);</span><br><span class="line">location.<span class="property">href</span> = <span class="string">&quot;https://www.baidu.com&quot;</span>;</span><br></pre></td></tr></table></figure><p>在浏览器首先会弹框显示 <code>要跳转了</code>，当我们点击了 <code>确定</code> 就会跳转到 百度 的首页。</p><h4 id="案例-1"><a href="#案例-1" class="headerlink" title="案例"></a>案例</h4><p>需求：3秒跳转到百度首页</p><ul><li>分析：<ol><li>3秒跳转，由此可以确定需要使用到定时器，而只跳转一次，所以使用 <code>setTimeOut()</code></li><li>要进行页面跳转，所以需要用到 <code>location</code> 对象的 <code>href</code> 属性实现</li></ol></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&quot;三秒后跳转至主页...&quot;</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>)&#123;</span><br><span class="line">    location.<span class="property">href</span> = <span class="string">&quot;https://www.baidu.com&quot;</span>;</span><br><span class="line">&#125;,<span class="number">3000</span>);</span><br></pre></td></tr></table></figure><h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>DOM：Document Object Model 文档对象模型。也就是 JavaScript 将 HTML 文档的各个组成部分封装为对象。</p><p><strong>作用：</strong></p><p>JavaScript 通过 DOM， 就能够对 HTML进行操作了</p><ul><li>改变 HTML 元素的内容</li><li>改变 HTML 元素的样式（CSS）</li><li>对 HTML DOM 事件作出反应</li><li>添加和删除 HTML 元素</li></ul><p><strong>DOM相关概念：</strong></p><p>DOM 是 W3C（万维网联盟）定义了访问 HTML 和 XML 文档的标准。该标准被分为 3 个不同的部分：</p><ol><li><p>核心 DOM：针对任何结构化文档的标准模型。 XML 和 HTML 通用的标准</p><ul><li>Document：整个文档对象</li><li>Element：元素对象</li><li>Attribute：属性对象</li><li>Text：文本对象</li><li>Comment：注释对象</li></ul></li><li><p>XML DOM： 针对 XML 文档的标准模型</p></li><li><p>HTML DOM： 针对 HTML 文档的标准模型</p><p>该标准是在核心 DOM 基础上，对 HTML 中的每个标签都封装成了不同的对象</p><ul><li>例如：<code>&lt;img&gt;</code> 标签在浏览器加载到内存中时会被封装成 <code>Image</code> 对象，同时该对象也是 <code>Element</code> 对象。</li><li>例如：<code>&lt;input type=&#39;button&#39;&gt;</code> 标签在浏览器加载到内存中时会被封装成 <code>Button</code> 对象，同时该对象也是 <code>Element</code> 对象。</li></ul></li></ol><h3 id="获取-Element对象"><a href="#获取-Element对象" class="headerlink" title="获取 Element对象"></a>获取 Element对象</h3><p>HTML 中的 Element 对象可以通过 <code>Document</code> 对象获取，而 <code>Document</code> 对象是通过 <code>window</code> 对象获取。</p><p><code>Document</code> 对象中提供了以下获取 <code>Element</code> 元素对象的函数</p><ul><li><code>getElementById()</code>：根据id属性值获取，返回单个Element对象</li><li><code>getElementsByTagName()</code>：根据标签名称获取，返回Element对象数组</li><li><code>getElementsByName()</code>：根据name属性值获取，返回Element对象数组</li><li><code>getElementsByClassName()</code>：根据class属性值获取，返回Element对象数组</li></ul><h3 id="HTML-Element对象使用"><a href="#HTML-Element对象使用" class="headerlink" title="HTML Element对象使用"></a>HTML Element对象使用</h3><p>HTML 中的 <code>Element</code> 元素对象有很多，不可能全部记住，以后是根据具体的需求<a href="https://www.w3school.com.cn/">查阅文档</a>使用。<br>例如上面的开关灯泡，就是根据id属性值获取了Image对象，然后修改Image对象的src属性，从而达到切换图片，实现灯泡开关的效果</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;button&quot;</span> onclick=<span class="string">&quot;on()&quot;</span> value=<span class="string">&quot;开灯&quot;</span>&gt;</span><br><span class="line">&lt;img id=&quot;myImage&quot; src=&quot;../imgs/off.gif&quot; alt=&quot;&quot;&gt;</span><br><span class="line">&lt;input type=&quot;button&quot; onclick=&quot;off()&quot; value=&quot;关灯&quot;&gt;  </span><br><span class="line">&lt;script&gt;</span><br><span class="line">    function on() &#123;</span><br><span class="line">        document.getElementById(&quot;myImage&quot;).src = &quot;../imgs/on.gif&quot;;  //获取Image对象，并将src属性修改为关灯图片地址</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function off() &#123;</span><br><span class="line">        document.getElementById(&quot;myImage&quot;).src = &quot;../imgs/off.gif&quot;; //获取Image对象，并将src属性修改为开灯图片地址</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="事件监听"><a href="#事件监听" class="headerlink" title="事件监听"></a>事件监听</h2><p>要想知道什么是事件监听，首先先聊聊什么是事件？</p><p>HTML 事件是发生在 HTML 元素上的“事情”。比如：页面上的 <code>按钮被点击</code>、<code>鼠标移动到元素之上</code>、<code>按下键盘按键</code> 等都是事件。</p><p>事件监听是JavaScript 可以在事件被侦测到时执行一段逻辑代码。之前的开关灯操作，当我们点击 <code>开灯</code> 按钮，就需要通过 js 代码实现替换图片</p><p>又例如当我们在注册一些网站时，我们输入用户名之后， <code>光标离开</code> 输入框，就是通过 js 代码对输入的内容进行校验，没通过校验就在输入框后提示 <code>用户名格式有误!</code></p><h3 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h3><p>JavaScript 提供了两种事件绑定方式：</p><ul><li>方式一：通过 HTML标签中的事件属性进行绑定<br>如下面代码，有一个按钮元素，我们是在该标签上定义 <code>事件属性</code>，在事件属性中绑定函数。<code>onclick</code> 就是 <code>单击事件</code> 的事件属性。<code>onclick=&#39;on（）&#39;</code> 表示该点击事件绑定了一个名为 <code>on()</code> 的函数</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;button&quot;</span> onclick=<span class="string">&#x27;on()’&gt;</span></span><br></pre></td></tr></table></figure><p>下面是点击事件绑定的 <code>on()</code> 函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">on</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;我被点了&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>方式二：通过 DOM 元素属性绑定</p><p>如下面代码是按钮标签，在该标签上我们并没有使用 <code>事件属性</code>，绑定事件的操作需要在 js 代码中实现</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">&quot;button&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span><br></pre></td></tr></table></figure><p>下面 js 代码是获取了 <code>id=&#39;btn&#39;</code> 的元素对象，然后将 <code>onclick</code> 作为该对象的属性，并且绑定匿名函数。该函数是在事件触发后自动执行</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn&quot;</span>).<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>)&#123;</span><br><span class="line">  <span class="title class_">Salert</span>(<span class="string">&quot;我被点了&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="常见事件"><a href="#常见事件" class="headerlink" title="常见事件"></a>常见事件</h3><div class="table-container"><table><thead><tr><th style="text-align:center">事件属性名</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center">onclick</td><td style="text-align:center">鼠标单击事件</td></tr><tr><td style="text-align:center">onblur</td><td style="text-align:center">元素失去焦点</td></tr><tr><td style="text-align:center">onfocus</td><td style="text-align:center">元素获得焦点</td></tr><tr><td style="text-align:center">onload</td><td style="text-align:center">某个页面或图像被完成加载</td></tr><tr><td style="text-align:center">onsubmit</td><td style="text-align:center">当表单提交时触发该事件</td></tr><tr><td style="text-align:center">onmouseover</td><td style="text-align:center">鼠标被移到某元素之上</td></tr><tr><td style="text-align:center">onmouseout</td><td style="text-align:center">鼠标从某元素移开</td></tr></tbody></table></div><h2 id="表单验证案例"><a href="#表单验证案例" class="headerlink" title="表单验证案例"></a>表单验证案例</h2><h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><p>对表单进行校验，如果输入的用户名、密码、手机号符合规则，则允许提交；如果不符合规则，则不允许提交。</p><p>完成以下需求：</p><ol><li>当输入框失去焦点时，验证输入内容是否符合要求</li><li>当点击注册按钮时，判断所有输入框的内容是否都符合要求，如果不合符则阻止表单提交</li></ol><div class="table-container"><table><thead><tr><th>用户名</th><th></th></tr></thead><tbody><tr><td>密码</td><td></td></tr><tr><td>手机号</td></tr></tbody></table></div><h3 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h3><p>先创建一个表单</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;form id=<span class="string">&quot;reg_form&quot;</span> action=<span class="string">&quot;#&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    &lt;table&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;用户名&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; name=&quot;username&quot; id=&quot;username&quot;&gt;</span><br><span class="line">                &lt;br&gt;</span><br><span class="line">                &lt;!--设置display为none会隐藏字段--&gt;</span><br><span class="line">                &lt;span id=&quot;username_err&quot; style=&quot;display: none&quot;&gt;用户名应为6~12位&lt;/span&gt;</span><br><span class="line">            &lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;密码&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;</span><br><span class="line">                &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot;&gt;</span><br><span class="line">                &lt;br&gt;</span><br><span class="line">                &lt;span id=&quot;password_err&quot; style=&quot;display: none&quot;&gt;密码应为6~12位&lt;/span&gt;</span><br><span class="line">            &lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;手机号&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; name=&quot;phone&quot; id=&quot;phone&quot;&gt;</span><br><span class="line">                &lt;br&gt;</span><br><span class="line">                &lt;span id=&quot;phone_err&quot; style=&quot;display: none&quot;&gt;手机号应为11位&lt;/span&gt;</span><br><span class="line">            &lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">    &lt;/table&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot; value=&quot;注册&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure><h3 id="验证输入框"><a href="#验证输入框" class="headerlink" title="验证输入框"></a>验证输入框</h3><ul><li>校验用户名。当用户名输入框失去焦点时，判断输入的内容是否符合 <code>长度是 6-12 位</code> 规则，不符合使 <code>id=&#39;username_err&#39;</code> 的span标签显示出来，给出用户提示。</li><li>校验密码。当密码输入框失去焦点时，判断输入的内容是否符合 <code>长度是 6-12 位</code> 规则，不符合使 <code>id=&#39;password_err&#39;</code> 的span标签显示出来，给出用户提示。</li><li><p>校验手机号。当手机号输入框失去焦点时，判断输入的内容是否符合 <code>长度是 11 位</code> 规则，不符合使 <code>id=&#39;phone_err&#39;</code> 的span标签显示出来，给出用户提示。</p></li><li><p>代码如下</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. 验证用户名是否符合规则</span></span><br><span class="line"><span class="comment">//1.1 获取用户名的输入框</span></span><br><span class="line"><span class="keyword">let</span> usernameInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;username&quot;</span>);</span><br><span class="line"><span class="comment">//1.2 绑定onblur事件 失去焦点检查用户名输入</span></span><br><span class="line">usernameInput.<span class="property">onblur</span> = checkUsername;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkUsername</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//1.3 获取用户输入的用户名</span></span><br><span class="line">    <span class="keyword">let</span> username = usernameInput.<span class="property">value</span>.<span class="title function_">trim</span>();</span><br><span class="line">    <span class="comment">//1.4 判断用户名是否符合规则：长度 6~12</span></span><br><span class="line">    <span class="keyword">let</span> flag = username.<span class="property">length</span> &gt;= <span class="number">6</span> &amp;&amp; username.<span class="property">length</span> &lt;= <span class="number">12</span>;</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        <span class="comment">//符合条件就把错误信息隐藏</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;username_err&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//不符合条件就展示错误信息</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;username_err&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//验证密码与手机号也是异曲同工</span></span><br><span class="line"><span class="keyword">let</span> passwordInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">passwordInput.<span class="property">onblur</span> = checkPassword;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkPassword</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> password = passwordInput.<span class="property">value</span>.<span class="title function_">trim</span>();</span><br><span class="line">    <span class="keyword">let</span> flag = password.<span class="property">length</span> &gt;= <span class="number">6</span> &amp;&amp; password.<span class="property">length</span> &lt;= <span class="number">12</span>;</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;password_err&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;password_err&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> phoneInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;phone&quot;</span>);</span><br><span class="line">phoneInput.<span class="property">onblur</span> = checkPhone;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkPhone</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> phone = phoneInput.<span class="property">value</span>.<span class="title function_">trim</span>();</span><br><span class="line">    <span class="keyword">let</span> flag = phone.<span class="property">length</span> === <span class="number">11</span>;</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;phone_err&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;phone_err&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> regForm = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;reg_form&quot;</span>);</span><br><span class="line"><span class="comment">//onsubmit 事件绑定的函数需要对输入的 `用户名`、`密码`、`手机号` 进行校验</span></span><br><span class="line">regForm.<span class="property">onsubmit</span> = checkAll;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkAll</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//只有当符合所有检查条件的时候，才返回true，正常提交</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">checkUsername</span>() &amp;&amp; <span class="title function_">checkPassword</span>() &amp;&amp; <span class="title function_">checkPhone</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="RegExp对象"><a href="#RegExp对象" class="headerlink" title="RegExp对象"></a>RegExp对象</h2><p>RegExp 是正则对象。正则对象是判断指定字符串是否符合规则。</p><p>我们可以通过爬虫技术去爬取该页面源代码，然后获取页面中所有的邮箱，后期我们可以给这些邮箱地址发送推广的邮件。那么问题来了，如何才能知道页面内容中哪些事邮箱地址呢？这里就可以使用正则表达式来匹配邮箱。</p><p>在 js 中对正则表达式封装的对象就是正则对象。</p><h3 id="正则对象使用"><a href="#正则对象使用" class="headerlink" title="正则对象使用"></a>正则对象使用</h3><h4 id="创建对象"><a href="#创建对象" class="headerlink" title="创建对象"></a>创建对象</h4><p>正则对象有两种创建方式：</p><ul><li><p>直接量方式：注意不要加引号</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/正则表达式/</span>;</span><br></pre></td></tr></table></figure></li><li><p>创建 RegExp 对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;正则表达式&quot;</span>);</span><br></pre></td></tr></table></figure></li></ul><h4 id="函数-1"><a href="#函数-1" class="headerlink" title="函数"></a>函数</h4><p><code>test(str)</code> ：判断指定字符串是否符合规则，返回 true或 false</p><h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><p>从上面创建正则对象的格式中可以看出不管哪种方式都需要正则表达式，那么什么是正则表达式呢？</p><p>正则表达式定义了字符串组成的规则。也就是判断指定的字符串是否符合指定的规则，如果符合返回true，如果不符合返回false。</p><p>正则表达式是和语言无关的。很多语言都支持正则表达式，Java语言也支持，只不过正则表达式在不同的语言中的使用方式不同，js 中需要使用正则对象来使用正则表达式。</p><p>正则表达式常用的规则如下：</p><ul><li>^：表示开始</li><li>$：表示结束</li><li>[ ]：代表某个范围内的单个字符，比如： [0-9] 单个数字字符</li><li>.：代表任意单个字符，除了换行和行结束符</li><li>\w：代表单词字符：字母、数字、下划线(<em>)，相当于 [A-Za-z0-9</em>]</li><li>\d：代表数字字符： 相当于 [0-9]</li></ul><p>量词：</p><ul><li>+：至少一个</li><li>*：零个或多个</li><li>？：零个或一个</li><li>{x}：x个</li><li>{m,}：至少m个</li><li>{m,n}：至少m个，最多n个</li></ul><h3 id="改进表单校验案例"><a href="#改进表单校验案例" class="headerlink" title="改进表单校验案例"></a>改进表单校验案例</h3><p>表单校验案例中的规则是我们进行一系列的判断来实现的，现在学习了正则对象后，就可以使用正则对象来改进这个案例。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>黑马点评</title>
      <link href="/2025/08/26/%E9%BB%91%E9%A9%AC%E7%82%B9%E8%AF%84-%E9%BB%91%E9%A9%AC%E7%82%B9%E8%AF%84/"/>
      <url>/2025/08/26/%E9%BB%91%E9%A9%AC%E7%82%B9%E8%AF%84-%E9%BB%91%E9%A9%AC%E7%82%B9%E8%AF%84/</url>
      
        <content type="html"><![CDATA[<h1 id="导入项目"><a href="#导入项目" class="headerlink" title="导入项目"></a>导入项目</h1><h2 id="项目介绍"><a href="#项目介绍" class="headerlink" title="项目介绍"></a>项目介绍</h2><ul><li>此次项目采用前后端分离开发模式</li><li>手机或者app发起请求，请求Nginx服务器，Nginx基于七层模型走HTTP协议，实现基于Lua绕开Tomcat访问Redis，也可以作为静态资源服务器，轻松抗下上万并发请求。</li></ul><h2 id="导入SQL"><a href="#导入SQL" class="headerlink" title="导入SQL"></a>导入SQL</h2><p>黑马以及提供好了需要导入的SQL文件，以下是SQL文件中提供的表</p><div class="table-container"><table><thead><tr><th style="text-align:center">表</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center">tb_user</td><td style="text-align:center">用户表</td></tr><tr><td style="text-align:center">tb_user_info</td><td style="text-align:center">用户详情表</td></tr><tr><td style="text-align:center">tb_shop</td><td style="text-align:center">商户信息表</td></tr><tr><td style="text-align:center">tb_shop_type</td><td style="text-align:center">商户类型表</td></tr><tr><td style="text-align:center">tb_blog</td><td style="text-align:center">用户日记表（达人探店日记）</td></tr><tr><td style="text-align:center">tb_follow</td><td style="text-align:center">用户关注表</td></tr><tr><td style="text-align:center">tb_voucher</td><td style="text-align:center">优惠券表</td></tr><tr><td style="text-align:center">tb_voucher_order</td><td style="text-align:center">优惠券的订单表</td></tr></tbody></table></div><h2 id="导入后端项目"><a href="#导入后端项目" class="headerlink" title="导入后端项目"></a>导入后端项目</h2><p>黑马已经提供好了后端项目源码压缩包，我们将其解压之后，放到自己的工作目录里<br><div class="tabs" id="导入后端"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#导入后端-1">更改配置文件</button></li><li class="tab"><button type="button" data-href="#导入后端-2">启动项目</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="导入后端-1"><p>使用IDEA打开项目，修改application.yml文件，将数据库连接信息修改为自己的连接信息</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250826201316.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="导入后端-2"><p>启动项目，访问<a href="http://localhost:8081/shop-type/list">http://localhost:8081/shop-type/list</a>，如果可以看到JSON数据，说明项目启动成功</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250826203646.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><h2 id="导入前端项目"><a href="#导入前端项目" class="headerlink" title="导入前端项目"></a>导入前端项目</h2><p>前端项目黑马也以及提供了源码压缩包，我们解压之后，在Nginx所在目录打开cmd窗口直接输入命令即可启动程序<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start nginx</span><br></pre></td></tr></table></figure><br>访问<a href="https://localhost:8080/,如果能够访问到登录页面，说明项目启动成功。">https://localhost:8080/,如果能够访问到登录页面，说明项目启动成功。</a><br><details class="folding-tag" ><summary> 访问失败 </summary>              <div class='content'>              <p>访问失败的原因可能有很多，记录一下我遇到的localhost拒绝访问的原因：</p><ol><li>Nginx文件夹所处目录含有中文或空格等字符，导致Nginx启动失败</li><li>Nginx端口被占用，导致Nginx启动失败</li></ol><p><strong>如何查看端口被哪个进程占用？</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这里的port替换成需要查找的端口号</span></span><br><span class="line">netstat -ano | findstr port</span><br></pre></td></tr></table></figure><br><strong>查看对应端口的应用是什么</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tasklist | findstr pid</span><br></pre></td></tr></table></figure></p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250826203020.png"/></div></div><p>如何杀死进程？<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这里的pid替换成需要杀死的进程号</span></span><br><span class="line">taskkill /f /pid xxx </span><br></pre></td></tr></table></figure></p><div class="tabs" id="是否成功启动"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#是否成功启动-1">执行命令</button></li><li class="tab"><button type="button" data-href="#是否成功启动-2">输出结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="是否成功启动-1"><p>在命令提示符窗口中输入命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tasklist /fi <span class="string">&quot;imagename eq nginx.exe&quot;</span></span><br></pre></td></tr></table></figure></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="是否成功启动-2"><p>启动成功：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250826203244.png"/></div></div>启动失败：<div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250826203317.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details></p><h1 id="短信登录"><a href="#短信登录" class="headerlink" title="短信登录"></a>短信登录</h1><h2 id="基于Session实现登录流程"><a href="#基于Session实现登录流程" class="headerlink" title="基于Session实现登录流程"></a>基于Session实现登录流程</h2><ol><li>发送验证码<br>用户在提交手机号后，会<code>校验手机号</code>是否合法，如果不合法，则要求用户重新输入手机号<br>如果手机号合法，后台此时生成对应的验证码，同时将验证码进行保存，然后再通过短信的方式将验证码发送给用户</li><li>短信验证码登录、注册<br>用户将验证码和手机号进行输入，后台从session中拿到当前验证码，然后和用户输入的验证码进行校验，如果不一致，则无法通过校验，如果一致，则后台根据手机号查询用户，如果用户不存在，则为用户创建账号信息，保存到数据库，无论是否存在，都会将用户信息保存到session中，方便后续获得当前登录信息</li><li>校验登录状态<br>用户在请求的时候，会从cookie中携带<code>JsessionId</code>到后台，后台通过JsessionId从session中拿到用户信息，如果没有session信息，则进行拦截，如果有session信息，则将用户信息保存到threadLocal中，并放行</li></ol><h2 id="模拟发送短信验证码功能"><a href="#模拟发送短信验证码功能" class="headerlink" title="模拟发送短信验证码功能"></a>模拟发送短信验证码功能</h2><ul><li><p>输入手机号，点击发送验证码按钮，查看发送的请求</p><blockquote><p>请求网址: <a href="http://localhost:8080/api/user/code?phone=15832165478">http://localhost:8080/api/user/code?phone=15832165478</a><br>请求方法: POST</p></blockquote></li><li><p>调用UserController中的code方法，携带参数是phone</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 发送手机验证码</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;code&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">sendCode</span><span class="params">(<span class="meta">@RequestParam(&quot;phone&quot;)</span> String phone, HttpSession session)</span> &#123;</span><br><span class="line">        <span class="comment">// TODO 发送短信验证码并保存验证码</span></span><br><span class="line">        <span class="keyword">return</span> userService.sendCode(phone,session);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>此处黑马没有使用真的短信服务发送验证码，只是随机生成了一个验证码来作校验使用,后期自己想实现此功能可以用邮箱验证（免费），也可以用阿里云短信服务（有一定费用）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;UserMapper, User&gt; <span class="keyword">implements</span> <span class="title class_">IUserService</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">sendCode</span><span class="params">(String phone, HttpSession session)</span> &#123;</span><br><span class="line">        <span class="comment">//1.校验手机号(一般使用正则表达式，验证手机号是否符合正常规范，如是否为11位，是否是1开头)</span></span><br><span class="line">        <span class="keyword">if</span> (RegexUtils.isPhoneInvalid(phone)) &#123;</span><br><span class="line">            <span class="comment">//2.如果不符合，返回错误信息</span></span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;手机号格式错误！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//3.符合则生成验证码(6是指定验证码为6位)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> RandomUtil.randomNumbers(<span class="number">6</span>);</span><br><span class="line">        <span class="comment">//4.保存验证码导session中</span></span><br><span class="line">        session.setAttribute(<span class="string">&quot;code&quot;</span>, code);</span><br><span class="line">        <span class="comment">//5.发送验证码</span></span><br><span class="line">        <span class="comment">//这里采用记录日志来简单模拟(记得加上Slf4j注解)</span></span><br><span class="line">        log.debug(<span class="string">&quot;发送短信验证码成功,验证码：&#123;&#125;&quot;</span>, code);</span><br><span class="line">        <span class="comment">//返回OK</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="根据验证码登录"><a href="#根据验证码登录" class="headerlink" title="根据验证码登录"></a>根据验证码登录</h2><p>login为实现登录的函数，LoginFormDTO为实体类<br><div class="tabs" id="根据验证码登录"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#根据验证码登录-1">login</button></li><li class="tab"><button type="button" data-href="#根据验证码登录-2">LoginFormDTO</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="根据验证码登录-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="comment">//前端提交的是Json数据，所以需要用@RequestBody注解，来为实体类赋值</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">login</span><span class="params">(<span class="meta">@RequestBody</span> LoginFormDTO loginForm, HttpSession session)</span>&#123;</span><br><span class="line">        <span class="comment">// TODO 实现登录功能</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;功能未完成&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="根据验证码登录-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginFormDTO</span> &#123;</span><br><span class="line">    <span class="comment">//手机号码登录</span></span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line">    <span class="keyword">private</span> String code;</span><br><span class="line">    <span class="comment">//密码登录（暂不使用）</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><p>登录方法中不需要返回登录的凭证，因为是将用户的信息保存在session中，访问Tomcat时，sessionId早已自动写在Cookie中，每次请求都会写到Cookie，能直接在Cookie中找到用户信息</p><div class="tabs" id="login"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#login-1">登录方法</button></li><li class="tab"><button type="button" data-href="#login-2">创建用户</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="login-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> Result <span class="title function_">login</span><span class="params">(LoginFormDTO loginForm, HttpSession session)</span> &#123;</span><br><span class="line">       <span class="comment">// 1.校验手机号</span></span><br><span class="line">       <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> loginForm.getPhone();</span><br><span class="line">       <span class="keyword">if</span> (RegexUtils.isPhoneInvalid(phone)) &#123;</span><br><span class="line">           <span class="comment">// 2.如果不符合，返回错误信息</span></span><br><span class="line">           <span class="keyword">return</span> Result.fail(<span class="string">&quot;手机号格式错误！&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// 3.校验验证码</span></span><br><span class="line">        <span class="comment">//从session中取出生成的随机验证码</span></span><br><span class="line">       <span class="type">Object</span> <span class="variable">cacheCode</span> <span class="operator">=</span> session.getAttribute(<span class="string">&quot;code&quot;</span>);</span><br><span class="line">        <span class="comment">//取出用户输入的验证码</span></span><br><span class="line">       <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> loginForm.getCode();</span><br><span class="line">       <span class="keyword">if</span>(cacheCode == <span class="literal">null</span> || !cacheCode.toString().equals(code))&#123;</span><br><span class="line">            <span class="comment">//4.不一致，报错</span></span><br><span class="line">           <span class="keyword">return</span> Result.fail(<span class="string">&quot;验证码错误&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//4.一致，根据手机号查询用户(MybatisPlus提供的快捷单表增删改查)</span></span><br><span class="line">       <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> query().eq(<span class="string">&quot;phone&quot;</span>, phone).one();</span><br><span class="line"></span><br><span class="line">       <span class="comment">//5.判断用户是否存在</span></span><br><span class="line">       <span class="keyword">if</span>(user == <span class="literal">null</span>)&#123;</span><br><span class="line">           <span class="comment">//不存在，则创建(暂时还未实现，提前先把创建的方法写上,</span></span><br><span class="line">           <span class="comment">//将创建的值返回保存在user，确保下面保存用户信息时user一定有值</span></span><br><span class="line">           user =  createUserWithPhone(phone);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//7.保存用户信息到session中</span></span><br><span class="line">       session.setAttribute(<span class="string">&quot;user&quot;</span>,user);</span><br><span class="line"></span><br><span class="line">       <span class="keyword">return</span> Result.ok();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="login-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> User <span class="title function_">createUserWithPhone</span><span class="params">(String phone)</span> &#123;</span><br><span class="line">    <span class="comment">//1.创建用户</span></span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">    user.setPhone(phone);</span><br><span class="line">    user.setNickName(<span class="string">&quot;user_&quot;</span> + RandomUtil.randomString(<span class="number">10</span>));</span><br><span class="line">    <span class="comment">//2.保存用户</span></span><br><span class="line">    save(user);</span><br><span class="line">    <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="实现登录拦截功能"><a href="#实现登录拦截功能" class="headerlink" title="实现登录拦截功能"></a>实现登录拦截功能</h2><ul><li>登录拦截功能，就是用户如果没有登录，访问其他页面的时候，会自动跳转到登录页面。</li><li>首先需要我们先创建一个拦截器，并实现HandlerInterceptor接口，重写前置拦截器和完成处理方法。<ul><li>前置拦截器：在控制器方法执行之前执行，如果返回true，则继续执行控制器方法，如果返回false，则取消执行控制器方法。</li><li>完成处理方法：在控制器方法执行完成之后执行，无论控制器方法是否执行成功，都会执行完成处理方法。</li></ul></li></ul><p><strong>注意：</strong> 此处黑马视频中与提供的资料略有不同，视频中全部为User类，此处为UserDTO类，下一节说明为什么换为UserDTO类。<br><div class="tabs" id="登录拦截器"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#登录拦截器-1">LoginInterceptor</button></li><li class="tab"><button type="button" data-href="#登录拦截器-2">UserHolder</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="登录拦截器-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line">    <span class="comment">//登录校验</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//1.获取Session</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> request.getSession();</span><br><span class="line">        <span class="comment">//2.获取Session中的用户</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">user</span> <span class="operator">=</span> session.getAttribute(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        <span class="comment">//3.判断用户是否存在</span></span><br><span class="line">        <span class="keyword">if</span>(user == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">//4.不存在，拦截,返回401状态码</span></span><br><span class="line">            response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//5.存在，保存用户信息到ThreadLocal</span></span><br><span class="line">        UserHolder.saveUser((UserDTO)user);</span><br><span class="line">        <span class="comment">//6.放行</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//销毁对应的登录信息</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//移除用户</span></span><br><span class="line">        UserHolder.removeUser();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="登录拦截器-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserHolder</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ThreadLocal&lt;UserDTO&gt; tl = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">saveUser</span><span class="params">(UserDTO user)</span>&#123;</span><br><span class="line">        tl.set(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> UserDTO <span class="title function_">getUser</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> tl.get();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">removeUser</span><span class="params">()</span>&#123;</span><br><span class="line">        tl.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><ul><li>创建完拦截器之后，需要将拦截器添加到SpringMVC的拦截器链中，再从Config目录下创建MvcConfig类<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//不要忘记添加@Configuration注解，注册为配置类</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MvcConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line">    <span class="comment">//添加拦截注册器</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        <span class="comment">//设置拦截器，除了以下界面其余都拦截</span></span><br><span class="line">        registry.addInterceptor(<span class="keyword">new</span> <span class="title class_">LoginInterceptor</span>())</span><br><span class="line">                .excludePathPatterns(</span><br><span class="line">                        <span class="string">&quot;/login&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/blog/hot&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/shop/**&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/voucher/**&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/shop-type/**&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/upload/**&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/user/code&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;/user/login&quot;</span></span><br><span class="line">                );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>再修改一下UserController中的me方法<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/me&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> Result <span class="title function_">me</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="comment">// 获取当前登录的用户并返回</span></span><br><span class="line">       <span class="comment">//直接获取之前保存在Threadlocal里的User信息</span></span><br><span class="line">       <span class="type">UserDTO</span> <span class="variable">user</span> <span class="operator">=</span> UserHolder.getUser();</span><br><span class="line">       <span class="keyword">return</span> Result.ok(user);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="隐藏用户敏感信息"><a href="#隐藏用户敏感信息" class="headerlink" title="隐藏用户敏感信息"></a>隐藏用户敏感信息</h2><p>如何在之前使用的全是User类，而非UserDTO类，此时查看浏览器返回的信息中，用户包括密码等所有信息都会被返回，这是非常危险的,因此通过创建一个UserDTO类，并只返回需要的信息，从而隐藏用户敏感信息<br><div class="tabs" id="隐藏信息"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#隐藏信息-1">返回的信息</button></li><li class="tab"><button type="button" data-href="#隐藏信息-2">UserDTO</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="隐藏信息-1"><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;success&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="number">1010</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;phone&quot;</span><span class="punctuation">:</span><span class="string">&quot;1586385296@qq.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;nickName&quot;</span><span class="punctuation">:</span><span class="string">&quot;user_i1b3ir09&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;icon&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;createTime&quot;</span><span class="punctuation">:</span><span class="string">&quot;2022-10-22T14:20:33&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;updateTime&quot;</span><span class="punctuation">:</span><span class="string">&quot;2022-10-22T14:20:33&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="隐藏信息-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDTO</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String nickName;</span><br><span class="line">    <span class="keyword">private</span> String icon;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><p>如果前面将黑马提供的资料中的UserDTO类改为了User，则此处还需再改回来，如果没有更改，则只需要改变login方法中第七步保存用户信息的代码即可。<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//5.判断用户是否存在</span><br><span class="line">        if(user == null)&#123;</span><br><span class="line">            //6.不存在，则创建(暂时还未实现，提前先把创建的方法写上)</span><br><span class="line">            //将创建的值返回保存在user，确保下面保存用户信息时user一定有值</span><br><span class="line">            user =  createUserWithPhone(phone);</span><br><span class="line">        &#125;</span><br><span class="line">        //7.保存用户信息到session中</span><br><span class="line"><span class="deletion">-        session.setAttribute(&quot;user&quot;, user);</span></span><br><span class="line"><span class="addition">+        session.setAttribute(&quot;user&quot;, BeanUtil.copyProperties(user, UserDTO.class));</span></span><br></pre></td></tr></table></figure></p><h2 id="session共享问题"><a href="#session共享问题" class="headerlink" title="session共享问题"></a>session共享问题</h2><ul><li><p>每个tomcat中都有一份属于自己的session,假设用户第一次访问第一台tomcat，并且把自己的信息存放到第一台服务器的session中，但是第二次这个用户访问到了第二台tomcat，那么在第二台服务器上，肯定没有第一台服务器存放的session，所以此时 整个登录拦截功能就会出现问题，我们能如何解决这个问题呢？</p><ul><li>早期的方案是session拷贝，就是说虽然每个tomcat上都有不同的session，但是每当任意一台服务器的session修改时，都会同步给其他的Tomcat服务器的session，这样的话，就可以实现session的共享了</li></ul></li><li><p>但是这种方案具有两个大问题</p><ul><li>每台服务器中都有完整的一份session数据，<code>服务器压力过大</code>。</li><li>session拷贝数据时，可能会出现<code>延迟</code></li></ul></li><li>所以我们后面都是基于Redis来完成，我们把session换成Redis，Redis数据本身就是<code>共享</code>的，就可以避免session共享的问题了。</li></ul><h2 id="Redis替代session的业务流程"><a href="#Redis替代session的业务流程" class="headerlink" title="Redis替代session的业务流程"></a>Redis替代session的业务流程</h2><h3 id="设计key结构"><a href="#设计key结构" class="headerlink" title="设计key结构"></a>设计key结构</h3><ul><li>首先我们来思考一下该用什么数据结构来存储数据</li><li>由于存入的数据比较简单，我们可以使用<code>String</code>或者<code>Hash</code><ul><li>如果使用String，以JSON字符串来保存数据，会额外占用部分空间</li><li>如果使用Hash，他会将对象中的每个字段独立存储，可以针对单个字段做CRUD，并且内存占用更少</li></ul></li></ul><div class="tabs" id="key结构"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#key结构-1">String</button></li><li class="tab"><button type="button" data-href="#key结构-2">Hash</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="key结构-1"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250827161153.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="key结构-2"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250827161347.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><ul><li>如果不是特别在意内存且数据量不大，可以直接使用String</li><li>如果考虑到优化等问题，可以选择Hash，此处选择Hash</li></ul><h3 id="设计key的具体细节"><a href="#设计key的具体细节" class="headerlink" title="设计key的具体细节"></a>设计key的具体细节</h3><ul><li>我们这里就采用的是简单的<code>K-V键值对</code>方式</li><li>对于key的处理，不能像session一样用code来当做key</li><li>因为Redis的key是共享的，code可能会重复，也不建议使用手机号，因为phone这种<code>敏感字段</code>不适合存储到Redis中</li><li>在设计key的时候，我们需要满足两点<ol><li>key要有唯一性</li><li>key要方便携带</li></ol></li><li>所以我们在后台随机生成一个token，然后让前端带着这个token就能完成我们的业务逻辑了</li></ul><h3 id="整体访问流程"><a href="#整体访问流程" class="headerlink" title="整体访问流程"></a>整体访问流程</h3><ul><li>当注册完成后，用户去登录，然后校验用户提交的手机号/邮箱和验证码是否一致<ul><li>如果一致，则根据手机号查询用户信息，不存在则新建，最后将用户数据保存到Redis，并生成一个token作为Redis的key</li></ul></li><li>当我们校验用户是否登录时，会携带着token进行访问，从Redis中获取token对应的value，判断是否存在这个数据<ul><li>如果不存在，则拦截</li><li>如果存在，则将其用户信息(userDto)保存到threadLocal中，并放行</li></ul></li></ul><h2 id="基于Redis实现短信登录"><a href="#基于Redis实现短信登录" class="headerlink" title="基于Redis实现短信登录"></a>基于Redis实现短信登录</h2><p>Redis的相关配置在最开始已经配置好了，直接编写代码注入<code>StringRedisTemplate</code>即可<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br></pre></td></tr></table></figure></p><ul><li>修改SendCode方法</li><li><div class="tabs" id="修改sendcode方法"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#修改sendcode方法-1">修改SendCode方法</button></li><li class="tab"><button type="button" data-href="#修改sendcode方法-2">修改后代码</button></li><li class="tab"><button type="button" data-href="#修改sendcode方法-3">RedisConstants</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="修改sendcode方法-1"><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">        //3.符合则生成验证码(6是指定验证码为6位)</span><br><span class="line">        String code = RandomUtil.randomNumbers(6);</span><br><span class="line"><span class="deletion">-        //4.保存验证码到session中</span></span><br><span class="line"><span class="deletion">-        session.setAttribute(&quot;code&quot;, code);</span></span><br><span class="line"><span class="addition">+        //4.保存验证码到Redis,</span></span><br><span class="line"><span class="addition">+        //直接将手机号存入，可能别的功能也会直接存入手机号，造成冲突，故最好加上前缀</span></span><br><span class="line"><span class="addition">+        //给验证码数据设置有效期，防止Redis长期存储失效的数据,这些不会变化的数据最好设为常量</span></span><br><span class="line"><span class="addition">+        stringRedisTemplate.opsForValue().set(LOGIN_CODE_KEY+phone,code,LOGIN_CODE_TTL, TimeUnit.MINUTES);</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="修改sendcode方法-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">sendCode</span><span class="params">(String phone, HttpSession session)</span> &#123;</span><br><span class="line">    <span class="comment">//1.校验手机号(一般使用正则表达式，验证手机号是否符合正常规范，如是否为11位，是否是1开头)</span></span><br><span class="line">    <span class="keyword">if</span> (RegexUtils.isPhoneInvalid(phone)) &#123;</span><br><span class="line">        <span class="comment">//2.如果不符合，返回错误信息</span></span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;手机号格式错误！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//3.符合则生成验证码(6是指定验证码为6位)</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> RandomUtil.randomNumbers(<span class="number">6</span>);</span><br><span class="line">    <span class="comment">//4.保存验证码到Redis,</span></span><br><span class="line">    <span class="comment">//直接将手机号存入，可能别的功能也会直接存入手机号，造成冲突，故最好加上前缀</span></span><br><span class="line">    <span class="comment">//给验证码数据设置有效期，防止Redis长期存储失效的数据</span></span><br><span class="line">    stringRedisTemplate.opsForValue().set(LOGIN_CODE_KEY+phone,code,LOGIN_CODE_TTL, TimeUnit.MINUTES);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//5.发送验证码</span></span><br><span class="line">    <span class="comment">//可以使用第三方平台如阿里云，容联运等实现，用也可以尝试使用qq邮箱实现，这里采用记录日志来简单模拟(记得加上Slf4j注解)</span></span><br><span class="line">    log.debug(<span class="string">&quot;发送短信验证码成功,验证码：&#123;&#125;&quot;</span>, code);</span><br><span class="line">    <span class="comment">//返回OK</span></span><br><span class="line">    <span class="keyword">return</span> Result.ok();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="修改sendcode方法-3"><p>key使用用<code>login:code:email</code>的形式，并设置<code>有效期2分钟</code>，我们可以定义一个常量类来替换这里的login:code:和2，让代码显得更专业一点<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConstants</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">LOGIN_CODE_KEY</span> <span class="operator">=</span> <span class="string">&quot;login:code:&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Long</span> <span class="variable">LOGIN_CODE_TTL</span> <span class="operator">=</span> <span class="number">2L</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ul><div class="tabs" id="修改登录功能"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#修改登录功能-1">login</button></li><li class="tab"><button type="button" data-href="#修改登录功能-2">修改后的代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="修改登录功能-1"><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">    @Override</span><br><span class="line">    public Result login(LoginFormDTO loginForm, HttpSession session) &#123;</span><br><span class="line">        // 1.校验手机号(每次独立的请求都应当校验一下)</span><br><span class="line">        String phone = loginForm.getPhone();</span><br><span class="line">        if (RegexUtils.isPhoneInvalid(phone)) &#123;</span><br><span class="line">            // 2.如果不符合，返回错误信息</span><br><span class="line">            return Result.fail(&quot;手机号格式错误！&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        // 3.校验验证码</span><br><span class="line"><span class="deletion">-        //从session中取出生成的随机验证码</span></span><br><span class="line"><span class="deletion">-        Object cacheCode = session.getAttribute(&quot;code&quot;);</span></span><br><span class="line"><span class="addition">+        String cacheCode = stringRedisTemplate.opsForValue().get(LOGIN_CODE_KEY + phone);</span></span><br><span class="line">        //取出用户输入的验证码</span><br><span class="line">        String code = loginForm.getCode();</span><br><span class="line">        if(cacheCode == null || !cacheCode.toString().equals(code))&#123;</span><br><span class="line">            //4.不一致，报错</span><br><span class="line">            return Result.fail(&quot;验证码错误&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        //4.一致，根据手机号查询用户(MybatisPlus提供的快捷单表增删改查)</span><br><span class="line">        User user = query().eq(&quot;phone&quot;, phone).one();</span><br><span class="line"></span><br><span class="line">        //5.判断用户是否存在</span><br><span class="line">        if(user == null)&#123;</span><br><span class="line">            //6.不存在，则创建(暂时还未实现，提前先把创建的方法写上)</span><br><span class="line">            //将创建的值返回保存在user，确保下面保存用户信息时user一定有值</span><br><span class="line">            user =  createUserWithPhone(phone);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="deletion">-        //7.保存用户信息到session中</span></span><br><span class="line"><span class="deletion">-        session.setAttribute(&quot;user&quot;, BeanUtil.copyProperties(user, UserDTO.class));</span></span><br><span class="line">        </span><br><span class="line"><span class="addition">+        //7.保存用户信息到redis中</span></span><br><span class="line"><span class="addition">+        //7.1 随机生成token，作为登录令牌</span></span><br><span class="line"><span class="addition">+        //UUID java和Hutools都有，此处使用的是Hutools的</span></span><br><span class="line"><span class="addition">+        String token = UUID.randomUUID().toString(true);</span></span><br><span class="line"><span class="addition">+        //7.2 将User对象转为Hash存储</span></span><br><span class="line"><span class="addition">+        UserDTO userDTO = BeanUtil.copyProperties(user, UserDTO.class);</span></span><br><span class="line"><span class="addition">+        Map&lt;String, Object&gt; userMap = BeanUtil.beanToMap(userDTO);</span></span><br><span class="line"><span class="addition">+        //7.3 存储    </span></span><br><span class="line"><span class="addition">+        //使用put(String key,Object hashKey,Object value)的话，每个字段都要执行一次，需要与服务器进行多次交互</span></span><br><span class="line"><span class="addition">+        stringRedisTemplate.opsForHash().putAll(LOGIN_USER_KEY+token, userMap);</span></span><br><span class="line"><span class="addition">+        //7.4 设置token有效期</span></span><br><span class="line"><span class="addition">+        stringRedisTemplate.expire(LOGIN_USER_KEY,30, TimeUnit.MINUTES);</span></span><br><span class="line"><span class="addition">+        //8.返回token</span></span><br><span class="line"><span class="deletion">-        return Result.ok();</span></span><br><span class="line"><span class="addition">+        return Result.ok(token); </span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="修改登录功能-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">login</span><span class="params">(LoginFormDTO loginForm, HttpSession session)</span> &#123;</span><br><span class="line">        <span class="comment">// 1.校验手机号(每次独立的请求都应当校验一下)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> loginForm.getPhone();</span><br><span class="line">        <span class="keyword">if</span> (RegexUtils.isPhoneInvalid(phone)) &#123;</span><br><span class="line">            <span class="comment">// 2.如果不符合，返回错误信息</span></span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;手机号格式错误！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 3.校验验证码</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">cacheCode</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(LOGIN_CODE_KEY + phone);</span><br><span class="line">        <span class="comment">//取出用户输入的验证码</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> loginForm.getCode();</span><br><span class="line">        <span class="keyword">if</span>(cacheCode == <span class="literal">null</span> || !cacheCode.toString().equals(code))&#123;</span><br><span class="line">            <span class="comment">//4.不一致，报错</span></span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;验证码错误&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//4.一致，根据手机号查询用户(MybatisPlus提供的快捷单表增删改查)</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> query().eq(<span class="string">&quot;phone&quot;</span>, phone).one();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.判断用户是否存在</span></span><br><span class="line">        <span class="keyword">if</span>(user == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">//6.不存在，则创建(暂时还未实现，提前先把创建的方法写上)</span></span><br><span class="line">            <span class="comment">//将创建的值返回保存在user，确保下面保存用户信息时user一定有值</span></span><br><span class="line">            user =  createUserWithPhone(phone);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//7.保存用户信息到redis中</span></span><br><span class="line">        <span class="comment">//7.1 随机生成token，作为登录令牌</span></span><br><span class="line">        <span class="comment">//UUID java和Hutools都有，此处使用的是Hutools的</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> UUID.randomUUID().toString(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">//7.2 将User对象转为Hash存储</span></span><br><span class="line">        <span class="type">UserDTO</span> <span class="variable">userDTO</span> <span class="operator">=</span> BeanUtil.copyProperties(user, UserDTO.class);</span><br><span class="line">        Map&lt;String, Object&gt; userMap = BeanUtil.beanToMap(userDTO);</span><br><span class="line">        <span class="comment">//7.3 存储</span></span><br><span class="line">        <span class="comment">//使用put(String key,Object hashKey,Object value)的话，每个字段都要执行一次，需要与服务器进行多次交互</span></span><br><span class="line">        stringRedisTemplate.opsForHash().putAll(LOGIN_USER_KEY+token, userMap);</span><br><span class="line">        <span class="comment">//7.4 设置token有效期</span></span><br><span class="line">        stringRedisTemplate.expire(LOGIN_USER_KEY,<span class="number">30</span>, TimeUnit.MINUTES);</span><br><span class="line">        <span class="comment">//8.返回token</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok(token);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="解决登录状态刷新问题"><a href="#解决登录状态刷新问题" class="headerlink" title="解决登录状态刷新问题"></a>解决登录状态刷新问题</h2><h3 id="初始方案："><a href="#初始方案：" class="headerlink" title="初始方案："></a>初始方案：</h3><ul><li>查看请求，发现我们存的token在请求头中。<blockquote><p>authorization: 6867061d-a8d0-4e60-b92f-97f7d698a1ca</p></blockquote></li><li>通过拦截器拦截到请求，来证明用户正在操作，每次拦截时刷新用户登录状态，如果用户在30分钟没有任何操作，则token消失。<div class="tabs" id="修改拦截器功能"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#修改拦截器功能-1">拦截器功能修改</button></li><li class="tab"><button type="button" data-href="#修改拦截器功能-2">修改后代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="修改拦截器功能-1"><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">    @Override</span><br><span class="line">    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123;</span><br><span class="line"><span class="deletion">-        //1.获取Session</span></span><br><span class="line"><span class="deletion">-        HttpSession session = request.getSession();</span></span><br><span class="line"><span class="deletion">-        //2.获取Session中的用户</span></span><br><span class="line"><span class="deletion">-        Object user = session.getAttribute(&quot;user&quot;);</span></span><br><span class="line">        //1.获取请求头上的token,authorization为课程中展示的前端代码</span><br><span class="line"><span class="addition">+        String token = request.getHeader(&quot;authorization&quot;);</span></span><br><span class="line"><span class="addition">+        if(StrUtil.isBlank(token))&#123;</span></span><br><span class="line"><span class="addition">+            //如果token为空，则直接拦截并返回状态码</span></span><br><span class="line"><span class="addition">+            response.setStatus(401);</span></span><br><span class="line"><span class="addition">+            return false;</span></span><br><span class="line"><span class="addition">+        &#125;</span></span><br><span class="line"><span class="addition">+        //2.根据token获取redis中的用户</span></span><br><span class="line"><span class="addition">+        //使用get返回的仅仅是某一个key的某一字段,这里使用entries</span></span><br><span class="line"><span class="addition">+        Map&lt;Object, Object&gt; usermap = stringRedisTemplate.opsForHash()</span></span><br><span class="line"><span class="addition">+                .entries(LOGIN_USER_KEY + token);</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        //3.判断用户是否存在</span><br><span class="line"><span class="deletion">-        if(user==null)</span></span><br><span class="line"><span class="addition">+        if(usermap.isEmpty())&#123;</span></span><br><span class="line">            //4.不存在，拦截,返回401状态码</span><br><span class="line">            response.setStatus(401);</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="addition">+        //5.将查询的Hash数据转为UserDTO对象</span></span><br><span class="line"><span class="addition">+        UserDTO userDTO = BeanUtil.fillBeanWithMap(usermap, new UserDTO(), false);</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-        //5.存在，保存用户信息到ThreadLocal</span></span><br><span class="line"><span class="deletion">-        UserHolder.saveUser((UserDTO)user);</span></span><br><span class="line"><span class="addition">+        //6.存在，保存用户信息到ThreadLocal</span></span><br><span class="line"><span class="addition">+        UserHolder.saveUser(userDTO);</span></span><br><span class="line"><span class="addition">+        //7.刷新token有效期</span></span><br><span class="line"><span class="addition">+        stringRedisTemplate.expire(LOGIN_USER_KEY+token,30, TimeUnit.MINUTES);</span></span><br><span class="line"><span class="addition">+        //8.放行</span></span><br><span class="line"><span class="deletion">-        //6.放行</span></span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="修改拦截器功能-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.获取请求头上的token,authorization为课程中展示的前端代码</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;authorization&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(StrUtil.isBlank(token))&#123;</span><br><span class="line">        <span class="comment">//如果token为空，则直接拦截并返回状态码</span></span><br><span class="line">        response.setStatus(<span class="number">401</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//2.根据token获取redis中的用户</span></span><br><span class="line">    <span class="comment">//使用get返回的仅仅是某一个key的某一字段,这里使用entries</span></span><br><span class="line">    Map&lt;Object, Object&gt; usermap = stringRedisTemplate.opsForHash()</span><br><span class="line">            .entries(LOGIN_USER_KEY + token);</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.判断用户是否存在</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(usermap.isEmpty())&#123;</span><br><span class="line">        <span class="comment">//4.不存在，拦截,返回401状态码</span></span><br><span class="line">        response.setStatus(<span class="number">401</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//5.将查询的Hash数据转为UserDTO对象</span></span><br><span class="line">    <span class="type">UserDTO</span> <span class="variable">userDTO</span> <span class="operator">=</span> BeanUtil.fillBeanWithMap(usermap, <span class="keyword">new</span> <span class="title class_">UserDTO</span>(), <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//6.存在，保存用户信息到ThreadLocal</span></span><br><span class="line">    UserHolder.saveUser(userDTO);</span><br><span class="line">    <span class="comment">//7.刷新token有效期</span></span><br><span class="line">    stringRedisTemplate.expire(LOGIN_USER_KEY+token,<span class="number">30</span>, TimeUnit.MINUTES);</span><br><span class="line">    <span class="comment">//8.放行</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ul><p>在这个方案中，用户在访问需要拦截的路径时，会触发拦截器的执行，同时刷新登录token令牌的存活时间，但是如果当前用户只访问了一些不需要拦截的路径，那么这个拦截器就不会生效，此时令牌刷新的动作实际上就不会执行，所以这个方案他是存在问题的。</p><h1 id="商户查询缓存"><a href="#商户查询缓存" class="headerlink" title="商户查询缓存"></a>商户查询缓存</h1><h2 id="什么是缓存"><a href="#什么是缓存" class="headerlink" title="什么是缓存"></a>什么是缓存</h2><p><code>缓存</code>是数据交换的<code>缓冲区</code>，用来临时存储数据，一般<code>读写性能较高</code></p><ul><li>缓存就像自行车、越野车的<code>避震器</code>，不但能防止车体在移动过程中因震动而摇晃，从而<code>提高车辆性能</code>，还能避免车体在地面上飞跃硬着陆导致<code>损坏</code>。</li><li>在实际开发中，系统也需要“避震器”来防止过高的访问量导致数据库压力过大，导致操作线程无法及时处理信息而瘫痪。</li></ul><h3 id="哪里用到了缓存"><a href="#哪里用到了缓存" class="headerlink" title="哪里用到了缓存"></a>哪里用到了缓存</h3><ul><li>实际开发中，会构筑多级缓存来对系统运行速度进一步提升，例如：本地缓存与Redis中的缓存并发使用</li><li><code>浏览器缓存：</code>主要是存在于浏览器端的缓存</li><li><code>应用层缓存：</code>可以分为toncat本地缓存，例如之前提到的map或者是使用Redis作为缓存</li><li><code>数据库缓存：</code>在数据库中有一片空间是buffer pool，增改查数据都会先加载到mysql的缓存中</li><li><code>CPU缓存：</code>当代计算机最大的问题就是CPU性能提升了，但是内存读写速度没有跟上，所以为了适应当下的情况，增加了CPU的L1，L2，L3级的缓存</li></ul><h3 id="为什么要用缓存"><a href="#为什么要用缓存" class="headerlink" title="为什么要用缓存"></a>为什么要用缓存</h3><ul><li><strong>言简意赅：`速度快，好用</strong></li><li>缓存数据存储于代码中，而代码运行在<code>内存</code>中，内存的读写性能远高于磁盘，缓存可以大大<code>降低用户访问并发量带来的服务器读写压力</code></li><li>缓存可以<code>减少数据库的访问次数</code>，从而<code>提高系统的性能</code></li><li>缓存可以<code>减少数据库的压力</code>，从而<code>提高系统的稳定性</code></li><li>实际开发中，企业的数据量，少则几十万，多则几千万，这么大的数据量，如果没有缓存来作为<code>避震器</code>系统是几乎撑不住的，所以企业会大量运用缓存技术</li><li><p>但是缓存也会增加代码复杂度和运营成本</p></li><li><p><strong><em>缓存的作用</em></strong></p><blockquote><ol><li>降低后端负载</li><li>提高读写效率，降低响应时间</li></ol></blockquote></li><li><p><strong><em>缓存的成本</em></strong></p><blockquote><ol><li>数据一致性成本</li><li>代码维护成本</li><li>运维成本（一般采用服务器集群，需要多加机器，机器就是钱）</li></ol></blockquote></li></ul><h2 id="添加商户缓存"><a href="#添加商户缓存" class="headerlink" title="添加商户缓存"></a>添加商户缓存</h2><p>启动项目后，随便访问一个商户，查看浏览器发送的请求<br><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/PicGo.lnk"/></div></div></p><blockquote><p>请求网址: <a href="http://localhost:8080/api/shop/10">http://localhost:8080/api/shop/10</a><br> 请求方法: GET</p><ul><li>此时浏览器发送的是Restful风格的请求，请求路径中包含了商户id</li><li>再找到ShopController层调用的方法，发现是调用的ShopService的getById方法，直接在数据库中查询<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 根据id查询商铺信息</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> id 商铺id</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> 商铺详情数据</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">queryShopById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Long id)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> Result.ok(shopService.getById(id));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>我们可以通过在客户端与数据库之间加上一个Redis缓存，先从Redis中查询，如果没有查到，再去MySQL中查询，同时查询完毕之后，将查询到的数据也存入Redis，这样当下一个用户来进行查询的时候，就可以直接从Redis中获取到数据</li></ul></blockquote><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><p>代码思路：</p><ol><li>从Redis中查询商户缓存</li><li>如果缓存存在，直接返回</li><li>如果缓存不存在，从MySQL中查询</li><li>如果MySQL中也不存在，返回错误</li><li>如果MySQL中存在，将查询到的数据存入Redis缓存</li><li>返回数据</li></ol><div class="tabs" id="商户查询代码实现"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#商户查询代码实现-1">Controller层</button></li><li class="tab"><button type="button" data-href="#商户查询代码实现-2">Service层</button></li><li class="tab"><button type="button" data-href="#商户查询代码实现-3">ServiceImpl层</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="商户查询代码实现-1"><p>Controller层只负责调用方法，将业务逻辑写到Service，然后去ServiceImpl层实现<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@GetMapping</span>(<span class="string">&quot;/&#123;id&#125;&quot;</span>)</span><br><span class="line">public Result <span class="built_in">queryShopById</span>(<span class="variable">@PathVariable</span>(<span class="string">&quot;id&quot;</span>) Long id) &#123;</span><br><span class="line">    <span class="selector-tag">return</span> <span class="selector-tag">shopService</span><span class="selector-class">.queryById</span>(id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="商户查询代码实现-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">IShopService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;Shop&gt; &#123;</span><br><span class="line">    Result <span class="title function_">queryById</span><span class="params">(Long id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="商户查询代码实现-3"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShopServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;ShopMapper, Shop&gt; <span class="keyword">implements</span> <span class="title class_">IShopService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">queryById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line"><span class="comment">//        1. 从Redis中查询商户缓存</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">shopJson</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(CACHE_SHOP_KEY + id.toString());</span><br><span class="line"><span class="comment">//        2. 判断是否存在</span></span><br><span class="line">        <span class="keyword">if</span>(StrUtil.isNotBlank(shopJson))&#123;</span><br><span class="line"><span class="comment">//        3. 如果缓存存在，直接返回</span></span><br><span class="line">            <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> JSONUtil.toBean(shopJson, Shop.class);</span><br><span class="line">            <span class="keyword">return</span> Result.ok(shopJson);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        4. 如果缓存不存在，从MySQL中查询</span></span><br><span class="line">        <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> baseMapper.selectById(id);</span><br><span class="line"><span class="comment">//        5. 如果MySQL中也不存在，返回错误</span></span><br><span class="line">        <span class="keyword">if</span>(shop == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;店铺不存在&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        6. 如果MySQL中存在，将查询到的数据存入Redis缓存</span></span><br><span class="line">        stringRedisTemplate.opsForValue().set(CACHE_SHOP_KEY + id.toString(),JSONUtil.toJsonStr(shop));</span><br><span class="line"><span class="comment">//        7. 返回数据</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok(shop);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="课后练习"><a href="#课后练习" class="headerlink" title="课后练习"></a>课后练习</h3><p>学习商户数据缓存后，尝试做一下商户类型数据缓存<br>在首页可以观察到发送的请求为<code>http://localhost:8080/api/shop-type/list</code><br><div class="tabs" id="商户类型"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#商户类型-1">商户类型</button></li><li class="tab"><button type="button" data-href="#商户类型-2">发送请求</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="商户类型-1"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250828140741.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="商户类型-2"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250828135328.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><br>故仿照商户缓存的思路，编写商户类型缓存，注意此处的商户类型=数据不仅仅是一个商户，而是多个商户的类型<br><div class="tabs" id="商户类型缓存"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#商户类型缓存-1">Controller层</button></li><li class="tab"><button type="button" data-href="#商户类型缓存-2">Service层</button></li><li class="tab"><button type="button" data-href="#商户类型缓存-3">ServiceImpl层</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="商户类型缓存-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/shop-type&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShopTypeController</span> &#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> IShopTypeService typeService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;list&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">queryTypeList</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//        List&lt;ShopType&gt; typeList = typeService</span></span><br><span class="line"><span class="comment">//                .query().orderByAsc(&quot;sort&quot;).list();</span></span><br><span class="line">        List&lt;ShopType&gt; typeList = typeService.queryTypeList();</span><br><span class="line">        <span class="keyword">return</span> Result.ok(typeList);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="商户类型缓存-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">IShopTypeService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;ShopType&gt; &#123;</span><br><span class="line">    List&lt;ShopType&gt; <span class="title function_">queryTypeList</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="商户类型缓存-3"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShopTypeServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;ShopTypeMapper, ShopType&gt; <span class="keyword">implements</span> <span class="title class_">IShopTypeService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;ShopType&gt; <span class="title function_">queryTypeList</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;login:type&quot;</span>;</span><br><span class="line"><span class="comment">//        SetOperations&lt;String, String&gt; setOps = redisTemplate.opsForSet();</span></span><br><span class="line">        <span class="comment">// 1. 从redis查询商铺缓存</span></span><br><span class="line"><span class="comment">//        String shopTypeJson = setOps.members(key).toString();</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">shopTypeJson</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(key);</span><br><span class="line">        <span class="comment">// 2. 判断是否存在</span></span><br><span class="line">        <span class="keyword">if</span> (StrUtil.isNotBlank(shopTypeJson)) &#123;</span><br><span class="line">            <span class="comment">// 3. 存在，转化为List返回</span></span><br><span class="line"><span class="comment">//            return objectMapper.readValue(shopTypeJson, new TypeReference&lt;List&lt;ShopType&gt;&gt;()&#123;&#125;);</span></span><br><span class="line">            <span class="keyword">return</span> JSONUtil.toList(shopTypeJson, ShopType.class);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 4. 不存在，查询数据库</span></span><br><span class="line">        List&lt;ShopType&gt; typeList = <span class="built_in">this</span>.query().orderByAsc(<span class="string">&quot;sort&quot;</span>).list();</span><br><span class="line">        <span class="comment">// 5. 不存在，返回空列表</span></span><br><span class="line">        <span class="keyword">if</span> (typeList.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 6. 存在，写入redis</span></span><br><span class="line">        stringRedisTemplate.opsForValue().set(key, JSONUtil.toJsonStr(typeList));</span><br><span class="line">        <span class="comment">// 7. 返回</span></span><br><span class="line">        <span class="keyword">return</span> typeList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><h2 id="缓存更新策略"><a href="#缓存更新策略" class="headerlink" title="缓存更新策略"></a>缓存更新策略</h2><ul><li>缓存更新是Redis为了节约内存而设计出来的一个东西，主要是因为内存数据宝贵，当我们想Redis插入太多数据，此时就可能会导致缓存中数据过多，所以Redis会对部分数据进行更新，或者把它成为淘汰更合适</li><li><code>内存淘汰</code>：Redis自动进行，当Redis内存大道我们设定的<code>max-memery</code>时，会自动触发淘汰机制，淘汰掉一些不重要的数据（可以自己设置策略方式）</li><li><code>超时剔除</code>：当我们给Redis设置了过期时间TTL之后，Redis会将超时的数据进行删除，方便我们继续使用缓存</li><li><code>主动更新</code>：我们可以手动调用方法把缓存删除掉，通常用于解决缓存和数据库不一致问题</li></ul><div class="table-container"><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">内存淘汰</th><th style="text-align:center">超时剔除</th><th style="text-align:center">主动更新</th></tr></thead><tbody><tr><td style="text-align:center">说明</td><td style="text-align:center">不用自己维护， 利用Redis的内存淘汰机制， 当内存不足时自动淘汰部分数据。 下次查询时更新缓存。</td><td style="text-align:center">给缓存数据添加TTL时间， 到期后自动删除缓存。 下次查询时更新缓存。</td><td style="text-align:center">编写业务逻辑， 在修改数据库的同时， 更新缓存。</td></tr><tr><td style="text-align:center">一致性</td><td style="text-align:center">差</td><td style="text-align:center">一般</td><td style="text-align:center">好</td></tr><tr><td style="text-align:center">维护成本</td><td style="text-align:center">无</td><td style="text-align:center">低</td><td style="text-align:center">高</td></tr></tbody></table></div><ul><li>业务场景<ul><li>低一致性需求：使用内存淘汰机制，例如店铺类型的查询缓存（因为这个很长一段时间都不需要更新）</li><li>高一致性需求：主动更新，并以超时剔除作为兜底方案，例如店铺详情查询的缓存</li></ul></li></ul><h3 id="数据库和缓存不一致解决方案"><a href="#数据库和缓存不一致解决方案" class="headerlink" title="数据库和缓存不一致解决方案"></a>数据库和缓存不一致解决方案</h3><ul><li>由于我们的缓存数据源来自数据库，而数据库的数据是会发生变化的，因此，如果当数据库中数据发生变化，而缓存却没有同步，此时就会有一致性问题存在，其后果是<ul><li>用户使用缓存中的过时数据，就会产生类似多线程数据安全问题，从而影响业务，产品口碑等</li></ul></li><li>那么如何解决这个问题呢？有如下三种方式<ol><li>Cache Aside Pattern 人工编码方式：缓存调用者在更新完数据库之后再去更新缓存，也称之为双写方案</li><li>Read/Write Through Pattern：缓存与数据库整合为一个服务，由服务来维护一致性。调用者调用该服务，无需关心缓存一致性问题。但是维护这样一个服务很复杂，市面上也不容易找到这样的一个现成的服务，开发成本高</li><li>Write Behind Caching Pattern：调用者只操作缓存，其他线程去<code>异步处理</code>数据库，最终实现一致性。但是维护这样的一个异步的任务很复杂，需要<code>实时监控</code>缓存中的数据更新，其他线程去异步更新数据库也可能不太及时，而且缓存服务器如果宕机，那么缓存的数据也就丢失了</li></ol></li></ul><h3 id="数据库和缓存不一致采用什么方案"><a href="#数据库和缓存不一致采用什么方案" class="headerlink" title="数据库和缓存不一致采用什么方案"></a>数据库和缓存不一致采用什么方案</h3><ul><li>综上所述，在企业的实际应用中，还是方案一最可靠，但是方案一的调用者该如何处理呢？</li><li>如果采用方案一，假设我们每次操作完数据库之后，都去更新一下缓存，但是如果中间并没有人查询数据，那么这个更新动作只有最后一次是有效的，中间的更新动作意义不大，所以我们可以把缓存直接删除，等到有人再次查询时，再将缓存中的数据加载出来</li><li>对比删除缓存与更新缓存<ul><li><code>更新缓存：</code>每次更新数据库都需要更新缓存，无效写操作较多</li><li><code>删除缓存：</code>更新数据库时让缓存失效，再次查询时更新缓存</li></ul></li><li>如何保证缓存与数据库的操作同时成功/同时失败<ul><li><code>单体系统：</code>将缓存与数据库操作放在同一个事务</li><li><code>分布式系统：</code>利用TCC等分布式事务方案</li></ul></li><li>先操作缓存还是先操作数据库？我们来仔细分析一下这两种方式的线程安全问题<div class="tabs" id="两种操作"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#两种操作-1">删除缓存，再操作数据库</button></li><li class="tab"><button type="button" data-href="#两种操作-2">操作数据库，再删除缓存</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="两种操作-1"><ul><li><strong>先删除缓存，再操作数据库</strong><br>删除缓存的操作很快，但是更新数据库的操作相对较慢，如果此时有一个线程2刚好进来查询缓存，由于我们刚刚才删除缓存，所以线程2需要查询数据库，并写入缓存，但是我们更新数据库的操作还未完成，所以线程2查询到的数据是脏数据，出现线程安全问题</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://pic1.imgdb.cn/item/6354be3e16f2c2beb1d11bd0.jpg"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="两种操作-2"><ul><li><strong>先操作数据库，再删除缓存</strong><br>线程1在查询缓存的时候 ，缓存TTL刚好失效，需要查询数据库并写入缓存，这个操作耗时相对较短（相比较于上图来说），但是就在这么短的时间内，线程2进来了，更新数据库，删除缓存，但是线程1虽然查询完了数据（更新前的旧数据），但是还没来得及写入缓存，所以线程2的更新数据库与删除缓存，并没有影响到线程1的查询旧数据，写入缓存，造成线程安全问题</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://pic1.imgdb.cn/item/6354be5316f2c2beb1d130c0.jpg"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li><li>虽然这二者都存在线程安全问题，但是相对来说，后者出现线程安全问题的概率相对较低，所以我们最终采用后者<code>先操作数据库，再删除缓存</code>的方案</li></ul><p>缓存更新策略的最佳实践方案：</p><ol><li>低一致性需求：使用Redis自带的内存淘汰机制</li><li>高一致性需求：主动更新，并以超时剔除作为兜底方案<ul><li><strong>读操作：</strong><ul><li>缓存命中则直接返回</li><li>缓存未命中则查询数据库并写入缓存，设定超时时间</li></ul></li><li><strong>写操作：</strong><ul><li>先写数据库，然后删除缓存</li><li>确保数据库与缓存操作的原子性 </li></ul></li></ul></li></ol><h3 id="实现缓存与数据库双写一致"><a href="#实现缓存与数据库双写一致" class="headerlink" title="实现缓存与数据库双写一致"></a>实现缓存与数据库双写一致</h3><ul><li><p>修改ShopController中的业务逻辑，满足以下要求</p><ol><li>根据id查询店铺时，如果缓存未命中，则查询数据库，并将数据库结果写入缓存，并设置TTL</li><li>根据id修改店铺时，先修改数据库，再删除缓存</li></ol></li><li><p>修改ShopService的queryById方法，写入缓存时设置一下TTL</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">queryById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">    <span class="comment">//先从Redis中查，这里的常量值是固定的前缀 + 店铺id</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">shopJson</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(CACHE_SHOP_KEY + id);</span><br><span class="line">    <span class="comment">//如果不为空（查询到了），则转为Shop类型直接返回</span></span><br><span class="line">    <span class="keyword">if</span> (StrUtil.isNotBlank(shopJson)) &#123;</span><br><span class="line">        <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> JSONUtil.toBean(shopJson, Shop.class);</span><br><span class="line">        <span class="keyword">return</span> Result.ok(shop);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//否则去数据库中查</span></span><br><span class="line">    <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> getById(id);</span><br><span class="line">    <span class="comment">//查不到返回一个错误信息或者返回空都可以，根据自己的需求来</span></span><br><span class="line">    <span class="keyword">if</span> (shop == <span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;店铺不存在！！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//查到了则转为json字符串</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">jsonStr</span> <span class="operator">=</span> JSONUtil.toJsonStr(shop);</span><br><span class="line">    <span class="comment">//并存入redis，设置TTL</span></span><br><span class="line">    stringRedisTemplate.opsForValue().set(CACHE_SHOP_KEY + id, jsonStr,CACHE_SHOP_TTL, TimeUnit.MINUTES);</span><br><span class="line">    <span class="comment">//最终把查询到的商户信息返回给前端</span></span><br><span class="line">    <span class="keyword">return</span> Result.ok(shop);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>修改ShopController中的update方法</li><li><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">更新前</button></li><li class="tab"><button type="button" data-href="#-2">更新后</button></li><li class="tab"><button type="button" data-href="#-3">Service层</button></li><li class="tab"><button type="button" data-href="#-4">Serviceimpl层</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 更新商铺信息</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> shop 商铺数据</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> 无</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PutMapping</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">updateShop</span><span class="params">(<span class="meta">@RequestBody</span> Shop shop)</span> &#123;</span><br><span class="line">    <span class="comment">// 写入数据库</span></span><br><span class="line">    shopService.updateById(shop);</span><br><span class="line">    <span class="keyword">return</span> Result.ok();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 更新商铺信息</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> shop 商铺数据</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 无</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PutMapping</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">updateShop</span><span class="params">(<span class="meta">@RequestBody</span> Shop shop)</span> &#123;</span><br><span class="line">        <span class="comment">// 写入数据库</span></span><br><span class="line">        <span class="keyword">return</span> shopService.update(shop);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">IShopService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;Shop&gt; &#123;</span><br><span class="line">    Result <span class="title function_">queryById</span><span class="params">(Long id)</span>;</span><br><span class="line">    Result <span class="title function_">update</span><span class="params">(Shop shop)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="comment">//如果id为空发生异常，应该为异常回滚事务</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">update</span><span class="params">(Shop shop)</span> &#123;</span><br><span class="line">    <span class="type">Long</span> <span class="variable">id</span> <span class="operator">=</span> shop.getId();</span><br><span class="line">    <span class="keyword">if</span>(id == <span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;店铺ID不能为空&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    1.更新数据库</span></span><br><span class="line">    updateById(shop);</span><br><span class="line"><span class="comment">//    2.删除缓存</span></span><br><span class="line">    stringRedisTemplate.delete(CACHE_SHOP_KEY + shop.getId().toString());</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ul><h2 id="缓存穿透"><a href="#缓存穿透" class="headerlink" title="缓存穿透"></a>缓存穿透</h2><ul><li><code>缓存穿透</code>：缓存穿透是指客户端请求的数据在缓存中和数据库中都不存在，这样缓存永远都不会生效（只有数据库查到了，才会让redis缓存，但现在的问题是查不到），会频繁的去访问数据库。</li></ul><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><ul><li>常见的结局方案有两种<ol><li>缓存空对象<ul><li>优点：实现简单，维护方便</li><li>缺点：额外的内存消耗，可能造成短期的不一致</li></ul></li><li>布隆过滤<ul><li>优点：内存占用小，没有多余的key</li><li>缺点：实现复杂，可能存在误判</li></ul></li></ol></li><li><code>缓存空对象</code>思路分析：当我们客户端访问不存在的数据时，会先请求redis，但是此时redis中也没有数据，就会直接访问数据库，但是数据库里也没有数据，那么这个数据就穿透了缓存，直击数据库。但是数据库能承载的并发不如redis这么高，所以如果大量的请求同时都来访问这个不存在的数据，那么这些请求就会访问到数据库，简单的解决方案就是哪怕这个数据在数据库里不存在，我们也把这个这个数据存在redis中去（这就是为啥说会有<code>额外的内存消耗</code>），这样下次用户过来访问这个不存在的数据时，redis缓存中也能找到这个数据，不用去查数据库。可能造成的<code>短期不一致</code>是指在空对象的存活期间，我们更新了数据库，把这个空对象变成了正常的可以访问的数据，但由于空对象的TTL还没过，所以当用户来查询的时候，查询到的还是空对象，等TTL过了之后，才能访问到正确的数据，不过这种情况很少见罢了</li><li><code>布隆过滤</code>思路分析：布隆过滤器其实采用的是<code>哈希思想</code>来解决这个问题，通过一个庞大的二进制数组，根据哈希思想去判断当前这个要查询的数据是否存在，如果布隆过滤器判断存在，则放行，这个请求会去访问redis，哪怕此时redis中的数据过期了，但是数据库里一定会存在这个数据，从数据库中查询到数据之后，再将其放到redis中。如果布隆过滤器判断这个数据不存在，则直接返回。这种思想的优点在于节约内存空间，但存在误判，误判的原因在于：布隆过滤器使用的是哈希思想，只要是哈希思想，都可能存在<code>哈希冲突</code></li></ul><h3 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a>代码实现</h3><p>原来的逻辑中，我们如果发现这个数据在MySQL中不存在，就直接返回一个错误信息了，但是这样存在缓存穿透问题</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">queryById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">    <span class="comment">//先从Redis中查，这里的常量值是固定的前缀 + 店铺id</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">shopJson</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(CACHE_SHOP_KEY + id);</span><br><span class="line">    <span class="comment">//如果不为空（查询到了），则转为Shop类型直接返回</span></span><br><span class="line">    <span class="keyword">if</span> (StrUtil.isNotBlank(shopJson)) &#123;</span><br><span class="line">        <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> JSONUtil.toBean(shopJson, Shop.class);</span><br><span class="line">        <span class="keyword">return</span> Result.ok(shop);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//否则去数据库中查</span></span><br><span class="line">    <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> getById(id);</span><br><span class="line">    <span class="comment">//查不到返回一个错误信息或者返回空都可以，根据自己的需求来</span></span><br><span class="line">    <span class="keyword">if</span> (shop == <span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> Result.fail(<span class="string">&quot;店铺不存在！！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//查到了则转为json字符串</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">jsonStr</span> <span class="operator">=</span> JSONUtil.toJsonStr(shop);</span><br><span class="line">    <span class="comment">//并存入redis，设置TTL</span></span><br><span class="line">    stringRedisTemplate.opsForValue().set(CACHE_SHOP_KEY + id, jsonStr,CACHE_SHOP_TTL, TimeUnit.MINUTES);</span><br><span class="line">    <span class="comment">//最终把查询到的商户信息返回给前端</span></span><br><span class="line">    <span class="keyword">return</span> Result.ok(shop);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>现在的逻辑是：如果这个数据不存在，将这个数据写入到Redis中，并且将value设置为空字符串，然后设置一个较短的TTL，返回错误信息。当再次发起查询时，先去Redis中判断value是否为空字符串，如果是空字符串，则说明是刚刚我们存的不存在的数据，直接返回错误信息<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">queryById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line"><span class="comment">//        1. 从Redis中查询商户缓存</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">shopJson</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(CACHE_SHOP_KEY + id.toString());</span><br><span class="line"><span class="comment">//        2. 判断是否存在,isNotBlank在空字符串，转义字符和null时都为false</span></span><br><span class="line">        <span class="keyword">if</span>(StrUtil.isNotBlank(shopJson))&#123;</span><br><span class="line"><span class="comment">//        3. 如果缓存存在，直接返回</span></span><br><span class="line">            <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> JSONUtil.toBean(shopJson, Shop.class);</span><br><span class="line">            <span class="keyword">return</span> Result.ok(shopJson);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//判断命中的是否是空值</span></span><br><span class="line">        <span class="keyword">if</span>(shopJson!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;店铺信息不存在&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line"><span class="comment">//        4. 如果缓存不存在，从MySQL中查询</span></span><br><span class="line">        <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> baseMapper.selectById(id);</span><br><span class="line"><span class="comment">//        5. 如果MySQL中也不存在，返回错误</span></span><br><span class="line">        <span class="keyword">if</span>(shop == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">//将空值写入到Redis中</span></span><br><span class="line">            stringRedisTemplate.opsForValue().set(CACHE_SHOP_KEY + id.toString(), <span class="string">&quot;&quot;</span>, CACHE_NULL_TTL, TimeUnit.MINUTES);</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;店铺不存在&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        6. 如果MySQL中存在，将查询到的数据存入Redis缓存</span></span><br><span class="line">        stringRedisTemplate.opsForValue().set(CACHE_SHOP_KEY + id.toString(),JSONUtil.toJsonStr(shop),CACHE_SHOP_TTL, TimeUnit.MINUTES);</span><br><span class="line"><span class="comment">//        7. 返回数据</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok(shop);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>小结：</p><ul><li>缓存穿透产生的原因是什么？<ul><li>用户请求的数据在缓存中和在数据库中都不存在，不断发起这样的请求，会给数据库带来巨大压力<ul><li>缓存穿透的解决方案有哪些？</li></ul><ol><li>缓存null值</li><li>布隆过滤</li><li>增强id复杂度，避免被猜测id规律（可以采用雪花算法）</li><li>做好数据的基础格式校验</li><li>加强用户权限校验</li><li>做好热点参数的限流</li></ol></li></ul></li></ul></blockquote><h2 id="缓存雪崩"><a href="#缓存雪崩" class="headerlink" title="缓存雪崩"></a>缓存雪崩</h2><ul><li><code>缓存雪崩</code>是指在同一时间段，<code>大量缓存的key同时失效</code>，或者<code>Redis服务宕机</code>，导致大量请求到达数据库，带来巨大压力</li><li>解决方案<ul><li>给不同的Key的TTL添加随机值，让其在不同时间段分批失效</li><li>利用<code>Redis集群</code>提高服务的可用性（使用一个或者多个哨兵<code>(Sentinel)</code>实例组成的系统，对redis节点进行监控，在主节点出现故障的情况下，能将从节点中的一个升级为主节点，进行故障转义，保证系统的可用性。）</li><li>给缓存业务添加<code>降级限流策略</code></li><li>给业务添加<code>多级缓存</code>（浏览器访问静态资源时，优先读取浏览器本地缓存；访问非静态资源（ajax查询数据）时，访问服务端；请求到达Nginx后，优先读取Nginx本地缓存；如果Nginx本地缓存未命中，则去直接查询Redis（不经过Tomcat）；如果Redis查询未命中，则查询Tomcat；请求进入Tomcat后，优先查询JVM进程缓存；如果JVM进程缓存未命中，则查询数据库）</li></ul></li></ul><h2 id="缓存击穿"><a href="#缓存击穿" class="headerlink" title="缓存击穿"></a>缓存击穿</h2><ul><li><code>缓存击穿</code>是指在同一时间，<code>某个key非常热点</code>，同时<code>大量请求同时到达</code>，而<code>这个key正好失效</code>，导致大量请求到达数据库，带来巨大压力</li><li>举个不太恰当的例子：一件秒杀中的商品的key突然失效了，大家都在疯狂抢购，那么这个瞬间就会有无数的请求访问去直接抵达数据库，从而造成缓存击穿</li><li><strong><em>解决方案</em></strong><ul><li>给热点数据添加<code>互斥锁</code>（互斥锁可以用<code>Redis的setnx</code>命令实现），当多个线程同时查询同一个数据时，只有一个线程能查询到数据，其他线程都阻塞等待，等第一个线程查询到数据后，将数据写入到Redis中，其他线程再从Redis中查询数据</li><li>给热点数据添加<code>逻辑过期时间</code>（逻辑过期时间是指在数据过期时，不立即删除数据，而是给数据添加一个过期时间，当过期时间到了之后，再去查询数据，如果数据存在，则返回数据，如果数据不存在，则返回空值）</li></ul></li></ul><ul><li><code>逻辑分析</code>：假设线程1在查询缓存之后未命中，本来应该去查询数据库，重建缓存数据，完成这些之后，其他线程也就能从缓存中加载这些数据了。但是在线程1还未执行完毕时，又进来了线程2、3、4同时来访问当前方法，那么这些线程都不能从缓存中查询到数据，那么他们就会在同一时刻访问数据库，执行SQL语句查询，对数据库访问压力过大<br><a href="https://pic1.imgdb.cn/item/6354f77716f2c2beb1225032.jpg"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="img"></a></li><li><code>解决方案一</code>：互斥锁</li><li>利用锁的互斥性，假设线程过来，只能一个人一个人的访问数据库，从而避免对数据库频繁访问产生过大压力，但这也会影响查询的性能，将查询的性能从并行变成了串行，我们可以采用tryLock方法+double check来解决这个问题</li><li>线程1在操作的时候，拿着锁把房门锁上了，那么线程2、3、4就不能都进来操作数据库，只有1操作完了，把房门打开了，此时缓存数据也重建好了，线程2、3、4直接从redis中就可以查询到数据。</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://pic1.imgdb.cn/item/6354f76816f2c2beb1223b47.jpg"/></div></div><ul><li><code>解决方案二</code>：逻辑过期方案</li><li>方案分析：我们之所以会出现缓存击穿问题，主要原因是在于我们对key设置了TTL，如果我们不设置TTL，那么就不会有缓存击穿问题，但是不设置TTL，数据又会一直占用我们的内存，所以我们可以采用逻辑过期方案</li><li>我们之前是TTL设置在redis的value中，注意：这个过期时间并不会直接作用于Redis，而是我们后续通过逻辑去处理。假设线程1去查询缓存，然后从value中判断当前数据已经过期了，此时线程1去获得互斥锁，那么其他线程会进行阻塞，获得了锁的进程他会开启一个新线程去进行之前的重建缓存数据的逻辑，直到新开的线程完成逻辑之后，才会释放锁，而线程1直接进行返回，假设现在线程3过来访问，由于线程2拿着锁，所以线程3无法获得锁，线程3也直接返回数据（但只能<code>返回旧数据，牺牲了数据一致性，换取性能上的提高</code>），只有等待线程2重建缓存数据之后，其他线程才能返回正确的数据</li><li>这种方案巧妙在于，异步构建缓存数据，缺点是在重建完缓存数据之前，返回的都是脏数据，但是能提升性能</li></ul><div class="img-wrap"><div class="img-bg"><img class="img" src="https://pic1.imgdb.cn/item/6354f97716f2c2beb124e950.jpg"/></div></div><h3 id="对比互斥锁与逻辑删除"><a href="#对比互斥锁与逻辑删除" class="headerlink" title="对比互斥锁与逻辑删除"></a>对比互斥锁与逻辑删除</h3><ul><li><code>互斥锁方案</code>：由于保证了互斥性，所以数据一致，且实现简单，只是加了一把锁而已，也没有其他的事情需要操心，所以没有额外的内存消耗，缺点在于有锁的情况，就可能死锁，所以只能串行执行，性能会受到影响</li><li><code>逻辑过期方案</code>：线程读取过程中不需要等待，性能好，有一个额外的线程持有锁去进行重构缓存数据，但是在重构数据完成之前，其他线程只能返回脏数据，且实现起来比较麻烦</li></ul><div class="table-container"><table><thead><tr><th style="text-align:center">解决方案</th><th style="text-align:center">优点</th><th style="text-align:center">缺点</th></tr></thead><tbody><tr><td style="text-align:center">互斥锁</td><td style="text-align:center">没有额外的内存消耗 保证一致性 实现简单</td><td style="text-align:center">线程需要等待，性能受影响 可能有死锁风险</td></tr><tr><td style="text-align:center">逻辑过期</td><td style="text-align:center">线程无需等待，性能较好</td><td style="text-align:center">不保证一致性 有额外内存消耗 实现复杂</td></tr></tbody></table></div><h3 id="利用互斥锁解决缓存击穿问题"><a href="#利用互斥锁解决缓存击穿问题" class="headerlink" title="利用互斥锁解决缓存击穿问题"></a>利用互斥锁解决缓存击穿问题</h3><ul><li><strong><code>核心思路</code></strong>：相较于原来从缓存中查询不到数据后直接查询数据库而言，现在的方案是，进行查询之后，如果没有从缓存中查询到数据，则进行互斥锁的获取，获取互斥锁之后，判断是否获取到了锁，如果没获取到，则休眠一段时间，过一会儿再去尝试，知道获取到锁为止，才能进行查询</li><li>如果获取到了锁的线程，则进行查询，将查询到的数据写入Redis，再释放锁，返回数据，利用互斥锁就能保证只有一个线程去执行数据库的逻辑，防止缓存击穿<div class="img-wrap"><div class="img-bg"><img class="img" src="https://pic1.imgdb.cn/item/6354fb8116f2c2beb127ac8b.jpg"/></div></div></li><li><strong><code>操作锁的代码</code></strong></li><li>核心思路就是利用redis的setnx方法来表示获取锁，因为Redis是单线程的，如果redis没有这个key，则插入成功，返回1，如果已经存在这个key，则插入失败，返回0。在StringRedisTemplate中返回true/false，我们可以根据返回值来判断是否有线程成功获取到了锁</li></ul><div class="tabs" id="互斥锁"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#互斥锁-1">trylock</button></li><li class="tab"><button type="button" data-href="#互斥锁-2">unlock</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="互斥锁-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    尝试获取锁</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">trylock</span><span class="params">(String key)</span>&#123;</span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">flag</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().setIfAbsent(key, <span class="string">&quot;1&quot;</span>, <span class="number">10</span>, TimeUnit.SECONDS);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> BooleanUtil.isTrue(flag);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="互斥锁-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    尝试删除锁</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">unlock</span><span class="params">(String key)</span>&#123;</span><br><span class="line">        stringRedisTemplate.delete(key);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>解决缓存击穿和解决缓存穿透代码很相近，所以对之前的querybyId方法进行整合<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">//缓存穿透逻辑</span></span><br><span class="line">    <span class="keyword">public</span> Shop <span class="title function_">queryWithPassThrough</span><span class="params">(Long id)</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> CACHE_SHOP_KEY + id.toString();</span><br><span class="line"><span class="comment">//        1. 从Redis中查询商户缓存</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">shopJson</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(key);</span><br><span class="line"><span class="comment">//        2. 判断是否存在,isNotBlank在空字符串，转义字符和null时都为false</span></span><br><span class="line">        <span class="keyword">if</span>(StrUtil.isNotBlank(shopJson))&#123;</span><br><span class="line"><span class="comment">//        3. 如果缓存存在，直接返回</span></span><br><span class="line">            <span class="keyword">return</span> JSONUtil.toBean(shopJson, Shop.class);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//判断命中的是否是空值</span></span><br><span class="line">        <span class="keyword">if</span>(shopJson!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//        4. 如果缓存不存在，从MySQL中查询</span></span><br><span class="line">        <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> baseMapper.selectById(id);</span><br><span class="line"><span class="comment">//        5. 如果MySQL中也不存在，返回错误</span></span><br><span class="line">        <span class="keyword">if</span>(shop == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">//将空值写入到Redis中</span></span><br><span class="line">            stringRedisTemplate.opsForValue().set(CACHE_SHOP_KEY + id.toString(), <span class="string">&quot;&quot;</span>, CACHE_NULL_TTL, TimeUnit.MINUTES);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        6. 如果MySQL中存在，将查询到的数据存入Redis缓存</span></span><br><span class="line">        stringRedisTemplate.opsForValue().set(CACHE_SHOP_KEY + id.toString(),JSONUtil.toJsonStr(shop),CACHE_SHOP_TTL, TimeUnit.MINUTES);</span><br><span class="line"><span class="comment">//        7. 返回数据</span></span><br><span class="line">        <span class="keyword">return</span> shop;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><br>在编写我们的互斥锁代码，与缓存穿透类似，稍加修改即可<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">public</span> Shop <span class="title function_">queryWithMutex</span><span class="params">(Long id)</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> CACHE_SHOP_KEY + id.toString();</span><br><span class="line"><span class="comment">//        1. 从Redis中查询商户缓存</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">shopJson</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(key);</span><br><span class="line"><span class="comment">//        2. 判断是否存在,isNotBlank在空字符串，转义字符和null时都为false</span></span><br><span class="line">        <span class="keyword">if</span>(StrUtil.isNotBlank(shopJson))&#123;</span><br><span class="line"><span class="comment">//        3. 如果缓存存在，直接返回</span></span><br><span class="line">            <span class="keyword">return</span> JSONUtil.toBean(shopJson, Shop.class);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//判断命中的是否是空值</span></span><br><span class="line">        <span class="keyword">if</span>(shopJson!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//        4.  实现缓存重建</span></span><br><span class="line"><span class="comment">//        4.1 获取互斥锁</span></span><br><span class="line">        String lockKey=<span class="string">&quot;lock:shop:&quot;</span>+id.toString();</span><br><span class="line">        <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> trylock(lockKey);</span><br><span class="line"><span class="comment">//        4.2 判断互斥锁是否获取成功</span></span><br><span class="line">            <span class="keyword">if</span>(!isLock)&#123;</span><br><span class="line">    <span class="comment">//        4.3 失败，则休眠并重试</span></span><br><span class="line">                Thread.sleep(<span class="number">50</span>);</span><br><span class="line">                <span class="keyword">return</span> queryWithMutex(id);</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        4.4 成功，则查询数据库并写入缓存</span></span><br><span class="line">            shop = getById(id);</span><br><span class="line">            Thread.sleep(<span class="number">500</span>);</span><br><span class="line"><span class="comment">//        5. 如果MySQL中也不存在，返回错误</span></span><br><span class="line">            <span class="keyword">if</span>(shop == <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="comment">//将空值写入到Redis中</span></span><br><span class="line">                stringRedisTemplate.opsForValue().set(CACHE_SHOP_KEY + id.toString(), <span class="string">&quot;&quot;</span>, CACHE_NULL_TTL, TimeUnit.MINUTES);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//        6. 如果MySQL中存在，将查询到的数据存入Redis缓存</span></span><br><span class="line">            stringRedisTemplate.opsForValue().set(CACHE_SHOP_KEY + id.toString(),JSONUtil.toJsonStr(shop),CACHE_SHOP_TTL, TimeUnit.MINUTES);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125; <span class="keyword">finally</span>&#123;</span><br><span class="line"><span class="comment">//        7. 释放互斥锁</span></span><br><span class="line">            unlock(lockKey);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        8. 返回数据</span></span><br><span class="line">        <span class="keyword">return</span> shop;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><br>最终修改<code>queryById</code>方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">queryById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//      缓存穿透</span></span><br><span class="line"><span class="comment">//        Shop shop = queryWithPassThrough(id);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//      缓存击穿</span></span><br><span class="line">        <span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> queryWithMutex(id);</span><br><span class="line">        <span class="keyword">if</span>(shop == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;商铺不存在&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Result.ok(shop);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><ul><li>使用Jmeter进行测试<ul><li>我们先来模拟一下缓存击穿的情景，缓存击穿是指在某时刻，一个热点数据的TTL到期了，此时用户不能从Redis中获取热点商品数据，然后就都得去数据库里查询，造成数据库压力过大。</li><li>那么我们首先将Redis中的热点商品数据删除，模拟TTL到期，然后用Jmeter进行压力测试，开100个线程来访问这个没有缓存的热点数据</li></ul></li><li>配置Jmeter相关属性<div class="tabs" id="jmeter"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#jmeter-1">线程配置</button></li><li class="tab"><button type="button" data-href="#jmeter-2">目标配置</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="jmeter-1"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250828213708.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="jmeter-2"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250828213755.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ul><p>每次启动Jmeter前别忘了清空Redis缓存哦。</p><h2 id="缓存总结"><a href="#缓存总结" class="headerlink" title="缓存总结"></a>缓存总结</h2><h3 id="认识缓存"><a href="#认识缓存" class="headerlink" title="认识缓存"></a>认识缓存</h3><ul><li>缓存是一种具备<code>高效读写能力</code>的数据暂存区域</li><li><strong>缓存的作用</strong><ul><li>降低后端负载</li><li>提高服务读写响应速度</li></ul></li><li><strong>缓存的成本</strong><ul><li>开发成本</li><li>运维成本</li><li>一致性问题</li></ul></li></ul><h3 id="缓存更新策略-1"><a href="#缓存更新策略-1" class="headerlink" title="缓存更新策略"></a>缓存更新策略</h3><ul><li><p>缓存更新策略大致分为三种</p><blockquote><ol><li>内存淘汰 ———— Redis自带的内存淘汰机制</li><li>过期淘汰 ———— 利用expire命令给数据设置过期时间</li><li>主动更新 ———— 主动完成数据库与缓存的同步更新</li></ol></blockquote></li><li><p>可根据业务的一致性需求来选择不同的策略</p><ul><li>低一致性需求 ———— 内存淘汰或过期淘汰 </li><li>高一致性需求 ———— 主动更新为主，过期淘汰兜底</li></ul></li><li><p>主动更新的方案</p><ul><li><code>Cache Aside</code> ———— 缓存调用者更新数据库的同时完成对缓存的更新<ul><li>一致性良好</li><li>实现难度一般</li></ul></li><li><code>Read/Write Through</code> ———— 缓存与数据库集成为一个服务，服务保证两者的一致性，对外暴露API接口。调用者调用API，无需知道自己操作的是数据库还是缓存，不关心一致性<ul><li>一致性优秀</li><li>实现复杂</li><li>性能一般</li></ul></li><li><code>Write Back</code> ———— 缓存调用者的CRUD都针对缓存完成。独立线程异步的将缓存数据写到数据库，实现最终数据的一致<ul><li>一致性差</li><li>性能好</li><li>实现复杂</li></ul></li></ul></li><li><p>Cache Aside的模式选择</p><ul><li>更新缓存还是删除缓存？<ul><li>更新缓存会产生许多无效更新，并且在较大的线程会有安全问题</li><li>删除缓存本质是延迟更新，没有无效更新，安全问题相对较低</li></ul></li><li>先操作数据库还是缓存？<ul><li>先更新数据，再删除缓存 ———— 在满足原子性的情况下，安全问题的概率较低</li><li>先删除换粗，再更新数据 ———— 安全问题概率较高</li></ul></li><li>如何确保数据库与缓存操作原子性<ul><li>单体系统 ———— 事务机制</li><li>分布式系统 ———— 分布式事务机制</li></ul></li></ul></li><li><p>最佳实践</p><ul><li><p>查询数据时  </p><ol><li>先查询缓存</li><li>如果缓存命中，直接返回</li><li>缓存未命中，查询数据库</li><li>将数据库数据写入缓存</li><li>返回结果</li></ol></li><li><p>更新数据时</p><ol><li>先更新数据库</li><li>删除缓存</li></ol><ul><li>必须确保两者的原子性</li></ul></li></ul></li></ul><h3 id="缓存穿透-1"><a href="#缓存穿透-1" class="headerlink" title="缓存穿透"></a>缓存穿透</h3><ul><li>产生原因<ul><li>用户请求的数据在缓存和数据库都不存在，这样也不会写入缓存，这些请求会全部打到数据库</li></ul></li><li>解决方案<ul><li><code>缓存空对象</code><ul><li>思路：不存在的数据也在Redis建立缓存，把值设为空，并设置较短的过期时间</li><li>优点：实现简单，维护方便</li><li>缺点：会额外消耗内存，且可能有短期数据不一致问题</li></ul></li><li><code>布隆过滤器</code><ul><li>思路：利用布隆过滤算法，在请求进入Redis之前先判断是否存在，如果不存在则直接拒绝请求</li><li>优点：内存占用少</li><li>缺点：实现复杂，且存在误判的可能</li></ul></li><li><code>其他</code><ul><li>做好数据格式校验</li><li>加强用户权限校验</li><li>做好热点参数限流</li></ul></li></ul></li></ul><h3 id="缓存雪崩-1"><a href="#缓存雪崩-1" class="headerlink" title="缓存雪崩"></a>缓存雪崩</h3><ul><li>产生原因<ul><li>同一时段大量<code>key失效</code>或<code>Redis服务宕机</code>，导致大量请求直接到达数据库</li></ul></li><li>解决方案<ul><li>不同的key设置不同的失效时间</li><li>利用Redis集群提高服务的可用性</li><li>添加多级缓存</li><li>给缓存业务添加限流策略</li></ul></li></ul><h3 id="缓存击穿-1"><a href="#缓存击穿-1" class="headerlink" title="缓存击穿"></a>缓存击穿</h3><ul><li>产生原因<ul><li>热点Key在一段时间内被高并发访问，而缓存重建耗时较长</li><li>热点key突然过期，因为重建耗时长，大量数据直接到达数据库</li></ul></li><li>解决方案<ul><li>互斥锁<ul><li>思路：给缓存重建过程加锁，一个线程在缓存重建时，其他线程等待</li><li>优点：实现简单且一致性好</li><li>缺点：性能下降且有死锁风险</li></ul></li><li>逻辑过期<ul><li>思路：<ul><li>热点key缓存永不过期，设置一个逻辑过期时间，查询数据时判断逻辑过期时间，如果过期则重建缓存</li><li>重建缓存也通过互斥锁来避免并发重建</li><li>重建缓存利用独立线程异步执行</li><li>其他线程无需等待，查询则返回旧的数据</li></ul></li><li>优点：性能好，不会阻塞线程</li><li>缺点：一致性差，且有额外内存消耗</li></ul></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 项目实战 </tag>
            
            <tag> 黑马点评 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis基础</title>
      <link href="/2025/08/25/Redis%E5%9F%BA%E7%A1%80-Redis%E5%9F%BA%E7%A1%80/"/>
      <url>/2025/08/25/Redis%E5%9F%BA%E7%A1%80-Redis%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<p>279665</p><h1 id="初识Redis"><a href="#初识Redis" class="headerlink" title="初识Redis"></a>初识Redis</h1><p>Redis是一个<code>键值型</code>的<code>NoSQL</code>数据库</p><ul><li>键值型：键值型指Redis中存储的数据都是以Key-Value键值对的形式存储，可以是字符串、数值甚至Json</li><li>NoSQL则是相对于传统关系型数据库而言，有很大差异的一种数据库</li></ul><h2 id="NoSQL数据库"><a href="#NoSQL数据库" class="headerlink" title="NoSQL数据库"></a>NoSQL数据库</h2><p><code>NoSql</code>可以翻译做Not Only Sql（不仅仅是SQL），或者是No Sql（非Sql的）数据库。是相对于传统关系型数据库而言，有很大差异的一种特殊的数据库，因此也称之为<code>非关系型数据库</code>。</p><h3 id="结构化与非结构化"><a href="#结构化与非结构化" class="headerlink" title="结构化与非结构化"></a>结构化与非结构化</h3><p>传统关系型数据库是结构化数据，创建表时有严格的约束信息，如字段名，字段类型，这些约束必须遵循。<br>而NoSQL数据库则是非结构化数据，没有严格的约束信息，可以是键值型，文档型，甚至是图格式</p><h3 id="关联与非关联"><a href="#关联与非关联" class="headerlink" title="关联与非关联"></a>关联与非关联</h3><p>传统数据库的表与表之间存在关联关系，例如外键约束，而NoSQL数据库则不存在关联关系，数据之间没有约束，维护关系要么考业务逻辑，要么靠数据之间耦合</p><h3 id="查询方式"><a href="#查询方式" class="headerlink" title="查询方式"></a>查询方式</h3><p>传统的数据库必须基于SQL语句来做查询，语法较为统一<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><br>而NoSQL数据库则没有SQL语句，查询方式根据不同的数据库而不同。<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Redis:  get user:1</span><br><span class="line">MongoDB: db.user.find(&#123;_id: 1&#125;)</span><br><span class="line">elasticsearch:  GET http://localhost:9200/users/1</span><br></pre></td></tr></table></figure></p><h3 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h3><p>传统关系型数据库能满足事务的ACID原则(原子性、一致性、独立性及持久性)<br>而非关系型数据库汪汪不支持事务，或者不能要个保证ACID的特性，只能实现基本的一致性</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><div class="table-container"><table><thead><tr><th></th><th>SQL</th><th>NoSQL</th></tr></thead><tbody><tr><td>数据结构</td><td>结构化(Structured)</td><td>非结构化</td></tr><tr><td>数据关联</td><td>关联的(Relational)</td><td>无关联的</td></tr><tr><td>查询方式</td><td>SQL查询</td><td>非SQL</td></tr><tr><td>事务特性</td><td>ACID</td><td>BASE</td></tr><tr><td>存储方式</td><td>磁盘</td><td>内存</td></tr><tr><td>扩展性</td><td>垂直</td><td>水平</td></tr></tbody></table></div><p>*存储方式</p><ul><li>关系型数据库基于<code>磁盘</code>进行存储，会有大量的磁盘IO，对性能有一定影响</li><li>非关系型数据库，操作更多的是依赖于<code>内存</code>来操作，内存的读写速度非常快，性能自然会好一些<ul><li>扩展性</li></ul></li><li>关系型数据库集群模式一般是主从，主从数据一致，起到数据备份的作用，称为<code>垂直扩展</code>。</li><li>非关系型数据库可以将数据拆分，存储在不同机器上，可以保存海量数据，解决内存大小有限的问题。称为<code>水平扩展</code>。</li><li>关系型数据库因为表之间存在关联关系，如果做水平扩展会给数据查询带来很多麻烦</li></ul><h2 id="认识Redis"><a href="#认识Redis" class="headerlink" title="认识Redis"></a>认识Redis</h2><p>Redis全称是Remote Dictionary Server远程词典服务器，是一个基于内存的键值型NoSQL数据库。<br>特点：</p><blockquote><ul><li>键值(Key-Value)型，Value支持多种不同的数据结构，功能丰富</li><li>单线程，每个命令具有原子性</li><li>低延迟，速度快(基于内存、IO多路复用、良好的编码)</li><li>支持数据持久化</li><li>支持主从集群、分片集群</li><li>支持多语言客户端</li></ul></blockquote><p><strong>Redis官网：<a href="https://redis.io/">https://redis.io/</a></strong> </p><h2 id="下载Redis"><a href="#下载Redis" class="headerlink" title="下载Redis"></a>下载Redis</h2><h3 id="检查gcc环境"><a href="#检查gcc环境" class="headerlink" title="检查gcc环境"></a>检查gcc环境</h3><p>Redis是基于C语言编写的，因此首先需要安装Redis需要gcc依赖：</p><ul><li>检查是否安装了gcc<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc --version</span><br></pre></td></tr></table></figure></li></ul><ul><li>如果未安装则需要安装gcc<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y gcc tcl</span><br></pre></td></tr></table></figure></li></ul><h3 id="下载Redis-1"><a href="#下载Redis-1" class="headerlink" title="下载Redis"></a>下载Redis</h3><ol><li>进入要安装的文件夹</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/local/src</span><br></pre></td></tr></table></figure><ol><li>下载并解压redis<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://download.redis.io/releases/redis-7.2.0.tar.gz</span><br><span class="line">tar -zxvf redis-7.2.0.tar.gz</span><br></pre></td></tr></table></figure></li><li>进入redis安装目录<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> redis-7.2.0</span><br></pre></td></tr></table></figure></li><li>编译并安装<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure></li><li>查看是否安装成功<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/local/bin</span><br><span class="line">ll</span><br></pre></td></tr></table></figure></li><li>可以在任意目录下运行redis<br>该目录已经默认配置到环境变量，因此可以在任意目录下运行这些命令。其中：</li></ol><ul><li>redis-cli：是redis提供的命令行客户端</li><li>redis-server：是redis的服务端启动脚本</li><li>redis-sentinel：是redis的哨兵启动脚本</li></ul><h2 id="启动Redis"><a href="#启动Redis" class="headerlink" title="启动Redis"></a>启动Redis</h2><p>redis的启动方式有很多种，例如：</p><ul><li>默认启动</li><li>指定配置启动</li><li>开机自启</li></ul><h3 id="默认启动"><a href="#默认启动" class="headerlink" title="默认启动"></a>默认启动</h3><p>安装完成后，在任意目录输入redis-server命令即可启动Redis：<br><div class="tabs" id="redis启动"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#redis启动-1">执行命令</button></li><li class="tab"><button type="button" data-href="#redis启动-2">启动日志</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="redis启动-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="redis启动-2"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250825183733.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><p>这种启动方式属于<code>前台启动</code>，会阻塞整个会话窗口，窗口关闭则redis也会关闭。</p><h3 id="指定配置启动"><a href="#指定配置启动" class="headerlink" title="指定配置启动"></a>指定配置启动</h3><p>如果要让Redis以后台方式启动，则必须修改Redis配置文件，就在之前解压的redis安装包下（/usr/local/src/redis-7.2.0），名字叫redis.conf：<br>先将这个配置文件备份一份：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> redis.conf redis.conf.bck</span><br></pre></td></tr></table></figure><br>然后修改redis.conf文件中的一些配置：<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 允许访问的地址，默认是127.0.0.1，会导致只能在本地访问。修改为0.0.0.0则可以在任意IP访问，生产环境不要设置为0.0.0.0</span></span><br><span class="line"><span class="attribute">bind</span> <span class="number">0.0.0.0</span></span><br><span class="line"><span class="comment"># 守护进程，修改为yes后即可后台运行</span></span><br><span class="line">daemonize <span class="literal">yes</span> </span><br><span class="line"><span class="comment"># 密码，设置后访问Redis必须输入密码</span></span><br><span class="line">requirepass <span class="number">123321</span></span><br></pre></td></tr></table></figure><br>Redis的其它常见配置：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 监听的端口</span></span><br><span class="line"><span class="attribute">port</span> <span class="number">6379</span></span><br><span class="line"><span class="comment"># 工作目录，默认是当前目录，也就是运行redis-server时的命令，日志、持久化等文件会保存在这个目录</span></span><br><span class="line"><span class="attribute">dir</span> .</span><br><span class="line"><span class="comment"># 数据库数量，设置为1，代表只使用1个库，默认有16个库，编号0~15</span></span><br><span class="line"><span class="attribute">databases</span> <span class="number">1</span></span><br><span class="line"><span class="comment"># 设置redis能够使用的最大内存</span></span><br><span class="line"><span class="attribute">maxmemory</span> <span class="number">512</span>mb</span><br><span class="line"><span class="comment"># 日志文件，默认为空，不记录日志，可以指定日志文件名</span></span><br><span class="line"><span class="attribute">logfile</span> <span class="string">&quot;redis.log&quot;</span></span><br></pre></td></tr></table></figure><div class="tabs" id="redis配置"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#redis配置-1">启动redis</button></li><li class="tab"><button type="button" data-href="#redis配置-2">查看进程</button></li><li class="tab"><button type="button" data-href="#redis配置-3">停止服务</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="redis配置-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入redis安装目录 </span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/src/redis-7.2.0</span><br><span class="line"><span class="comment"># 启动(后面指定配置文件)</span></span><br><span class="line">redis-server redis.conf</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="redis配置-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep redis</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="redis配置-3"><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 利用redis-cli来执行 shutdown 命令，即可停止 Redis 服务，</span></span><br><span class="line"><span class="comment"># 因为之前配置了密码，因此需要通过 -u 来指定密码</span></span><br><span class="line"><span class="attribute">redis</span>-cli -u <span class="number">123321</span> shutdown</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="开机自启"><a href="#开机自启" class="headerlink" title="开机自启"></a>开机自启</h3><p>我们也可以通过配置来实现开机自启。<br>PS：需要先将前面的Redis进程杀死，否则会启动失败。<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看当前进程</span></span><br><span class="line">ps -ef | <span class="keyword">grep</span> redis</span><br><span class="line"><span class="comment">#杀死某进程</span></span><br><span class="line"><span class="keyword">kill</span> -<span class="number">9</span> 进程号</span><br></pre></td></tr></table></figure><br>首先，新建一个系统服务文件<br><div class="tabs" id="开机自启"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#开机自启-1">新建文件</button></li><li class="tab"><button type="button" data-href="#开机自启-2">配置内容</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="开机自启-1"><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi <span class="regexp">/etc/</span>systemd<span class="regexp">/system/</span>redis.service</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="开机自启-2"><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=redis-server</span><br><span class="line"><span class="attr">After</span>=network.target</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">Type</span>=forking</span><br><span class="line"><span class="comment">#第一个参数为redis服务所在位置 第二个参数为redis配置文件所在位置</span></span><br><span class="line"><span class="attr">ExecStart</span>=/usr/local/bin/redis-server /usr/local/src/redis-<span class="number">6.2</span>.<span class="number">6</span>/redis.conf</span><br><span class="line"><span class="attr">PrivateTmp</span>=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><br>接着重载系统：<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">systemctl daemon-reload</span></span><br></pre></td></tr></table></figure><br>就能使用以下这组命令来操作redis了<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动redis</span></span><br><span class="line">systemctl start redis</span><br><span class="line"><span class="comment"># 停止redis</span></span><br><span class="line">systemctl stop redis</span><br><span class="line"><span class="comment"># 重启redis</span></span><br><span class="line">systemctl restart redis</span><br><span class="line"><span class="comment"># 查看redis状态</span></span><br><span class="line">systemctl status redis</span><br></pre></td></tr></table></figure><br>执行以下命令，实现开机自启<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> redis</span><br></pre></td></tr></table></figure></p><h2 id="Redis桌面客户端"><a href="#Redis桌面客户端" class="headerlink" title="Redis桌面客户端"></a>Redis桌面客户端</h2><p>安装完Redis后，我们可以使用Redis客户端来实现对数据的CRUD。<br>Redis客户端包括：</p><ul><li>命令行客户端</li><li>图形化桌面客户端</li><li>编程客户端</li></ul><h3 id="命令行客户端"><a href="#命令行客户端" class="headerlink" title="命令行客户端"></a>命令行客户端</h3><p>Redis安装完成后就自带了Redis命令行客户端，可以使用<code>redis-cli</code>命令来连接Redis服务器。<br>使用方式：redis-cli [options] [commonds]<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -h 127.0.0.1 -p 6379</span><br></pre></td></tr></table></figure><br>常见的options有：</p><ul><li>-h 127.0.0.1：指定要连接的redis节点的IP地址，默认是127.0.0.1</li><li>-p 6379：指定要连接的redis节点的端口，默认是6379</li><li>-a 123321：指定redis的访问密码    </li></ul><p>其中的commonds就是Redis的操作命令，例如：</p><ul><li>ping：与redis服务端做心跳测试，服务端正常会返回pong<br>不指定commond时，会进入redis-cli的交互控制台：</li></ul><h3 id="图形化桌面客户端"><a href="#图形化桌面客户端" class="headerlink" title="图形化桌面客户端"></a>图形化桌面客户端</h3><p>Redis官方没有提供Windows版本的图形化桌面客户端，但Github上有大神编写了Redis的Windows版本的<a href="https://github.com/uglide/RedisDesktopManager">图形化客户端</a><br>不过该仓库提供的为源码，需要自己编译。<br>在下面这个仓库可以找到安装包：<a href="https://github.com/lework/RedisDesktopManager-Windows/releases">https://github.com/lework/RedisDesktopManager-Windows/releases</a></p><p><strong>建立连接</strong><br>通过点击左上角<code>连接到Redis服务器</code>按钮，弹出连接对话框：<br>![<a href="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250825200626.png">https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250825200626.png</a>]<br>填写完基本信息后，点击<code>测试连接</code>按钮，测试连接是否成功。<br>如果<code>连接失败</code>，关闭Linux防火墙后尝试再次连接。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br></pre></td></tr></table></figure></p><h2 id="Redis的Java客户端"><a href="#Redis的Java客户端" class="headerlink" title="Redis的Java客户端"></a>Redis的Java客户端</h2><p>在Redis官网中提供了各种语言的客户端，地址：<a href="https://redis.io/docs/clients/">https://redis.io/docs/clients/</a><br><img src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250825201009.png" alt=""><br>推荐使用的Java客户端包括：</p><ul><li>Jedis和Letter：这两个主要提供了Redis命令对应的API，方便我们直接操作Redis，<code>SpringDataRedis</code>又对这两种做了抽象和封装，故后期我们使用<code>SpringDataRedis</code>来操作Redis。</li><li>Redission：在Redis基础上实现了分布式的可伸缩的java数据结构，例如Map，Queue等，而且支持跨进程的同步机制：Lock、Semaphore等来，比较适合用来实现特殊的功能需求</li></ul><h3 id="Jedis快速入门"><a href="#Jedis快速入门" class="headerlink" title="Jedis快速入门"></a>Jedis快速入门</h3><ol><li>创建项目后，引入Jedis依赖<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--jedis--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--单元测试--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>建立连接<br>新建单元测试类，在测试类运行前连接jedis<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Jedis jedis;</span><br><span class="line"></span><br><span class="line"><span class="meta">@BeforeEach</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1.建立连接</span></span><br><span class="line">    <span class="comment">// jedis = new Jedis(&quot;192.168.150.101&quot;, 6379);</span></span><br><span class="line">    jedis = JedisConnectionFactory.getJedis();</span><br><span class="line">    <span class="comment">// 2.设置密码</span></span><br><span class="line">    jedis.auth(<span class="string">&quot;123321&quot;</span>);</span><br><span class="line">    <span class="comment">// 3.选择库</span></span><br><span class="line">    jedis.select(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>测试连接</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testString</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 存入数据</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> jedis.set(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;虎哥&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;result = &quot;</span> + result);</span><br><span class="line">    <span class="comment">// 获取数据</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> jedis.get(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;name = &quot;</span> + name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testHash</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 插入hash数据</span></span><br><span class="line">    jedis.hset(<span class="string">&quot;user:1&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;Jack&quot;</span>);</span><br><span class="line">    jedis.hset(<span class="string">&quot;user:1&quot;</span>, <span class="string">&quot;age&quot;</span>, <span class="string">&quot;21&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取</span></span><br><span class="line">    Map&lt;String, String&gt; map = jedis.hgetAll(<span class="string">&quot;user:1&quot;</span>);</span><br><span class="line">    System.out.println(map);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>关闭连接</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@AfterEach</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">tearDown</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (jedis != <span class="literal">null</span>) &#123;</span><br><span class="line">        jedis.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p><strong>连接池</strong><br>Jedis本身是线程不安全的，并且频繁的创建和销毁连接会有性能损耗，因此我们推荐大家使用Jedis连接池代替Jedis的直连方式。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JedisConnectionFactory</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> JedisPool jedisPool;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">// 配置连接池</span></span><br><span class="line">        <span class="type">JedisPoolConfig</span> <span class="variable">poolConfig</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JedisPoolConfig</span>();</span><br><span class="line">        poolConfig.setMaxTotal(<span class="number">8</span>);</span><br><span class="line">        poolConfig.setMaxIdle(<span class="number">8</span>);</span><br><span class="line">        poolConfig.setMinIdle(<span class="number">0</span>);</span><br><span class="line">        poolConfig.setMaxWaitMillis(<span class="number">1000</span>);</span><br><span class="line">        <span class="comment">// 创建连接池对象，参数：连接池配置、服务端ip、服务端端口、超时时间、密码</span></span><br><span class="line">        jedisPool = <span class="keyword">new</span> <span class="title class_">JedisPool</span>(poolConfig, <span class="string">&quot;192.168.150.101&quot;</span>, <span class="number">6379</span>, <span class="number">1000</span>, <span class="string">&quot;123321&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Jedis <span class="title function_">getJedis</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> jedisPool.getResource();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="SpringDataRedis快速入门"><a href="#SpringDataRedis快速入门" class="headerlink" title="SpringDataRedis快速入门"></a>SpringDataRedis快速入门</h3><p>SpringData是Spring中<code>数据操作</code>的模块，包含对各种数据库的集成，其中对<code>Redis的集成模块</code>就叫做SpringDataRedis，<a href="https://spring.io/projects/spring-data-redis">官网</a></p><blockquote><ul><li>提供了对不同Redis客户端的整合（Lettuce和Jedis）<ul><li>提供了RedisTemplate统一API来操作Redis</li><li>支持Redis的发布订阅模型</li><li>支持Redis哨兵和Redis集群</li><li>支持基于Lettuce的响应式编程</li><li>支持基于JDK、JSON、字符串、Spring对象的数据序列化及反序列化</li><li>支持基于Redis的JDKCollection实现</li></ul></li></ul></blockquote><p>SpringDataRedis中提供了RedisTemplate工具类，其中封装了各种对Redis的操作。并且将不同数据类型的操作API封装到了不同的类型中：<br><img src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250825202256.png" alt=""></p><p>SpringBoot已经提供了对SpringDataRedis的支持，使用非常简单。<br>首先，新建一个maven项目，然后按照下面步骤执行：</p><ol><li>引入依赖<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.heima<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>redis-demo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>redis-demo<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Boot<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--redis依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--common-pool--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-pool2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Jackson依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Lombok依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Springboot起步依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclude</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>配置Redis连接信息<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="number">192.168</span><span class="number">.150</span><span class="number">.101</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123321</span></span><br><span class="line">    <span class="attr">lettuce:</span></span><br><span class="line">      <span class="attr">pool:</span></span><br><span class="line">        <span class="attr">max-active:</span> <span class="number">8</span></span><br><span class="line">        <span class="attr">max-idle:</span> <span class="number">8</span></span><br><span class="line">        <span class="attr">min-idle:</span> <span class="number">0</span></span><br><span class="line">        <span class="attr">max-wait:</span> <span class="string">100ms</span></span><br></pre></td></tr></table></figure></li><li>注入RedisTemplate<br>因为使用的是SpringBoot，所以直接自动装配注入就好了<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RedisDemoApplicationTests</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>测试<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RedisStringTests</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate edisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 写入一条String数据</span></span><br><span class="line">        redisTemplate.opsForValue().set(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;虎哥&quot;</span>);</span><br><span class="line">        <span class="comment">// 获取string数据</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">name</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;name = &quot;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="Redis入门"><a href="#Redis入门" class="headerlink" title="Redis入门"></a>Redis入门</h1><p>Redis是典型的key-value数据库，其中key是字符串类型，value可以是多种不同的数据类型</p><h2 id="Redis通用命令"><a href="#Redis通用命令" class="headerlink" title="Redis通用命令"></a>Redis通用命令</h2><p>通用命令有以下几个</p><div class="table-container"><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>KEYs pattern</td><td>查找所有符合给定模式(pattern)的key</td></tr><tr><td>EXISTs key</td><td>检查给定key是否存在</td></tr><tr><td>TYPE key</td><td>返回key所储存的值的类型</td></tr><tr><td>TTL key</td><td>返回给定key的剩余生存时间(TTL, time to live),以秒为单位</td></tr><tr><td>DEL key</td><td>该命令用于key存在时删除key</td></tr></tbody></table></div><ul><li><p><code>KEYS</code>：查看符合模板的所有key</p><ul><li>不建议在生产环境设备上使用，因为Redis是单线程的，执行查询的*时候会阻塞其他命令，当数据量很大的时候，使用KEYS进行模糊查询，效率很差</li></ul></li><li><p><code>DEL</code>：删除一个指定的key</p><ul><li>也可以删除多个key，DEL name age，会将name和age都删掉</li></ul></li><li><code>EXISTS</code>：判断key是否存在<ul><li>EXISTS name，如果存在返回1，不存在返回0</li></ul></li><li><code>EXPIRE</code>：给一个key设置有效期，有效期到期时该key会被自动删除<ul><li>EXPIRE name 20，给name设置20秒有效期，到期自动删除</li></ul></li><li><code>TTL</code>：查看一个key的剩余有效期(Time-To-Live)<ul><li>TTL name，查看name的剩余有效期，如果未设置有效期，则返回-1</li></ul></li></ul><h2 id="String类型"><a href="#String类型" class="headerlink" title="String类型"></a>String类型</h2><p>String类型，也就是字符串类型，是Redis中最简单的存储类型,value是字符串类型，根据字符串格式不同，又可以分为三种</p><ul><li>string: 普通字符串</li><li>int:    整数</li><li>float:  浮点数</li></ul><p>不管是哪种格式，底层都是字节数组形式存储，只不过是编码方式不同，字符串类型的最大空间不能超过512M</p><h3 id="String的常用命令"><a href="#String的常用命令" class="headerlink" title="String的常用命令"></a>String的常用命令</h3><!-- String的常用命令有以下几个| 命令           | 描述                                                         || -------------- | ------------------------------------------------------------ || SET            | 添加或者修改一个已经存在的String类型的键值对                  || GET            | 根据key获取String类型的value                                 || MSET           | 批量添加多个String类型的键值对                                || MGET           | 根据多个key获取多个String类型的value                         || INCR           | 让一个整形的key自增1                                         || INCRBY         | 让一个整形的key自增并指定步长值，例如：incrby num 2，让num值自增2 || INCRBYFLOAT    | 让一个浮点类型的数字自增并指定步长值                         || SETNX          | 添加一个String类型的键值对，前提是这个key不存在，否则不执行，可以理解为真正的新增 || SETEX          | 添加一个String类型的键值对，并指定有效期                       | --><div class="tabs" id="string"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#string-1">set</button></li><li class="tab"><button type="button" data-href="#string-2">mset与msetnx</button></li><li class="tab"><button type="button" data-href="#string-3">mget</button></li><li class="tab"><button type="button" data-href="#string-4">incrby与decrby</button></li><li class="tab"><button type="button" data-href="#string-5">incrbyfloat</button></li><li class="tab"><button type="button" data-href="#string-6">strlen</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="string-1"><blockquote><ul><li>格式：SET key value [EX seconds | PX milliseconds] [NX|XX]</li><li>功能：SET 除了可以直接将 key 的值设为 value 外，还可以指定一些参数。<ul><li>EX seconds：为当前 key 设置过期时间，单位秒。等价于 SETEX 命令。 </li><li>PX milliseconds：为当前 key 设置过期时间，单位毫秒。等价于 PSETEX 命令。 </li><li>NX：指定的 key 不存在才会设置成功，用于添加指定的 key。等价于 SETNX 命令。 </li><li>XX：指定的 key 必须存在才会设置成功，用于更新指定 key 的 value。</li></ul></li><li>说明：如果 value 字符串中带有空格，则该字符串需要使用双引号或单引号引起来，否 则会认为 set 命令的参数数量不正确，报错。</li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="string-2"><blockquote><ul><li>格式：MSET/MSETNX key value [key value …] </li><li>功能：同时设置一个或多个 key-value 对。 </li><li>说明：如果某个给定 key 已经存在，那么<code>MSET</code> 会用新值<code>覆盖</code>原来的旧值，如果这不是你所希望的效果，请考虑使用<code>MSETNX</code>命令：它只会在所有给定 key 都<code>不存在</code>的情况下进行设置操作。MSET/MSETNX 是一个原子性(atomic)操作，所有给定 key 都会在同一时间内被设置，某些给定 key 被更新而另一些给定 key 没有改变的情况不可能发生。<code>该命令永不失败</code></li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="string-3"><blockquote><ul><li>格式：MGET key [key …] </li><li>功能：返回<code>所有</code>(一个或多个)给定 key 的值。 </li><li>说明：如果给定的 key 里面，有某个 key 不存在，那么这个 key 返回特殊值 nil 。 因此，该命令永不失败。</li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="string-4"><blockquote><ul><li>格式：INCRBY key increment 或 DECRBY key decrement </li><li>功能：将 key 中存储的数字值增加/减少指定的数值，这个数值<code>只能是整数</code>，可以是负数，但不能是小数。 </li><li>说明：如果 key 不存在，那么 key 的值会先被初始化为 0，然后再执行增/减操作。如果值不能表示为数字，那么返回一个错误提示。如果执行正确，则返回增/减后的值。</li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="string-5"><blockquote><ul><li>格式：INCRBYFLOAT key increment </li><li>功能：为 key 中所储存的值加上<code>浮点数</code>增量 increment 。 </li><li>说明：与之前的说明相同。没有 decrbyfloat 命令，但 increment 为负数可以实现减操作效果。</li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="string-6"><blockquote><ul><li>格式：STRLEN key</li><li>功能：返回 key 所储存的字符串值的长度。</li><li>说明：当 key 储存的不是字符串值时，返回一个错误。</li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="String类型典型场景"><a href="#String类型典型场景" class="headerlink" title="String类型典型场景"></a>String类型典型场景</h3><p>Value 为 String 类型的应用场景很多，这里仅举这种典型应用场景的例子：<br>（1） <code>数据缓存</code><br>Redis 作为数据缓存层，MySQL 作为数据存储层。应用服务器首先从 Redis 中获取数据,如果缓存层中没有，则从 MySQL 中获取后先存入缓存层再返回给应用服务器。<br>（2） <code>计数器</code><br>在 Redis 中写入一个 value 为数值型的 key 作为<code>平台计数器</code>、<code>视频播放计数器</code>等。每个有效客户端访问一次，或视频每播放一次，都是直接修改 Redis 中的计数器，然后再以异步方式持久化到其它数据源中，例如持久化到 MySQL。<br>（3） <code>共享 Session</code><br>对于一个分布式应用系统，如果将类似用户登录信息这样的<code>Session</code> 数据保存在提供登录服务的服务器中，那么如果用户再次提交像收藏、支付等请求时可能会出现问题：在提供收藏、支付等服务的服务器中并没有该用户的 Session 数据，从而导致该用户需要重新登录。<br>此时，可以将系统中所有用户的 Session 数据全部保存到 Redis 中，用户在提交新的请求后，系统先从 Redis 中查找相应的 Session 数据，如果存在，则再进行相关操作，否则跳转到登录页面。这样就不会引发“重新登录”问题。<br>（4） <code>限速器</code><br>现在很多平台为了防止 DoS（Denial of Service，拒绝服务）攻击，一般都会限制一个 IP 的访问次数，如不能在一秒内访问超过 n 次。而 Redis 可以结合 key 的过期时间与 incr 命令来完成限速<br>功能，充当限速器。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 客户端每提交一次请求，都会执行下面的代码</span></span><br><span class="line"><span class="comment">// 等价于 set 192.168.192.55 1 ex 60 nx</span></span><br><span class="line"><span class="comment">// 指定新 ip 作为 key 的缓存过期时间为 60 秒</span></span><br><span class="line"><span class="type">Boolean</span> <span class="variable">isExists</span> <span class="operator">=</span> redis.set(ip, <span class="number">1</span>, “EX <span class="number">60</span>”, “NX”);</span><br><span class="line"><span class="keyword">if</span>(isExists != <span class="literal">null</span> || redis.incr(ip) &lt;= <span class="number">5</span>) &#123;</span><br><span class="line">    <span class="comment">// 通过</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 限流</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="Hash型Value操作"><a href="#Hash型Value操作" class="headerlink" title="Hash型Value操作"></a>Hash型Value操作</h2><p>Redis 存储数据的 Value 可以是一个<code>Hash</code>类型。Hash 类型也称为 <code>Hash 表</code>、<code>字典</code>等。<br>Hash 表就是一个映射表 Map，也是由键-值对构成，为了与整体的 key 进行区分，这里的键称为 field，值称为 value。注意，Redis 的 Hash 表中的 field-value 对均为 String 类型。</p><ul><li>Hash结构可以将对象中的每个字段独立存储，可以针对单个字段做CRUD操作。</li></ul><h3 id="Hash常用命令"><a href="#Hash常用命令" class="headerlink" title="Hash常用命令"></a>Hash常用命令</h3><div class="table-container"><table><thead><tr><th style="text-align:center">命令</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">HSET key field value</td><td style="text-align:center">添加或者修改hash类型key的field的值</td></tr><tr><td style="text-align:center">HGET key field</td><td style="text-align:center">获取一个hash类型key的field的值</td></tr><tr><td style="text-align:center">HMSET</td><td style="text-align:center">批量添加多个hash类型key的field的值</td></tr><tr><td style="text-align:center">HMGET</td><td style="text-align:center">批量获取多个hash类型key的field的值</td></tr><tr><td style="text-align:center">HGETALL</td><td style="text-align:center">获取一个hash类型的key中的所有的field和value</td></tr><tr><td style="text-align:center">HKEYS</td><td style="text-align:center">获取一个hash类型的key中的所有的field</td></tr><tr><td style="text-align:center">HINCRBY</td><td style="text-align:center">让一个hash类型key的字段值自增并指定步长</td></tr><tr><td style="text-align:center">HSETNX</td><td style="text-align:center">添加一个hash类型的key的field值，前提是这个field不存在，否则不执行</td></tr></tbody></table></div><div class="tabs" id="hash"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#hash-1">hset</button></li><li class="tab"><button type="button" data-href="#hash-2">hget</button></li><li class="tab"><button type="button" data-href="#hash-3">hmset</button></li><li class="tab"><button type="button" data-href="#hash-4">hmget</button></li><li class="tab"><button type="button" data-href="#hash-5">hgetall</button></li><li class="tab"><button type="button" data-href="#hash-6">hsetnx</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="hash-1"><blockquote><ul><li>格式：HSET key field value <ul><li>功能：将哈希表 key 中的域 field 的值设为 value 。 </li><li>说明：如果 key 不存在，一个新的哈希表被创建并进行 HSET 操作。如果域 field 已经存在于哈希表中，旧值将被<code>覆盖</code>。如果 field 是哈希表中的一个新建域，并且值设置成功，返回 1 。如果哈希表中域 field 已经存在且旧值已被新值覆盖，返回 0 。</li></ul></li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="hash-2"><blockquote><ul><li>格式：HGET key field </li><li>功能：返回哈希表 key 中给定域 field 的值。 </li><li>说明：当给定域不存在或是给定 key 不存在时，返回 nil 。</li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="hash-3"><blockquote><ul><li>格式：HMSET key field value [field value …] </li><li>功能：同时将多个 field-value (域-值)对设置到哈希表 key 中。 </li><li>说明：此命令会<code>覆盖</code>哈希表 key 中已存在的域。如果 key 不存在，一个空哈希表被创建并执行 HMSET 操作。</li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="hash-4"><blockquote><ul><li>格式：HMGET key field [field …] </li><li>功能：按照给出顺序返回哈希表 key 中，一个或多个给定域的值。 </li><li>说明：如果给定的域不存在或是给定 key 不存在，那么返回一个 nil 值。</li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="hash-5"><blockquote><ul><li>格式：HGETALL key </li><li>功能：返回哈希表 key 中，所有的域和值。 </li><li>说明：在返回值里，紧跟每个域名(field name)之后是域的值(value)，所以返回值的长度是哈希表大小的两倍。</li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="hash-6"><blockquote><ul><li>格式：HSETNX key field value </li><li>功能：将哈希表 key 中的域 field 的值设为 value ，当且仅当域 field 不存在。 </li><li>说明：若域 field 已经存在，该操作无效。如果 key 不存在，一个新哈希表被创建并执行 HSETNX 命令。</li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="tabs" id="hash1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#hash1-1">hdel</button></li><li class="tab"><button type="button" data-href="#hash1-2">hexists</button></li><li class="tab"><button type="button" data-href="#hash1-3">hincrby与hincrbyfloat</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="hash1-1"><blockquote><ul><li>格式：HDEL key field [field …] </li><li>功能：删除哈希表 key 中的一个或多个指定域，不存在的域将被忽略。 </li><li>说明：返回被成功删除的域的数量，不包括被忽略的域。</li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="hash1-2"><blockquote><ul><li>格式：HEXISTS key field </li><li>功能：查看哈希表 key 中，给定域 field 是否存在。 </li><li>说明：返回 1 表示存在，返回 0 表示不存在。</li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="hash1-3"><blockquote><ul><li>格式：HINCRBY key field increment </li><li>功能：为哈希表 key 中的域 field 的值加上<code>增量 increment</code>,hincrby 命令只能增加整数值，而 hincrbyfloat 可以增加小数值。 。 </li><li>说明：增量也可以为<code>负数</code>，相当于对给定域进行减法操作。如果 key 不存在，一个新的哈希表被创建并执行 HINCRBY 命令。如果域 field 不存在，那么在执行命令前，域的值被初始化为 0 。</li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><p>Hash 型 Value 非常适合<code>存储对象数据</code>。key 为对象名称，value 为描述对象属性的 Map，<br>对对象属性的修改在 Redis 中就可直接完成。其不像 String 型 Value 存储对象，那个对象是<code>序列化</code>过的，例如序列化为<code>JSON</code> 串，对对象属性值的修改需要先反序列化为对象后再修改，<br>修改后再序列化为 JSON 串后写入到 Redis。</p><h2 id="List类型"><a href="#List类型" class="headerlink" title="List类型"></a>List类型</h2><p>Redis中的List类型与Java中的LinkedList类似，可以看做是一个双向链表结构。既可以支持正向检索和也可以支持反向检索。<br>特征也与LinkedList类似：</p><ul><li>有序</li><li>元素可以重复</li><li>插入和删除快</li><li>查询速度一般</li></ul><p>常用来存储一个有序数据，例如：朋友圈点赞列表，评论列表等。</p><h3 id="List的常见命令"><a href="#List的常见命令" class="headerlink" title="List的常见命令"></a>List的常见命令</h3><div class="table-container"><table><thead><tr><th style="text-align:center">命令</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">LPUSH key element …</td><td style="text-align:center">向列表左侧插入一个或多个元素</td></tr><tr><td style="text-align:center">LPOP key</td><td style="text-align:center">移除并返回列表左侧的第一个元素，没有则返回nil</td></tr><tr><td style="text-align:center">RPUSH key element …</td><td style="text-align:center">向列表右侧插入一个或多个元素</td></tr><tr><td style="text-align:center">RPOP key</td><td style="text-align:center">移除并返回列表右侧的第一个元素</td></tr><tr><td style="text-align:center">LRANGE key star end</td><td style="text-align:center">返回一段角标范围内的所有元素</td></tr><tr><td style="text-align:center">BLPOP和BRPOP</td><td style="text-align:center">与LPOP和RPOP类似，只不过在没有元素时等待指定时间，而不是直接返回nil</td></tr></tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux基础命令</title>
      <link href="/2025/08/23/linux-linux/"/>
      <url>/2025/08/23/linux-linux/</url>
      
        <content type="html"><![CDATA[<h1 id="Linux安装"><a href="#Linux安装" class="headerlink" title="Linux安装"></a>Linux安装</h1><p>关于安装步骤此处不过多介绍了，我安装的<code>CentOS 9</code></p><h2 id="登录Xshell"><a href="#登录Xshell" class="headerlink" title="登录Xshell"></a>登录Xshell</h2><p>先将虚拟机的<code>IPV4方式</code>改为自动，防止每次地址都会变化<br><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">地址：<span class="number">192.168.6.101</span>（后两位可以自己设置）</span><br><span class="line">子网掩码：<span class="number">255.255.255.0</span></span><br><span class="line">网关：<span class="number">192.168.6.2</span></span><br><span class="line">DNS服务器：<span class="number">192.168.6.2</span>（与网关相同）</span><br></pre></td></tr></table></figure></p><p>之后登录Xshell新建一个会话<br><div class="tabs" id="test01"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test01-1">连接</button></li><li class="tab"><button type="button" data-href="#test01-2">身份验证</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test01-1"><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">名称：自己根据喜好命名</span><br><span class="line">主机：虚拟机的<span class="built_in">IP</span>，我是<span class="number">192</span>.<span class="number">168</span>.<span class="number">6</span>.<span class="number">101</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test01-2"><p>用户名与密码指的是Linux的账号密码,需根据实际修改</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250823174523.png"/></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><h1 id="磁盘管理"><a href="#磁盘管理" class="headerlink" title="磁盘管理"></a>磁盘管理</h1><p><strong>Linux和windows在资源管理上有什么区别？</strong></p><ul><li>window<ul><li>文件分别存储在不同磁盘下，如C盘，D盘。不同磁盘有不同的目录以及子文件。</li></ul></li><li>Linux<ul><li>Linux操作系统采用一个文档树来组织所有的资源。</li><li>这棵树的根目录的名字叫做：/</li><li>/ 目录下又有很多其他的子目录，比如：dev home lib …..</li></ul></li></ul><h3 id="查看当前所在位置"><a href="#查看当前所在位置" class="headerlink" title="查看当前所在位置"></a>查看当前所在位置</h3><ul><li>pwd (print working direction)</li></ul><h3 id="查看当前所在的位置下的文件"><a href="#查看当前所在的位置下的文件" class="headerlink" title="查看当前所在的位置下的文件"></a>查看当前所在的位置下的文件</h3><ul><li>ls<br>list单词的缩写。ls可以列出当前所在位置下的子目录以及子文件<br>注意：这种方式只列出文件或目录的名字。文件或目录更详细的信息没有。</li><li>ls -a </li></ul><ul><li>-a 是一个ls命令的参数，表示all，所有的意思。</li><li>-a 会将当前位置下所有的子文件以及子目录显示出来。包括隐藏文件以及隐藏目录。</li><li>注意：在linux操作系统当中凡是目录或者文件的名字是以“.”开头的，它一定是隐藏的。</li></ul><ul><li>ls -l<br><strong>-l 参数可以列出该文件或目录的更详细的信息（不会显示隐藏文件）</strong><blockquote><p>drwxr-xr-x. 2 root root  6  4月 18 10:26 公共<br>……<br>drwxr-xr-x. 2 root root  6  4月 18 10:26 桌面<br>-rw———-. 1 root root 993  4月 18 10:23 anaconda-ks.cfg</p></blockquote></li></ul><details class="folding-tag" yellow><summary> 每列的含义 </summary>              <div class='content'>              <ul><li>第一列：d或- <ul><li>d 表示是一个目录。</li><li>-表示是一个文件。</li></ul></li><li>第二列：rwxr-xr-x <ul><li>这个是该文件权限描述信息。</li></ul></li><li>第三列：2 <ul><li>表示当前目录下有几个直接的子目录（注意：有两个隐藏的目录，分别是：. 和 ..）</li></ul></li><li>第四列：root <ul><li>这是该目录或文件的拥有者。</li></ul></li><li>第五列：root <ul><li>这是一个组的名字</li><li>表示这个组叫做root组。</li><li>root用户属于root组的。</li><li>假设：drwxr-xr-x. 2 bjpowernode haha  6  4月 18 10:26 公共。表示bjpowernode用户属于haha组的。</li></ul></li><li>第六列：文件或目录的大小，单位是字节。</li><li>第七列：最后修改时间</li><li>第八列：文件名</li></ul>              </div>            </details><ul><li>ls -al <ul><li>a和l组合使用</li><li>al表示列出所有的文件的详细信息。</li></ul></li></ul><ul><li><strong>ll</strong><ul><li>等同于：ls -l</li></ul></li><li>ll -a<ul><li>等同于：ls -al</li></ul></li><li><p>ls -al /home/bjpowernode </p><ul><li>查看/home/bjpowernode目录下所有的子文件以及子目录的详细信息。</li></ul></li><li><p>切换目录（cd命令：change directory） </p><ul><li>cd 路径名</li><li>cd .. 回到上级目录</li><li>cd ../.. 回到上级目录的上级目录</li><li>cd / 回到根</li><li>cd /home/bjpowernode 切换到 /home/bjpowernode目录下</li><li>路径包括：绝对路径和相对路径 <ul><li>绝对路径：以/开始的都是绝对路径</li><li>相对路径：没有以 / 开始的都是相对路径。相对路径永远都是相对于当前所在的位置而言。</li></ul></li></ul></li><li><p><strong>clear 清屏</strong></p><h1 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h1><div class="img-wrap"><div class="img-bg"><img class="img" src="https://raw.githubusercontent.com/silvan2077/markdown_pic/main/Picgo/20250825170745.png,width=400px"/></div></div></li></ul><p><strong>/bin:</strong><br>bin是binaries(二进制)的缩写，这个目录存放着系统的<code>基本命令</code>。</p><p><strong>/boot:</strong><br>这里存放的是启动Linux时的一些<code>核心文件</code>，包括一些连接文件以及镜像文件</p><p><strong>/dev:</strong><br>dev是device的缩写，这个目录下存放的是Linux的<code>外部设备</code>文件，在Linux中访问设备的方式和访问文件的方式是相同的。</p><p><strong>/etc:</strong><br>etc是etcetera的缩写，这个目录存放的是系统的<code>配置文件</code>和<code>子目录</code>。</p><p><strong>/lib:</strong><br>lib是library的缩写，这个目录存放的是系统的<code>动态连接共享库</code>，作用类似于Windows里的DLL文件。几乎所以应用程序都会用到这些共享库</p><p><strong>/media:</strong><br>media是media的缩写，Linux系统会自动识别一些外部设备，例如U盘，光驱等等，这些设备会被<code>挂载</code>到/media目录下。</p><p><strong>/mnt:</strong><br>mnt是mount的缩写，作用是让用户<code>临时挂载</code>别的文件系统，我们可以将光驱挂载在/mnt/上，然后进入该目录就能看到光驱里的内容了<br><strong>/opt:</strong><br>opt是optional（可选的）的缩写，这是给主机<code>额外安装软件</code>所摆放的目录。比如安装oracle数据库就可以放到这个目录。</p><p><strong>/proc:</strong><br>proc是process（进程）的缩写，这是一种<code>伪文件系统</code>（也就是虚拟文件系统），存储的是当前内核运行状态的一系列特殊文件，这个目录是一个虚拟的目录，是系统文件的映射，我们可以通过直接访问这个目录来获取系统信息。<br>这个目录的内容不在<code>硬盘</code>上而是在<code>内存</code>里，我们可以直接修改里面某些文件，比如通过下面的命令来拼比主机ping命令，使别人无法ping你的机器<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/net/ipv4/icmp_echo_ignore_all</span><br></pre></td></tr></table></figure><br><strong>/root:</strong><br>root是root的缩写，这个目录存放的是<code>root用户</code>的主目录。</p><p><strong>/sbin:</strong><br>sbin是super user binaries（超级用户二进制文件）的缩写，这个目录存放的是系统管理员使用的系统管理程序。</p><p><strong>/srv:</strong><br>srv是service的缩写，这个目录存放的是<code>服务</code>的数据。</p><p><strong>/sys:</strong><br>sys是system的缩写，这个目录存放的是系统的设备信息。<br>该目录下安装了2.6内核中新出现的一个文件系统 sysfs。sysfs文件系统集成了下面3种文件系统的信息:针对进程信息的<code>proc文件系统</code>、针对设备的<code>devfs文件系统</code>以及针对伪终端的 <code>devpts 文件系统</code>。<br>该文件系统是内核设备树的一个直观反映。<br>当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中被创建。</p><p><strong>/tmp:</strong><br>tmp是temporary的缩写，这个目录存放的是临时文件。</p><p><strong>/usr:</strong><br>usr是user的缩写，这个目录存放的是用户的主目录。类似windows下的<code>program files</code>目录。<br><strong>/usr/bin:</strong><br>usr/bin是user binaries的缩写，这个目录存放的是用户的<code>二进制文件</code>。</p><p><strong>/usr/src:</strong><br>内核源文件默认的放置目录</p><p><strong>/var:</strong><br>var是variable的缩写，这个目录存放的是变量。通常将经常被修改的目录放在这个目录下。包括各种日志文件。</p><h1 id="vi和vim"><a href="#vi和vim" class="headerlink" title="vi和vim"></a>vi和vim</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>  vi是Linux操作系统提供的一个编辑器，vim是vi的升级版</p><ul><li>vim更加适合coding，也就是编码，开发。</li><li>vi比较适合编辑普通文件。</li></ul><h2 id="vi编辑器使用"><a href="#vi编辑器使用" class="headerlink" title="vi编辑器使用"></a>vi编辑器使用</h2><ul><li><strong>新建文件</strong><ul><li>touch hello.java 表示在当前位置创建一个hello.java的文件</li></ul></li><li><strong>打开文件</strong><ul><li>vi hello.java（打开当前路径下的Hello.java）</li><li>vi /home/bjpowernode/Hello.java（打开/home/bjpowernode目录下的Hello.java文件。）</li></ul></li><li><strong>两个模式</strong><blockquote><ul><li><span class='p red'>命令模式</span>：vi进入命令模式后，会显示一个&gt;号，表示当前是命令模式。</li><li><span class='p green'>编辑模式</span>：在命令模式下输入i命令，就可以切换到编辑模式。</li><li>从编辑模式切换到命令模式：按一下esc键即可。（ 如果分不清现在是编辑模式还是命令模式的话，干脆按一下esc，这样可以保证一定是命令模式，命令模式下可以输入命令。例如：dd命令，可以删除一行。）</li></ul></blockquote></li><li><strong>退出文件</strong><blockquote><p><strong>保存只有在命令模式下进行</strong></p><ul><li>:wq  这是一个命令，这个命令可以保存并退出。</li><li>:q!  这是一个命令，这个命令可以不保存并退出。</li></ul></blockquote></li><li>也可以使用vi编辑器来创建文件<ul><li>第一步：vi abc.txt</li><li>第二步：在命令行模式下保存并退出，此时文件便会新建</li></ul></li><li><strong>编辑命令</strong><ul><li>dd：删除光标所在行</li><li>yy：复制光标所在行到缓冲区</li><li>p：粘贴缓冲区中的内容</li><li>gg：光标回到文件第一行</li><li>G：光标回到文件最后一行</li><li>^ ：光标移动至当前行的行首</li><li>$ ：光标移动至当前行的行尾</li><li>/关键字：按斜杠/键，可以输入想搜索的字符，然后确定进行搜索，如果第一次查找的关键字不是想要的，可以一直按 n 键往后查找到想要的关键字为止   </li><li>o命令：在下一行插入。 </li><li>x命令：命令行模式下，x命令会删除单个字符。</li></ul></li></ul><h1 id="文件管理"><a href="#文件管理" class="headerlink" title="文件管理"></a>文件管理</h1><p>什么是文件管理？</p><ul><li>新建目录，新建文件，删除文件，删除目录，复制文件，移动文件，重命名文件</li></ul><h2 id="新建"><a href="#新建" class="headerlink" title="新建"></a>新建</h2><ul><li>新建目录<ul><li>mkdir abc   (mkdir是新建目录的命令，abc是目录名)</li><li>mkdir -p a/b/c (-p为创建多级目录)</li></ul></li><li>新建文件<ul><li>touch abc.txt (touch是新建文件的命令，abc.txt是文件名)</li><li>touch a.txt,b.txt,c.txt (一次性创建a.txt,b.txt,c.txt三个文件)</li></ul></li></ul><h2 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h2><p>rm命令，rm是remove单词的缩写</p><ul><li>删除文件<ul><li>rm 文件名 ——这种方式会询问是否删除，输入y表示删除，输入n表示取消<ul><li>rm abc.txt </li><li>rm a.txt,b.txt,c.txt (一次性删除a.txt,b.txt,c.txt三个文件)</li></ul></li><li>不想询问，有没有办法强制删除？<ul><li>rm -f 文件名</li><li>rm -f *.java (一次性删除当前目录下所有java文件)</li></ul></li></ul></li><li>删除目录<ul><li>删除目录时必须添加-r参数，表示删除一个目录，或者递归删除目录下所有子目录及子文件</li><li>rm -r a/b/c (删除a/b/c目录,这种方式依旧需要用户再次确认)</li><li>rm -rf a/b/c (强制删除a/b/c目录,这种方式不需要用户再次确认)</li></ul></li></ul><h2 id="复制"><a href="#复制" class="headerlink" title="复制"></a>复制</h2><ul><li>复制文件<ul><li>cp a.txt b.txt  —— 复制当前目录下的a.txt文件到当前目录下的b.txt文件</li><li>cp a.txt /home/bjpowernode/ (复制a.txt文件到/home/bjpowernode目录下)</li></ul></li><li>复制目录<ul><li>-r 参数表示递归复制  -f 参数表示强制复制</li><li>cp -r a/b/c /home/bjpowernode/ (复制a/b/c目录到/home/bjpowernode目录下)</li><li>cp -rf a/b/c /home/bjpowernode/ (递归强制复制a/b/c目录到/home/bjpowernode目录下)</li></ul></li></ul><h2 id="移动"><a href="#移动" class="headerlink" title="移动"></a>移动</h2><ul><li>mv hello.txt x(把当前目录下的hello.txt文件移动到x目录下)</li><li>mv /home/bjpowernode/hello.txt a/b/c/ (把/home/bjpowernode/hello.txt文件移动到a/b/c目录下)</li><li>mv a/b/c /home/bjpowernode/ (把a/b/c目录移动到/home/bjpowernode目录下)</li></ul><h2 id="帮助查询"><a href="#帮助查询" class="headerlink" title="帮助查询"></a>帮助查询</h2><ul><li><code>man命令</code> ：查看帮助<ul><li>man ls 查看ls命令的帮助</li><li>man touch 查看touch命令的帮助</li></ul></li><li>man命令会跳转到一个文件里，里面有命令的详细帮助信息<ul><li>按一下空格键可以向下翻页</li><li>按一下b键可以向上翻页</li><li>按一下q键可以退出</li></ul></li><li><code>--help</code> : 帮助查询<ul><li>ls —help 查看ls命令的帮助</li><li>touch —help 查看touch命令的帮助</li></ul></li><li>—help会直接把命令的帮助信息打印在屏幕上</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">用法：mkdir [选项]... 目录...</span><br><span class="line">若指定&lt;目录&gt;不存在则创建目录。</span><br><span class="line"></span><br><span class="line">必选参数对长短选项同时适用。</span><br><span class="line">  -m, --mode=模式   设置权限模式（类似chmod），而不是 a=rwx 减 umask</span><br><span class="line">  -p, --parents     需要时创建目标目录的上层目录，但即使这些目录已存在</span><br><span class="line">                      也不当作错误处理</span><br><span class="line">  -v, --verbose     每次创建新目录都显示信息</span><br><span class="line">  -Z                   设置每个创建的目录的 SELinux 安全上下文为默认类型</span><br><span class="line">      --context[=CTX]  类似 -Z，或如果指定了 CTX，则将 SELinux 或 SMACK 安全</span><br><span class="line">                         上下文设置为 CTX 对应的值</span><br><span class="line">      --help显示此帮助信息并退出</span><br><span class="line">      --version显示版本信息并退出</span><br><span class="line"></span><br><span class="line">GNU coreutils 在线帮助：&lt;https://www.gnu.org/software/coreutils/&gt;</span><br><span class="line">请向 &lt;http://translationproject.org/team/zh_CN.html&gt; 报告任何翻译错误</span><br><span class="line">完整文档 &lt;https://www.gnu.org/software/coreutils/mkdir&gt;</span><br><span class="line">或者在本地使用：info &#x27;(coreutils) mkdir invocation&#x27;</span><br></pre></td></tr></table></figure><h1 id="软连接和硬链接"><a href="#软连接和硬链接" class="headerlink" title="软连接和硬链接"></a>软连接和硬链接</h1><p>软链接和硬链接都是文件系统下的一种特殊文件，用于链接文件。</p><h2 id="软连接"><a href="#软连接" class="headerlink" title="软连接"></a>软连接</h2><p><code>软连接</code>其实就是windows下的<code>快捷方式</code>，主要为了方便操作。</p><ul><li>软连接的作用：<ul><li>软连接可以跨文件系统</li><li>软连接可以链接目录</li></ul></li><li>软连接和目标连接实际上是两个不同的文件，软连接存储的是目标文件的路径，一旦目标文件被删除，软连接也就失效了</li><li>软连接的创建：<ul><li>ln -s hello.txt hello2.txt</li><li>表示给目标文件hello.txt创建一个软连接文件hello2.txt</li></ul></li><li>查看文件内容：<code>cat命令</code><ul><li>cat hello2.txt</li><li>查看hello2.txt的内容，发现内容是hello.txt的内容</li></ul></li></ul><h2 id="inode索引"><a href="#inode索引" class="headerlink" title="inode索引"></a>inode索引</h2><p>inode是Index node的缩写，意思为索引节点号<br>在Linux系统中，<code>任何文件</code>都有自己的Inode号，不会重复，Linux系统就是根据inode号来区分文件的。<br>如何查看一个文件的inode号呢？</p><ul><li>可以使用<code>ls -i</code>命令查看文件的inode号</li><li>可以使用<code>stat</code>命令查看文件的inode号<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//通过测试可以发现软连接和目标连接是完全不同的两个文件，因为inode号不同</span><br><span class="line">ls -li hello2.txt hello.txt</span><br><span class="line">1320587 lrwxrwxrwx.<span class="number"> 1 </span>summery summery<span class="number"> 9 </span> 8月<span class="number"> 24 </span>22:09 hello2.txt -&gt; hello.txt</span><br><span class="line"><span class="number"> 748198 </span>-rw-r--r--.<span class="number"> 1 </span>summery summery<span class="number"> 0 </span> 8月<span class="number"> 24 </span>22:08 hello.txt</span><br></pre></td></tr></table></figure></li></ul><h2 id="硬链接"><a href="#硬链接" class="headerlink" title="硬链接"></a>硬链接</h2><p><code>硬链接</code>主要用来<code>文件备份</code></p><ul><li>创建硬链接<ul><li>将软连接创建时的-s去掉即为创建软连接</li><li>ln hello.txt hello3.txt（给hello.txt创建硬链接）<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//通过测试发现两个文件的inode号相同，即两者其实是同一个文件</span><br><span class="line">[summery@192 c]$ ll -i hello.txt hello4.txt</span><br><span class="line">748198 -rw-r--r--. 2 summery summery 0  8月 24 22:08 hello4.txt</span><br><span class="line">748198 -rw-r--r--. 2 summery summery 0  8月 24 22:08 hello.txt</span><br></pre></td></tr></table></figure><blockquote><p>操作硬链接的文件，目标文件会改变吗？操作目标文件，硬链接会改变吗？<br>操作任一方文件，另一边都会做出相同变化，因为两者本质上是同一个文件。</p></blockquote></li></ul></li></ul><p><code>硬链接的特点</code>：</p><ol><li>硬链接主要作用是做重要文件的备份。</li><li>目标文件被删除，只要硬链接还在，那么硬链接指向的文件依然存在。硬链接被删除后，目标文件也还在。<br>总结一句话：<strong>目标文件和硬链接只要一个存在，那么文件就没有被删除</strong></li><li>硬链接与复制粘贴机制不同，硬链接会随一方的修改而变化，而复制粘贴机制不会。</li></ol><h1 id="系统命令"><a href="#系统命令" class="headerlink" title="系统命令"></a>系统命令</h1><ul><li>显示系统当前时间：date<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@192 c]$ date</span><br><span class="line">1900年 01月 01日 星期日 00:00:00 CST</span><br></pre></td></tr></table></figure></li><li>切换用户<ul><li>su 用户名 切换到指定用户</li></ul></li><li><p>查看系统进程</p><ul><li>ps -ef 查看所有进程 <blockquote><p>ps [命令参数]<br>常用参数：<br>-e :显示当前所有进程<br>-f :显示 UID,PPID,C 与 STIME 栏位信息<br>UID:拥有改程序的用户<br>PID:程序的进程 id<br>PPID:父进程的 id<br>C: CPU 使用的资源百分比<br>STIME :系统启动时间<br>TTY：登录系统的终端位置（客户端的标识）<br>TIME:使用掉的 CPU 时间<br>CMD:进程是有哪些程序启动的</p></blockquote></li></ul></li><li><p>kill进程</p><ul><li>kill 进程号 正常结束进程</li><li>kill -9 进程号 强制结束进程</li></ul></li><li>重启<ul><li>reboot</li></ul></li><li>关机<ul><li>shutdown -h now</li></ul></li></ul><h1 id="网络通信"><a href="#网络通信" class="headerlink" title="网络通信"></a>网络通信</h1><ul><li>ifconfig<ul><li>查看网卡的ip地址</li><li>在Windows是：ipconfig，在Linux是：ifconfig<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@192 c]# ifconfig</span><br><span class="line">ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.6.101  netmask 255.255.255.0  broadcast 192.168.6.255</span><br><span class="line">        inet6 fe80::20c:29ff:fec2:69bb  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 00:0c:29:c2:69:bb  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 2166  bytes 196661 (192.0 KiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 1894  bytes 238011 (232.4 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 29  bytes 2821 (2.7 KiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 29  bytes 2821 (2.7 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br></pre></td></tr></table></figure></li></ul></li><li>ping<ul><li>查看计算机之间是否可以通信</li><li>ping 目标主机的ip地址</li><li>ping 目标主机的域名</li></ul></li><li>curl<ul><li>模拟用户访问，模拟浏览器行为,获取目标主机的响应数据<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl https://www.baidu.com/</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;!--STATUS OK--&gt;&lt;html&gt; &lt;head&gt;&lt;meta http-equiv=content-type content=text/html;charset=utf-8&gt;&lt;meta http-equiv=X-UA-Compatible content=IE=Edge&gt;&lt;meta content=always name=referrer&gt;&lt;link rel=stylesheet type=text/css href=https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css&gt;&lt;title&gt;百度一下，你就知道&lt;/title&gt;&lt;/head&gt; &lt;body link=#0000cc&gt; &lt;div id=wrapper&gt; &lt;div id=head&gt; &lt;div class=head_wrapper&gt; &lt;div class=s_form&gt; &lt;div class=s_form_wrapper&gt; &lt;div id=lg&gt; &lt;img hidefocus=true src=//www.baidu.com/img/bd_logo1.png width=270 height=129&gt; &lt;/div&gt; &lt;form id=form name=f action=//www.baidu.com/s class=fm&gt; &lt;input type=hidden name=bdorz_come value=1&gt; &lt;input type=hidden name=ie value=utf-8&gt; &lt;input type=hidden name=f value=8&gt; &lt;input type=hidden name=rsv_bp value=1&gt; &lt;input type=hidden name=rsv_idx value=1&gt; &lt;input type=hidden name=tn value=baidu&gt;&lt;span class=&quot;bg s_ipt_wr&quot;&gt;&lt;input id=kw name=wd class=s_ipt value maxlength=255 autocomplete=off autofocus=autofocus&gt;&lt;/span&gt;&lt;span class=&quot;bg s_btn_wr&quot;&gt;&lt;input type=submit id=su value=百度一下 class=&quot;bg s_btn&quot; autofocus&gt;&lt;/span&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id=u1&gt; &lt;a href=http://news.baidu.com name=tj_trnews class=mnav&gt;新闻&lt;/a&gt; &lt;a href=https://www.hao123.com name=tj_trhao123 class=mnav&gt;hao123&lt;/a&gt; &lt;a href=http://map.baidu.com name=tj_trmap class=mnav&gt;地图&lt;/a&gt; &lt;a href=http://v.baidu.com name=tj_trvideo class=mnav&gt;视频&lt;/a&gt; &lt;a href=http://tieba.baidu.com name=tj_trtieba class=mnav&gt;贴吧&lt;/a&gt; &lt;noscript&gt; &lt;a href=http://www.baidu.com/bdorz/login.gif?login&amp;amp;tpl=mn&amp;amp;u=http%3A%2F%2Fwww.baidu.com%2f%3fbdorz_come%3d1 name=tj_login class=lb&gt;登录&lt;/a&gt; &lt;/noscript&gt; &lt;script&gt;document.write(&#x27;&lt;a href=&quot;http://www.baidu.com/bdorz/login.gif?login&amp;tpl=mn&amp;u=&#x27;+ encodeURIComponent(window.location.href+ (window.location.search === &quot;&quot; ? &quot;?&quot; : &quot;&amp;&quot;)+ &quot;bdorz_come=1&quot;)+ &#x27;&quot; name=&quot;tj_login&quot; class=&quot;lb&quot;&gt;登录&lt;/a&gt;&#x27;);</span><br><span class="line">                &lt;/script&gt; &lt;a href=//www.baidu.com/more/ name=tj_briicon class=bri style=&quot;display: block;&quot;&gt;更多产品&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id=ftCon&gt; &lt;div id=ftConw&gt; &lt;p id=lh&gt; &lt;a href=http://home.baidu.com&gt;关于百度&lt;/a&gt; &lt;a href=http://ir.baidu.com&gt;About Baidu&lt;/a&gt; &lt;/p&gt; &lt;p id=cp&gt;&amp;copy;2017&amp;nbsp;Baidu&amp;nbsp;&lt;a href=http://www.baidu.com/duty/&gt;使用百度前必读&lt;/a&gt;&amp;nbsp; &lt;a href=http://jianyi.baidu.com/ class=cp-feedback&gt;意见反馈&lt;/a&gt;&amp;nbsp;京ICP证030173号&amp;nbsp; &lt;img src=//www.baidu.com/img/gs.gif&gt; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt;</span><br></pre></td></tr></table></figure></li></ul></li><li>wget<ul><li>下载资源</li><li>wget 资源的url</li><li>下载Tomcat： wget <a href="https://dlcdn.apache.org/tomcat/tomcat-10/v10.0.20/bin/apache-tomcat-10.0.20.tar.gz">https://dlcdn.apache.org/tomcat/tomcat-10/v10.0.20/bin/apache-tomcat-10.0.20.tar.gz</a></li></ul></li></ul><h1 id="管道和重定向"><a href="#管道和重定向" class="headerlink" title="管道和重定向"></a>管道和重定向</h1><ul><li><code>cat命令</code><ul><li>将文件中的内容打印出来</li><li>cat a.txt(打印a.txt文件的所有内容)</li></ul></li><li><code>grep命令</code><ul><li>在某段内容中搜索</li><li>grep 搜索的内容 文件名</li><li>grep 192 a.txt(在a.txt文件中搜索192)</li></ul></li><li><code>管道符</code>： |<ul><li>连接多个命令，前一个命令的输出作为后一个命令的输入，可以叠加</li><li>命令1 | 命令2</li><li>ps -ef | grep redis(查看redis进程)</li></ul></li><li><code>重定向符</code><ul><li>将命令的输出结果保存到文件中<figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&gt;</span> <span class="string">: 将原文件全部清空之后再写入</span></span><br><span class="line"><span class="attribute">&gt;&gt;</span><span class="punctuation">:</span> <span class="string">在原文件内容的末尾追加写入</span></span><br></pre></td></tr></table></figure></li><li>ps -ef &gt; a.txt(将所有进程信息保存到a.txt文件中)</li><li>ps -ef &gt;&gt; a.txt(将所有进程信息追加保存到a.txt文件中)</li></ul></li></ul><h1 id="文件的压缩和解压缩"><a href="#文件的压缩和解压缩" class="headerlink" title="文件的压缩和解压缩"></a>文件的压缩和解压缩</h1><p><code>tar</code>是在Linux系统中完成压缩和解压缩的命令，压缩后的文件被称为归档文件</p><blockquote><p>tar命令的常用参数：</p><ul><li>z：指定是否使用gzip压缩方式压缩。（扩展名通常为：tar.gz。特点：速度最快）</li><li>j：是否需要用 bzip2 压缩方式压缩。（扩展名通常为：tar.bz2。特点：体积最小）</li><li>c：创建压缩（create）</li><li>x：解压缩</li><li>v：是否在压缩的过程中显示文件</li><li>f：指定归档文件名（file）。f参数后面必须紧跟文件名，不能在f参数后面再加其他参数。</li><li>t：查看 tarfile 里面的文件</li><li>C：指定解压到的具体目录。注意是大写C。<br><strong>注意: c、x、t三个参数不能共存，只能出现一个</strong></li></ul></blockquote><ul><li>压缩<ul><li>tar -czvf 归档文件名.tar.gz 要压缩的文件1 要压缩的文件2 …</li><li>tar -czvf redis.tar.gz redis.conf</li><li>tar -czvf redis.tar.gz *.java</li></ul></li><li>解压缩<ul><li>tar -xzvf 归档文件名.tar.gz</li><li>tar -xzvf redis.tar.gz</li><li>tar -xzvf redis.tar.gz -C /usr/local/redis (将redis压缩包解压到该目录下)</li></ul></li><li>查看压缩文件<ul><li>tar -tvf 归档文件名.tar.gz</li></ul></li></ul><h1 id="文件内容查看"><a href="#文件内容查看" class="headerlink" title="文件内容查看"></a>文件内容查看</h1><p>查看文件内容的常用命令：</p><ul><li>cat 和 tac</li><li>more 和 less</li><li>head 和 tail </li><li>nl </li><li>tailf </li><li>cut </li><li>echo </li><li>sed </li><li>grep </li></ul><h2 id="cat命令"><a href="#cat命令" class="headerlink" title="cat命令"></a>cat命令</h2><p>cat命令会一次性将文件内容完整的打印出来，故<code>不适合大文件</code></p><blockquote><p>用法：cat [选项]… [文件]…<br>输出所有指定文件并将结果写到标准输出。<br>如果没有指定文件，则从标准输入读取。<br>常用选项：<br>  -n, 对输出的所有行编号<br>  -b, 对输出的所有行编号（不含空白行）<br>  -t, 将制表符(tab)显示为^I<br>  -e, 在每行结束处显示”$”<br>  -s, 当连续空白行数量大于1时，合并为1个空白行</p></blockquote><p>cat命令的原理：</p><ul><li>cat HelloWorld.txt</li><li>cat命令会将文件内容读取到<code>内存</code>中，然后输出到<code>终端</code></li><li>cat命令在没有指定输出到哪里的时候，默认输出到终端</li><li>cat命令在不指定读取源的时候，默认读取标准输入<div class="tabs" id="cat命令"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#cat命令-1">hello.txt</button></li><li class="tab"><button type="button" data-href="#cat命令-2">hello2.txt</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="cat命令-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Hello world!</span><br><span class="line"><span class="code">我在制表符之后</span></span><br><span class="line"><span class="code">我在制表符之前</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">我前面有三个空白行</span><br><span class="line"></span><br><span class="line">我前面只有一个空白行</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="cat命令-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">我是hello2.txt</span><br><span class="line"><span class="code">我是hello2.txt而且我前面还是个制表符</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">我是hello2.txt而且我前面好几个空白行</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li><li><strong>显示文件内容并添加行号</strong><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[summery<span class="variable">@192</span> c]<span class="variable">$ </span>cat -n hello.txt</span><br><span class="line">     <span class="number">1</span>Hello world!</span><br><span class="line">     <span class="number">2</span>我在制表符之后</span><br><span class="line">     <span class="number">3</span>我在制表符之前</span><br><span class="line">     <span class="number">4</span></span><br><span class="line">     <span class="number">5</span></span><br><span class="line">     <span class="number">6</span></span><br><span class="line">     <span class="number">7</span>我前面有三个空白行</span><br><span class="line">     <span class="number">8</span></span><br><span class="line">     <span class="number">9</span>我前面只有一个空白行</span><br><span class="line">    <span class="number">10</span></span><br><span class="line">    <span class="number">11</span></span><br><span class="line">    <span class="number">12</span>我前面有两个空白行</span><br></pre></td></tr></table></figure></li><li><strong>显示文件内容并添加行号,但空白行不加行号</strong><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[summery@192 c]$ cat -b hello.txt</span><br><span class="line"><span class="code">     1Hello world!</span></span><br><span class="line"><span class="code">     2我在制表符之后</span></span><br><span class="line"><span class="code">     3我在制表符之前</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="code">     4我前面有三个空白行</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">     5我前面只有一个空白行</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"></span><br><span class="line"><span class="code">     6我前面有两个空白行</span></span><br></pre></td></tr></table></figure></li><li><strong>查看文件所有内容，将制表符显示为^|</strong><figure class="highlight parser3"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml">[summery@</span><span class="number">192</span><span class="language-xml"> c]$ cat -t hello.txt</span></span><br><span class="line"><span class="language-xml">Hello world!</span></span><br><span class="line"><span class="language-xml"></span><span class="keyword">^IM-fM-</span><span class="keyword">^HM-</span><span class="keyword">^QM-eM-</span><span class="language-xml">^\M-(M-eM-</span><span class="keyword">^HM-6M-hM-</span><span class="language-xml">!M-(M-gM-,M-&amp;M-dM</span><span class="number">-9</span><span class="language-xml">M-</span><span class="keyword">^KM-eM-</span><span class="keyword">^PM-</span><span class="keyword">^N</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">M-fM-</span><span class="keyword">^HM-</span><span class="keyword">^QM-eM-</span><span class="language-xml">^\M-(M-eM-</span><span class="keyword">^HM-6M-hM-</span><span class="language-xml">!M-(M-gM-,M-&amp;M-dM</span><span class="number">-9</span><span class="language-xml">M-</span><span class="keyword">^KM-eM-</span><span class="keyword">^IM-</span><span class="keyword">^M</span><span class="keyword">^I</span><span class="keyword">^I</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">M-fM-</span><span class="keyword">^HM-</span><span class="keyword">^QM-eM-</span><span class="keyword">^IM-</span><span class="keyword">^MM-iM-</span><span class="language-xml">^]M-&quot;M-fM-^\M-</span><span class="keyword">^IM-dM-8M-</span><span class="keyword">^IM-dM-8M-</span><span class="language-xml">*M-gM-)M-:M-gM-</span><span class="keyword">^YM-</span><span class="language-xml">=M-hM-!M-</span><span class="keyword">^L</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">M-fM-</span><span class="keyword">^HM-</span><span class="keyword">^QM-eM-</span><span class="keyword">^IM-</span><span class="keyword">^MM-iM-</span><span class="language-xml">^]M-&quot;M-eM-</span><span class="keyword">^OM-</span><span class="language-xml">*M-fM-^\M-</span><span class="keyword">^IM-dM-8M-</span><span class="language-xml">^@M-dM</span><span class="number">-8</span><span class="language-xml">M-*M-gM-)M-:M-gM-</span><span class="keyword">^YM-</span><span class="language-xml">=M-hM-!M-</span><span class="keyword">^L</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">M-fM-</span><span class="keyword">^HM-</span><span class="keyword">^QM-eM-</span><span class="keyword">^IM-</span><span class="keyword">^MM-iM-</span><span class="language-xml">^]M-&quot;M-fM-^\M-</span><span class="keyword">^IM-dM-8M-</span><span class="variable">$M-dM-8M-</span><span class="language-xml">*M-gM-)M-:M-gM-</span><span class="keyword">^YM-</span><span class="language-xml">=M-hM-!M-</span><span class="keyword">^L</span></span><br></pre></td></tr></table></figure></li><li><strong>查看文件所有内容，在每行结尾处显示”$”</strong><figure class="highlight parser3"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml">[summery@</span><span class="number">192</span><span class="language-xml"> c]$ cat -e hello.txt</span></span><br><span class="line"><span class="language-xml">Hello world!$</span></span><br><span class="line"><span class="language-xml">M-fM-</span><span class="keyword">^HM-</span><span class="keyword">^QM-eM-</span><span class="language-xml">^\M-(M-eM-</span><span class="keyword">^HM-6M-hM-</span><span class="language-xml">!M-(M-gM-,M-&amp;M-dM</span><span class="number">-9</span><span class="language-xml">M-</span><span class="keyword">^KM-eM-</span><span class="keyword">^PM-</span><span class="keyword">^N</span><span class="language-xml">$</span></span><br><span class="line"><span class="language-xml">M-fM-</span><span class="keyword">^HM-</span><span class="keyword">^QM-eM-</span><span class="language-xml">^\M-(M-eM-</span><span class="keyword">^HM-6M-hM-</span><span class="language-xml">!M-(M-gM-,M-&amp;M-dM</span><span class="number">-9</span><span class="language-xml">M-</span><span class="keyword">^KM-eM-</span><span class="keyword">^IM-</span><span class="keyword">^M</span><span class="language-xml">$</span></span><br><span class="line"><span class="language-xml">$</span></span><br><span class="line"><span class="language-xml">$</span></span><br><span class="line"><span class="language-xml">$</span></span><br><span class="line"><span class="language-xml">M-fM-</span><span class="keyword">^HM-</span><span class="keyword">^QM-eM-</span><span class="keyword">^IM-</span><span class="keyword">^MM-iM-</span><span class="language-xml">^]M-&quot;M-fM-^\M-</span><span class="keyword">^IM-dM-8M-</span><span class="keyword">^IM-dM-8M-</span><span class="language-xml">*M-gM-)M-:M-gM-</span><span class="keyword">^YM-</span><span class="language-xml">=M-hM-!M-</span><span class="keyword">^L</span><span class="language-xml">$</span></span><br><span class="line"><span class="language-xml">$</span></span><br><span class="line"><span class="language-xml">M-fM-</span><span class="keyword">^HM-</span><span class="keyword">^QM-eM-</span><span class="keyword">^IM-</span><span class="keyword">^MM-iM-</span><span class="language-xml">^]M-&quot;M-eM-</span><span class="keyword">^OM-</span><span class="language-xml">*M-fM-^\M-</span><span class="keyword">^IM-dM-8M-</span><span class="language-xml">^@M-dM</span><span class="number">-8</span><span class="language-xml">M-*M-gM-)M-:M-gM-</span><span class="keyword">^YM-</span><span class="language-xml">=M-hM-!M-</span><span class="keyword">^L</span><span class="language-xml">$</span></span><br><span class="line"><span class="language-xml">$</span></span><br><span class="line"><span class="language-xml">$</span></span><br><span class="line"><span class="language-xml">M-fM-</span><span class="keyword">^HM-</span><span class="keyword">^QM-eM-</span><span class="keyword">^IM-</span><span class="keyword">^MM-iM-</span><span class="language-xml">^]M-&quot;M-fM-^\M-</span><span class="keyword">^IM-dM-8M-</span><span class="variable">$M-dM-8M-</span><span class="language-xml">*M-gM-)M-:M-gM-</span><span class="keyword">^YM-</span><span class="language-xml">=M-hM-!M-</span><span class="keyword">^L</span><span class="language-xml">$</span></span><br></pre></td></tr></table></figure></li><li><strong>查看文件所有内容，合并多个连续的空白行为一个空白行</strong><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[summery<span class="variable">@192</span> c]<span class="variable">$ </span>cat -s hello.txt</span><br><span class="line">Hello world!</span><br><span class="line">我在制表符之后</span><br><span class="line">我在制表符之前</span><br><span class="line"></span><br><span class="line">我前面有三个空白行</span><br><span class="line"></span><br><span class="line">我前面只有一个空白行</span><br><span class="line"></span><br><span class="line">我前面有两个空白行</span><br></pre></td></tr></table></figure></li><li><strong>一次查看多个文件</strong><br>先后打印每个文件的内容<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[summery@192 c]</span>$ cat hello<span class="selector-class">.txt</span> hello2<span class="selector-class">.txt</span></span><br><span class="line">Hello world!</span><br><span class="line">我在制表符之后</span><br><span class="line">我在制表符之前</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">我前面有三个空白行</span><br><span class="line"></span><br><span class="line">我前面只有一个空白行</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">我前面有两个空白行</span><br><span class="line">我是hello2<span class="selector-class">.txt</span></span><br><span class="line">我是hello2.txt而且我前面还是个制表符</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">我是hello2.txt而且我前面好几个空白行</span><br></pre></td></tr></table></figure></li><li><strong>使用cat时，不指定查看的文件</strong><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">[summery@192 c]</span>$ cat</span><br><span class="line"><span class="comment">//默认从标准输入流中读取数据并输出，按Ctrl+C结束输入</span></span><br><span class="line">我是键盘上输入的文字</span><br><span class="line">我是键盘上输入的文字</span><br><span class="line">^C</span><br></pre></td></tr></table></figure></li><li><strong>使用cat新建文件</strong><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[summery@192 c]</span>$ cat &gt;hello3<span class="selector-class">.txt</span></span><br><span class="line">我是hello3<span class="selector-class">.txt</span></span><br><span class="line">^C</span><br><span class="line"><span class="selector-attr">[summery@192 c]</span>$ cat hello3<span class="selector-class">.txt</span></span><br><span class="line">我是hello3.txt</span><br></pre></td></tr></table></figure></li><li><strong>使用cat合并文件</strong><br>将文件内容逐个添加到新的文件中<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[summery@192 c]</span>$ cat hello<span class="selector-class">.txt</span> hello2<span class="selector-class">.txt</span> &gt;hello4<span class="selector-class">.txt</span></span><br><span class="line"><span class="selector-attr">[summery@192 c]</span>$ cat hello4<span class="selector-class">.txt</span></span><br><span class="line">Hello world!</span><br><span class="line">我在制表符之后</span><br><span class="line">我在制表符之前</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">我前面有三个空白行</span><br><span class="line"></span><br><span class="line">我前面只有一个空白行</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">我前面有两个空白行</span><br><span class="line">我是hello2<span class="selector-class">.txt</span></span><br><span class="line">我是hello2.txt而且我前面还是个制表符</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">我是hello2.txt而且我前面好几个空白行</span><br></pre></td></tr></table></figure></li><li><strong>加上行号后输出到另一个文件</strong><br>“&gt;”默认为覆盖输出，使用”&gt;&gt;”可以追加输出<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[summery@192 c]</span>$ cat -n hello<span class="selector-class">.txt</span> &gt; test<span class="selector-class">.txt</span></span><br><span class="line"><span class="selector-attr">[summery@192 c]</span>$ cat test<span class="selector-class">.txt</span></span><br><span class="line">     <span class="number">1</span>Hello world!</span><br><span class="line">     <span class="number">2</span>我在制表符之后</span><br><span class="line">     <span class="number">3</span>我在制表符之前</span><br><span class="line">     <span class="number">4</span></span><br><span class="line">     <span class="number">5</span></span><br><span class="line">     <span class="number">6</span></span><br><span class="line">     <span class="number">7</span>我前面有三个空白行</span><br><span class="line">     <span class="number">8</span></span><br><span class="line">     <span class="number">9</span>我前面只有一个空白行</span><br><span class="line">    <span class="number">10</span></span><br><span class="line">    <span class="number">11</span></span><br><span class="line">    <span class="number">12</span>我前面有两个空白行</span><br></pre></td></tr></table></figure></li><li><strong>清空文件内容</strong><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[summery<span class="title">@192</span> <span class="keyword">c</span>]$ cat /dev/<span class="keyword">null</span> &gt; test.txt</span><br><span class="line">[summery<span class="title">@192</span> <span class="keyword">c</span>]$ cat test.txt</span><br><span class="line">[summery<span class="title">@192</span> <span class="keyword">c</span>]$ </span><br></pre></td></tr></table></figure></li></ul><h2 id="tac命令"><a href="#tac命令" class="headerlink" title="tac命令"></a>tac命令</h2><p>用的较少，一般不用</p><blockquote><p>用法：tac [选项]… [文件]…<br>将每个指定文件按行倒置并写到标准输出。</p><p>如果没有指定文件，或者文件为”-“，则从标准输入读取。</p><p>必选参数对长短选项同时适用。<br>  -b 在行前而非行尾添加分隔标志<br>  -r 将分隔标志视作正则表达式来解析<br>  -s 使用指定字符串代替换行作为分隔标志</p></blockquote><h2 id="more命令"><a href="#more命令" class="headerlink" title="more命令"></a>more命令</h2><p><strong>用法：</strong><br> more [选项] &lt;文件&gt;…</p><p>用于查看文件内容。</p><p><code>more命令</code>和<code>cat命令</code>的相同点和不同点：</p><ul><li>相同点：more和cat在开始读取文件的时候，都是一次性的将文件全部内容装载到缓存中。</li><li>不同点：cat是一次性的全部输出打印。more可以进行部分打印（一屏一屏的打印）。<div class="tabs" id="more"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#more-1">常用选项</button></li><li class="tab"><button type="button" data-href="#more-2">常用操作</button></li><li class="tab"><button type="button" data-href="#more-3">示例代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="more-1"><p>常用选项：</p><blockquote><p>-u  禁止显示下划线和粗体<br> -<number>  每个屏幕的行数<br> +<number>  从行号开始显示文件<br> +/<pattern>  从匹配的位置前两行开始显示内容<br> -p  以清除原内容的方式进行翻页。</p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="more-2"><p>常用操作：</p><blockquote><p>回车键        【显示下一行】<br>  空格键        【显示下一页】<br>  ctrl + b     【显示上一页】<br>  =            【显示行号】<br>  :f           【显示文件名的同时显示行号】<br>  q            【退出more命令】</p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="more-3"><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">1</span> zhangsan</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">2</span> lisi</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">3</span> wangwu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">4</span> zhaoliu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">5</span> admin</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">6</span> zhangsan</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">7</span> lisi</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">8</span> wangwu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">9</span> zhaoliu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">10</span> qianqi</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">11</span> zhouyu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">12</span> huanggai</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">13</span> zhugeliang</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">14</span> simayi</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">15</span> maimaiti</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">16</span> erdaye</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">17</span> sandaye</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">18</span> zhangsan</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">19</span> lisi</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">20</span> wangwu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">21</span> zhaoliu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">22</span> qianqi</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">23</span> zhoubapi</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">24</span> doudizhu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">25</span> nongmin</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">26</span> sunwukong</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">27</span> zhubajie</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">28</span> shaseng</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">29</span> wujing</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">30</span> baigujing</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">31</span> java</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">1</span> oracle</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">2</span> mysql</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">3</span> jdbc</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">4</span> servlet</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">5</span> jsp</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">6</span> spring</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">7</span> mybatis</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">8</span> springmvc</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">9</span> web</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">10</span> html</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">11</span> css</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">12</span> java</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">13</span> sun</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><ul><li>案例一：从第三行起，查看文件内容<div class="tabs" id="test01"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test01-1">案例代码</button></li><li class="tab"><button type="button" data-href="#test01-2">运行结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test01-1"><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">more</span> +3 <span class="keyword">test</span>.txt</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test01-2"><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">3</span> wangwu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">4</span> zhaoliu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">5</span> admin</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">6</span> zhangsan</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">7</span> lisi</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">8</span> wangwu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">9</span> zhaoliu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">10</span> qianqi</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">11</span> zhouyu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">12</span> huanggai</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">13</span> zhugeliang</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">14</span> simayi</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">15</span> maimaiti</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">16</span> erdaye</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">17</span> sandaye</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">18</span> zhangsan</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">19</span> lisi</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">20</span> wangwu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">21</span> zhaoliu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">22</span> qianqi</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">23</span> zhoubapi</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">24</span> doudizhu</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">25</span> nongmin</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">26</span> sunwukong</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">27</span> zhubajie</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">28</span> shaseng</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">29</span> wujing</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">30</span> baigujing</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">10</span>.<span class="number">31</span> java</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">1</span> oracle</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">2</span> mysql</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">3</span> jdbc</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">4</span> servlet</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">5</span> jsp</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">6</span> spring</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">7</span> mybatis</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">8</span> springmvc</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">9</span> web</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">10</span> html</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">11</span> css</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">12</span> java</span><br><span class="line"><span class="attribute">2021</span>.<span class="number">11</span>.<span class="number">13</span> sun</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li><li>案例二：每屏显示四条记录<div class="tabs" id="test02"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test02-1">示例代码</button></li><li class="tab"><button type="button" data-href="#test02-2">运行结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test02-1"><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">more</span> -4 <span class="keyword">test</span>.txt</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test02-2"><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2021.10.1</span> zhangsan</span><br><span class="line"><span class="number">2021.10.2</span> lisi</span><br><span class="line"><span class="number">2021.10.3</span> wangwu</span><br><span class="line"><span class="number">2021.10.4</span> zhaoliu</span><br><span class="line">--更多--(<span class="number">8</span>%)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li><li>案例三：从文件中查找“java”字符串的行（从匹配的位置前两行开始显示）<div class="tabs" id="test03"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test03-1">示例代码</button></li><li class="tab"><button type="button" data-href="#test03-2">运行结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test03-1"><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">more</span> +/java <span class="keyword">test</span>.txt</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test03-2"><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">...跳过</span><br><span class="line"><span class="number">2021.10.29</span> wujing</span><br><span class="line"><span class="number">2021.10.30</span> baigujing</span><br><span class="line"><span class="number">2021.10.31</span> java</span><br><span class="line"><span class="number">2021.11.1</span> oracle</span><br><span class="line"><span class="number">2021.11.2</span> mysql</span><br><span class="line"><span class="number">2021.11.3</span> jdbc</span><br><span class="line"><span class="number">2021.11.4</span> servlet</span><br><span class="line"><span class="number">2021.11.5</span> jsp</span><br><span class="line"><span class="number">2021.11.6</span> spring</span><br><span class="line"><span class="number">2021.11.7</span> mybatis</span><br><span class="line"><span class="number">2021.11.8</span> springmvc</span><br><span class="line"><span class="number">2021.11.9</span> web</span><br><span class="line"><span class="number">2021.11.10</span> html</span><br><span class="line"><span class="number">2021.11.11</span> css</span><br><span class="line"><span class="number">2021.11.12</span> java</span><br><span class="line"><span class="number">2021.11.13</span> sun</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li><li>案例四：查看进程，每五条为一屏，翻屏时清空原内容<div class="tabs" id="test04"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test04-1">示例代码</button></li><li class="tab"><button type="button" data-href="#test04-2">运行结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test04-1"><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps <span class="punctuation">-</span>ef <span class="string">| more -5 -p</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test04-2"><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root          <span class="number"> 1 </span>     <span class="number"> 0 </span><span class="number"> 0 </span>08:43 ?        00:00:02 /usr/lib/systemd/systemd rhgb --switched-root --system --deserialize 31</span><br><span class="line">root          <span class="number"> 2 </span>     <span class="number"> 0 </span><span class="number"> 0 </span>08:43 ?        00:00:00 [kthreadd]</span><br><span class="line">root          <span class="number"> 3 </span>     <span class="number"> 2 </span><span class="number"> 0 </span>08:43 ?        00:00:00 [rcu_gp]</span><br><span class="line">root          <span class="number"> 4 </span>     <span class="number"> 2 </span><span class="number"> 0 </span>08:43 ?        00:00:00 [rcu_par_gp]</span><br><span class="line">--更多--</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ul></li></ul><h2 id="less命令"><a href="#less命令" class="headerlink" title="less命令"></a>less命令</h2><p>less命令用于查看文件内容，并且支持<code>分页显示</code>。应该说是Linux正统的查看文件内容的工具，less的用法相比more·更弹性`。可以使用<kbd>pageup</kbd><kbd>pagedown</kbd>等按键来往前往后翻看文件，除此之外less还拥有更多的搜索功能。<br><strong>用法：</strong><br>less [选项] 文件</p><div class="tabs" id="less"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#less-1">常用选项</button></li><li class="tab"><button type="button" data-href="#less-2">常用操作</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="less-1"><p><strong>常用选项：</strong></p><blockquote><p>-g  只标志当前搜索到的关键词所在行<br>-I  忽略搜索时的大小写（注意：是大写I）<br>-m  显示类似more命令的百分比<br>-N  显示每行的行号<br>+num 从第num行开始显示</p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="less-2"><p><strong>搜索：</strong></p><blockquote><p>/字符串：向下搜索“字符串”的功能<br> ?字符串：向上搜索“字符串”的功能</p><p>n：重复前一个搜索（与 / 或 ? 有关）<br>N：反向重复前一个搜索（与 / 或 ? 有关）</p></blockquote><p><strong>滚动：</strong>      </p><blockquote><p>y  向前滚动一行<br>回车键 向后滚动一行<br>u  向前滚动半页<br>d  向后滚动半页</p></blockquote><p><strong>翻页：</strong></p><blockquote><p>b  向前翻一页<br><kbd>space</kbd> 向后翻一页<br><kbd>pageup</kbd> 向上翻动一页<br><kbd>pagedown</kbd> 向下翻动一页</p></blockquote><p><strong>移动：</strong></p><blockquote><p>g  移动到第一行<br>ng 移动到指定行（n是行号）<br>G  移动到最后一行</p></blockquote><p><strong>显示：</strong></p><blockquote><p>= 显示详细信息（第几行，共多少行，内容的字节数量等）</p></blockquote><p><strong>编辑：</strong></p><blockquote><p>v  使用vim编辑器进行编辑</p></blockquote><p><strong>退出：</strong></p><blockquote><p>q  退出less 命令</p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><ul><li>可以使用less命令标记兴趣点<ul><li>在感兴趣的地方添加标记：<ul><li>使用<kbd>m</kbd>命令添加标记</li><li>输入标记名称，然后按回车键</li></ul></li><li>想回到感兴趣的位置时<ul><li>先按’键</li><li>输入标记名称，然后按回车键 </li></ul></li><li>删除标记：<ul><li>使用<kbd>d</kbd>命令删除标记</li></ul></li></ul></li><li>less命令实时监控文件动态变化<ul><li>第一步：在窗口1执行： less+F log.txt</li><li>第二步：在窗口2执行： ps -ef &gt;&gt; log.txt<br><strong>注意：log.txt是一个文件名，只有机器自动写入或通过输出重定向写入才可以被监控</strong><br>less命令查看多个文件</li></ul></li><li>less hello.txt hello2.txt</li><li>输入： <kbd>n</kbd> 跳转到log2.txt</li><li>输入： <kbd>p</kbd> 跳转到log.txt<br>less命令可以结合管道一起使用</li><li>ps -ef | less -N</li></ul><h2 id="head命令"><a href="#head命令" class="headerlink" title="head命令"></a>head命令</h2><ul><li><p>head命令用于查看文件头部内容<br><strong>用法：</strong></p><ul><li>head [选项] [文件]</li><li>默认输出指定文件的前10行，如果指定多个文件，在每次输出之前附加文件名称作为头部</li></ul><blockquote><p><strong>参数：</strong></p><ul><li>-q 不显示文件名</li><li>-n [行数]：指定输出的行数</li><li>-c [字节数]：指定输出的字节数</li></ul></blockquote></li></ul><h2 id="tail命令"><a href="#tail命令" class="headerlink" title="tail命令"></a>tail命令</h2><ul><li>tail命令用于查看文件尾部内容<br><strong>用法：</strong><ul><li>tail [选项] [文件]</li><li>默认输出指定文件的最后10行，如果指定多个文件，在每次输出之前附加文件名称作为头部</li></ul></li></ul><blockquote><p><strong>参数：</strong></p><ul><li>-q 不显示文件名</li><li>-f 动态监控文件变化，随文件增长即时输出新增数据</li><li>-n [行数]：指定输出的行数</li><li>-c [字节数]：指定输出的字节数</li></ul></blockquote><h2 id="nl命令"><a href="#nl命令" class="headerlink" title="nl命令"></a>nl命令</h2><p>nl命令是专业的<code>显示行号</code>命令，其默认的结果与cat -n命令不太一样。nl 可以将行号做比较多的显示设计，包括位数与是否自动补齐 0 等等的功能。<br><div class="tabs" id="nl"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#nl-1">命令用法</button></li><li class="tab"><button type="button" data-href="#nl-2">文件内容</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="nl-1"><p><strong>用法如下：</strong></p><blockquote><ul><li>nl -b a 所有行添加行号，包括空白行；</li><li>nl -b w 给行添加行号，包括空白行； nl -b t 给行添加行号，不包括空白行（默认行为，和直接使用 nl 一样效果）；</li><li>nl -n ln 行号在自己栏位左侧显示；</li><li>nl -n rn 行号在自己栏位的右侧显示 ；</li><li>nl -n rz 显示行号，行号栏位不满时，自动补0 ；</li><li>nl -w 行号栏位的占用的位数。</li></ul></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="nl-2"><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">HelloWorld</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] <span class="keyword">args</span></span>)</span>&#123;</span><br><span class="line">                System.<span class="keyword">out</span>.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">UserService</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">logout</span>()</span>&#123;</span><br><span class="line">                System.<span class="keyword">out</span>.println(<span class="string">&quot;system log out!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><p>执行以下命令：正常打开<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">summery@192 c</span>]$ nl helloworld.java</span><br><span class="line">     <span class="number">1</span><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">HelloWorld</span>&#123;</span><br><span class="line">     <span class="number">2</span>        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] <span class="keyword">args</span></span>)</span>&#123;</span><br><span class="line">     <span class="number">3</span>                System.<span class="keyword">out</span>.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">     <span class="number">4</span>        &#125;</span><br><span class="line">     <span class="number">5</span>&#125;</span><br><span class="line">       </span><br><span class="line">     <span class="number">6</span><span class="keyword">class</span> <span class="title">UserService</span>&#123;</span><br><span class="line">     <span class="number">7</span>        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">logout</span>()</span>&#123;</span><br><span class="line">     <span class="number">8</span>                System.<span class="keyword">out</span>.println(<span class="string">&quot;system log out!&quot;</span>);</span><br><span class="line">     <span class="number">9</span>        &#125;</span><br><span class="line">    <span class="number">10</span>&#125;</span><br></pre></td></tr></table></figure><br>执行以下命令：显示所有行的行号，包括空白行<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">summery@192 c</span>]$ nl -b a helloworld.java</span><br><span class="line">     <span class="number">1</span><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">HelloWorld</span>&#123;</span><br><span class="line">     <span class="number">2</span>        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] <span class="keyword">args</span></span>)</span>&#123;</span><br><span class="line">     <span class="number">3</span>                System.<span class="keyword">out</span>.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">     <span class="number">4</span>        &#125;</span><br><span class="line">     <span class="number">5</span>&#125;</span><br><span class="line">       </span><br><span class="line">     <span class="number">6</span></span><br><span class="line">     <span class="number">7</span><span class="keyword">class</span> <span class="title">UserService</span>&#123;</span><br><span class="line">     <span class="number">8</span>        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">logout</span>()</span>&#123;</span><br><span class="line">     <span class="number">9</span>                System.<span class="keyword">out</span>.println(<span class="string">&quot;system log out!&quot;</span>);</span><br><span class="line">    <span class="number">10</span>        &#125;</span><br><span class="line">    <span class="number">11</span>&#125;</span><br></pre></td></tr></table></figure><br>执行以下命令：行号在行号栏左侧显示<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">summery@192 c</span>]$ nl -n ln helloworld.java</span><br><span class="line"><span class="number">1</span>     <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">HelloWorld</span>&#123;</span><br><span class="line"><span class="number">2</span>             <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] <span class="keyword">args</span></span>)</span>&#123;</span><br><span class="line"><span class="number">3</span>                     System.<span class="keyword">out</span>.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line"><span class="number">4</span>             &#125;</span><br><span class="line"><span class="number">5</span>     &#125;</span><br><span class="line">       </span><br><span class="line"><span class="number">6</span>     <span class="keyword">class</span> <span class="title">UserService</span>&#123;</span><br><span class="line"><span class="number">7</span>             <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">logout</span>()</span>&#123;</span><br><span class="line"><span class="number">8</span>                     System.<span class="keyword">out</span>.println(<span class="string">&quot;system log out!&quot;</span>);</span><br><span class="line"><span class="number">9</span>             &#125;</span><br><span class="line"><span class="number">10</span>    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>执行以下命令：行号在行号栏右侧显示<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">summery@192 c</span>]$ nl -n rn helloworld.java</span><br><span class="line">     <span class="number">1</span><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">HelloWorld</span>&#123;</span><br><span class="line">     <span class="number">2</span>        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] <span class="keyword">args</span></span>)</span>&#123;</span><br><span class="line">     <span class="number">3</span>                System.<span class="keyword">out</span>.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">     <span class="number">4</span>        &#125;</span><br><span class="line">     <span class="number">5</span>&#125;</span><br><span class="line">       </span><br><span class="line">     <span class="number">6</span><span class="keyword">class</span> <span class="title">UserService</span>&#123;</span><br><span class="line">     <span class="number">7</span>        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">logout</span>()</span>&#123;</span><br><span class="line">     <span class="number">8</span>                System.<span class="keyword">out</span>.println(<span class="string">&quot;system log out!&quot;</span>);</span><br><span class="line">     <span class="number">9</span>        &#125;</span><br><span class="line">    <span class="number">10</span>&#125;</span><br></pre></td></tr></table></figure><br>执行以下命令：行号栏自动补0<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">summery@192 c</span>]$ nl -n rz helloworld.java</span><br><span class="line"><span class="number">000001</span><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">HelloWorld</span>&#123;</span><br><span class="line"><span class="number">000002</span>        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] <span class="keyword">args</span></span>)</span>&#123;</span><br><span class="line"><span class="number">000003</span>                System.<span class="keyword">out</span>.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line"><span class="number">000004</span>        &#125;</span><br><span class="line"><span class="number">000005</span>&#125;</span><br><span class="line">       </span><br><span class="line"><span class="number">000006</span><span class="keyword">class</span> <span class="title">UserService</span>&#123;</span><br><span class="line"><span class="number">000007</span>        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">logout</span>()</span>&#123;</span><br><span class="line"><span class="number">000008</span>                System.<span class="keyword">out</span>.println(<span class="string">&quot;system log out!&quot;</span>);</span><br><span class="line"><span class="number">000009</span>        &#125;</span><br><span class="line"><span class="number">000010</span>&#125;</span><br></pre></td></tr></table></figure><br>执行以下命令：设置栏位的字符数量<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">summery@192 c</span>]$ nl -n rz -w <span class="number">3</span> helloworld.java</span><br><span class="line"><span class="number">001</span><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">HelloWorld</span>&#123;</span><br><span class="line"><span class="number">002</span>        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] <span class="keyword">args</span></span>)</span>&#123;</span><br><span class="line"><span class="number">003</span>                System.<span class="keyword">out</span>.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line"><span class="number">004</span>        &#125;</span><br><span class="line"><span class="number">005</span>&#125;</span><br><span class="line">    </span><br><span class="line"><span class="number">006</span><span class="keyword">class</span> <span class="title">UserService</span>&#123;</span><br><span class="line"><span class="number">007</span>        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">logout</span>()</span>&#123;</span><br><span class="line"><span class="number">008</span>                System.<span class="keyword">out</span>.println(<span class="string">&quot;system log out!&quot;</span>);</span><br><span class="line"><span class="number">009</span>        &#125;</span><br><span class="line"><span class="number">010</span>&#125;</span><br></pre></td></tr></table></figure></p><h2 id="tailf命令"><a href="#tailf命令" class="headerlink" title="tailf命令"></a>tailf命令</h2><p>与tail -f命令类似，tailf命令用于<code>监控文件变化</code>，但不同的是，如果文件不增长，他不会去访问磁盘文件。tailf特别适合便携机上追踪日志文件，因为他省电且减少了磁盘访问。<br>tailf命令不是个脚本，而是一个用C代码编译后的二进制执行文件，某些Linux安装之后没有这个命令，需要手动安装。<br>CentOS安装tailf命令：<br><strong>第一步：</strong> cd命令切换到/usr/local目录下，新建tailf.c文件，文件内容如下：<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* tailf.c -- tail a log file and then follow it </span></span><br><span class="line"><span class="comment"> * Created: Tue Jan  9 15:49:21 1996 by faith@acm.org </span></span><br><span class="line"><span class="comment"> * Copyright 1996, 2003 Rickard E. Faith (faith@acm.org) </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * Permission is hereby granted, free of charge, to any person obtaining a </span></span><br><span class="line"><span class="comment"> * copy of this software and associated documentation files (the &quot;Software&quot;), </span></span><br><span class="line"><span class="comment"> * to deal in the Software without restriction, including without limitation </span></span><br><span class="line"><span class="comment"> * the rights to use, copy, modify, merge, publish, distribute, sublicense, </span></span><br><span class="line"><span class="comment"> * and/or sell copies of the Software, and to permit persons to whom the </span></span><br><span class="line"><span class="comment"> * Software is furnished to do so, subject to the following conditions: </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * The above copyright notice and this permission notice shall be included </span></span><br><span class="line"><span class="comment"> * in all copies or substantial portions of the Software. </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR </span></span><br><span class="line"><span class="comment"> * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, </span></span><br><span class="line"><span class="comment"> * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL </span></span><br><span class="line"><span class="comment"> * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR </span></span><br><span class="line"><span class="comment"> * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, </span></span><br><span class="line"><span class="comment"> * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR </span></span><br><span class="line"><span class="comment"> * OTHER DEALINGS IN THE SOFTWARE. </span></span><br><span class="line"><span class="comment"> *  </span></span><br><span class="line"><span class="comment"> * less -F and tail -f cause a disk access every five seconds.  This </span></span><br><span class="line"><span class="comment"> * program avoids this problem by waiting for the file size to change. </span></span><br><span class="line"><span class="comment"> * Hence, the file is not accessed, and the access time does not need to be </span></span><br><span class="line"><span class="comment"> * flushed back to disk.  This is sort of a &quot;stealth&quot; tail. </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line">  </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;malloc.h&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/stat.h&gt;</span>  </span></span><br><span class="line"><span class="comment">//#include &quot;nls.h&quot;  </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _(s) s  </span></span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">size_t</span> <span class="title">filesize</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *filename)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">stat</span> sb;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">stat</span>(filename, &amp;sb)) <span class="keyword">return</span> sb.st_size;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">tailf</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *filename, <span class="type">int</span> lines)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="type">char</span> **buffer;  </span><br><span class="line">    <span class="type">int</span>  head = <span class="number">0</span>;  </span><br><span class="line">    <span class="type">int</span>  tail = <span class="number">0</span>;  </span><br><span class="line">    FILE *str;  </span><br><span class="line">    <span class="type">int</span>  i;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (!(str = <span class="built_in">fopen</span>(filename, <span class="string">&quot;r&quot;</span>))) &#123;  </span><br><span class="line">    <span class="built_in">fprintf</span>(stderr, _(<span class="string">&quot;Cannot open \&quot;%s\&quot; for read\n&quot;</span>), filename);  </span><br><span class="line">    <span class="built_in">perror</span>(<span class="string">&quot;&quot;</span>);  </span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">1</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    buffer = <span class="built_in">malloc</span>(lines * <span class="built_in">sizeof</span>(*buffer));  </span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; lines; i++) buffer[i] = <span class="built_in">malloc</span>(BUFSIZ + <span class="number">1</span>);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">fgets</span>(buffer[tail], BUFSIZ, str)) &#123;  </span><br><span class="line">    <span class="keyword">if</span> (++tail &gt;= lines) &#123;  </span><br><span class="line">        tail = <span class="number">0</span>;  </span><br><span class="line">        head = <span class="number">1</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (head) &#123;  </span><br><span class="line">    <span class="keyword">for</span> (i = tail; i &lt; lines; i++) <span class="built_in">fputs</span>(buffer[i], stdout);  </span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; tail; i++)     <span class="built_in">fputs</span>(buffer[i], stdout);  </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">    <span class="keyword">for</span> (i = head; i &lt; tail; i++)  <span class="built_in">fputs</span>(buffer[i], stdout);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="built_in">fflush</span>(stdout);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; lines; i++) <span class="built_in">free</span>(buffer[i]);  </span><br><span class="line">    <span class="built_in">free</span>(buffer);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="type">char</span>       buffer[BUFSIZ];  </span><br><span class="line">    <span class="type">size_t</span>     osize, nsize;  </span><br><span class="line">    FILE       *str;  </span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *filename;  </span><br><span class="line">    <span class="type">int</span>        count;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">//setlocale(LC_ALL, &quot;&quot;);  </span></span><br><span class="line">    <span class="comment">//bindtextdomain(PACKAGE, LOCALEDIR);  </span></span><br><span class="line">    <span class="comment">//textdomain(PACKAGE);  </span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (argc != <span class="number">2</span>) &#123;  </span><br><span class="line">    <span class="built_in">fprintf</span>(stderr, _(<span class="string">&quot;Usage: tailf logfile\n&quot;</span>));  </span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">1</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    filename = argv[<span class="number">1</span>];  </span><br><span class="line">  </span><br><span class="line">    <span class="built_in">tailf</span>(filename, <span class="number">10</span>);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (osize = <span class="built_in">filesize</span>(filename);;) &#123;  </span><br><span class="line">    nsize = <span class="built_in">filesize</span>(filename);  </span><br><span class="line">    <span class="keyword">if</span> (nsize != osize) &#123;  </span><br><span class="line">        <span class="keyword">if</span> (!(str = <span class="built_in">fopen</span>(filename, <span class="string">&quot;r&quot;</span>))) &#123;  </span><br><span class="line">        <span class="built_in">fprintf</span>(stderr, _(<span class="string">&quot;Cannot open \&quot;%s\&quot; for read\n&quot;</span>), filename);  </span><br><span class="line">        <span class="built_in">perror</span>(argv[<span class="number">0</span>]);  </span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">1</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">fseek</span>(str, osize, SEEK_SET))  </span><br><span class="line">                <span class="keyword">while</span> ((count = <span class="built_in">fread</span>(buffer, <span class="number">1</span>, <span class="built_in">sizeof</span>(buffer), str)) &gt; <span class="number">0</span>)  </span><br><span class="line">                    <span class="built_in">fwrite</span>(buffer, <span class="number">1</span>, count, stdout);  </span><br><span class="line">        <span class="built_in">fflush</span>(stdout);  </span><br><span class="line">        <span class="built_in">fclose</span>(str);  </span><br><span class="line">        osize = nsize;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="built_in">usleep</span>(<span class="number">250000</span>);     <span class="comment">/* 250mS */</span>  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>第二步：</strong>首先确保当前目录在/usr/local下，如果不在该目录下，请使用cd命令切换到/usr/local。然后编译c语言程序：<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> <span class="keyword">local</span>]<span class="meta"># gcc -o /usr/bin/tailf tailf.c</span></span><br></pre></td></tr></table></figure><br>如果出现提示信息没有gcc编译器，顺着输入y安装即可<br><strong>第三步：</strong>测试tailf命令是否可用 直接输入tailf有以下提示则代表tailf命令可用<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> <span class="keyword">local</span>]<span class="meta"># tailf</span></span><br><span class="line">Usage: tailf logfile</span><br></pre></td></tr></table></figure><br>tailf命令和“tail -f”一个效果，都是用来实时监控文件变动的。只不过tailf是专业的只负责监控日志文件变化的一个命令。我们来测试一下。<br>日志文件内容如下：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">日志信息第1行</span><br><span class="line">日志信息第2行</span><br><span class="line">日志信息第3行</span><br><span class="line">日志信息第4行</span><br><span class="line">日志信息第5行</span><br><span class="line">日志信息第6行</span><br><span class="line">日志信息第7行</span><br><span class="line">日志信息第8行</span><br><span class="line">日志信息第10行</span><br><span class="line">日志信息第11行</span><br><span class="line">日志信息第12行</span><br><span class="line">日志信息第13行</span><br><span class="line">日志信息第14行</span><br><span class="line">日志信息第15行</span><br><span class="line">日志信息第16行</span><br><span class="line">日志信息第17行</span><br><span class="line">日志信息第18行</span><br><span class="line">日志信息第19行</span><br><span class="line">日志信息第20行</span><br></pre></td></tr></table></figure><br>监控日志文件<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@192</span> <span class="keyword">local</span>]<span class="meta"># tailf localhost.log</span></span><br><span class="line">日志信息第<span class="number">11</span>行</span><br><span class="line">日志信息第<span class="number">12</span>行</span><br><span class="line">日志信息第<span class="number">13</span>行</span><br><span class="line">日志信息第<span class="number">14</span>行</span><br><span class="line">日志信息第<span class="number">15</span>行</span><br><span class="line">日志信息第<span class="number">16</span>行</span><br><span class="line">日志信息第<span class="number">17</span>行</span><br><span class="line">日志信息第<span class="number">18</span>行</span><br><span class="line">日志信息第<span class="number">19</span>行</span><br><span class="line">日志信息第<span class="number">20</span>行</span><br></pre></td></tr></table></figure><br>开启一个新的命令窗口，然后向日志文件中追加内容，如下：<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@192</span> <span class="keyword">local</span>]<span class="meta"># echo helloworld&gt;&gt; localhost.log</span></span><br></pre></td></tr></table></figure><br>此时tailf命令会自动监控到日志文件的变化，如下：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">日志信息第11行</span><br><span class="line">日志信息第12行</span><br><span class="line">日志信息第13行</span><br><span class="line">日志信息第14行</span><br><span class="line">日志信息第15行</span><br><span class="line">日志信息第16行</span><br><span class="line">日志信息第17行</span><br><span class="line">日志信息第18行</span><br><span class="line">日志信息第19行</span><br><span class="line">日志信息第20行</span><br><span class="line">helloworld</span><br></pre></td></tr></table></figure></p><h1 id="Linux用户管理"><a href="#Linux用户管理" class="headerlink" title="Linux用户管理"></a>Linux用户管理</h1><p>Linux中的超级用户是<code>root</code>，通过超级用户root可以创建其它的普通用户，Linux是一个支持多用户的操作系统。在实际使用中，一般会分配给开发人员<code>专属</code>的账户，这个账户只拥有部分权限，如果权限太高，操作的范围过大，一些误操作可能导致系统崩溃，或者数据不安全，所以多用户机制就是一种<code>系统安全策略</code>。</p><p>在Linux系统中任何一个用户都对应：一个用户名 + 一个口令。用户使用系统时需要输入用户名和口令进行登录，登录成功后就可以进入自己的主目录（主目录就是自己的工作目录）。</p><p>用户账号管理主要包括以下三方面：</p><ul><li>用户组的管理</li><li>用户的管理</li><li>给用户主目录之外的目录授权</li></ul><h2 id="用户组的管理"><a href="#用户组的管理" class="headerlink" title="用户组的管理"></a>用户组的管理</h2><p>每一个用户都有一个用户组，系统可以对一个用户组的所有用户集中管理。<br>用户组的管理涉及用户组的<code>添加</code>、<code>修改</code>和<code>删除</code>。<br>用户组的添加、修改和删除其实就是对<code>/etc/group</code>文件的更新。<br><strong>使用root账户查看当前系统用户组有哪些</strong><br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">[root@192 local]<span class="comment"># cat /etc/group</span></span><br><span class="line"><span class="section">root:x:0:</span></span><br><span class="line"><span class="section">bin:x:1:</span></span><br><span class="line"><span class="section">daemon:x:2:</span></span><br><span class="line"><span class="section">sys:x:3:</span></span><br><span class="line"><span class="section">adm:x:4:</span></span><br><span class="line"><span class="section">tty:x:5:</span></span><br><span class="line"><span class="section">disk:x:6:</span></span><br><span class="line"><span class="section">lp:x:7:</span></span><br><span class="line"><span class="section">mem:x:8:</span></span><br><span class="line"><span class="section">kmem:x:9:</span></span><br><span class="line"><span class="section">wheel:x:10:summery</span></span><br><span class="line"><span class="section">cdrom:x:11:</span></span><br><span class="line"><span class="section">mail:x:12:</span></span><br><span class="line"><span class="section">man:x:15:</span></span><br><span class="line"><span class="section">dialout:x:18:</span></span><br><span class="line"><span class="section">floppy:x:19:</span></span><br><span class="line"><span class="section">games:x:20:</span></span><br><span class="line"><span class="section">tape:x:33:</span></span><br><span class="line"><span class="section">video:x:39:</span></span><br><span class="line"><span class="section">ftp:x:50:</span></span><br><span class="line"><span class="section">lock:x:54:</span></span><br><span class="line"><span class="section">audio:x:63:</span></span><br><span class="line"><span class="section">users:x:100:</span></span><br><span class="line"><span class="section">nobody:x:65534:</span></span><br><span class="line"><span class="section">utmp:x:22:</span></span><br><span class="line"><span class="section">utempter:x:35:</span></span><br><span class="line"><span class="section">input:x:999:</span></span><br><span class="line"><span class="section">kvm:x:36:</span></span><br><span class="line"><span class="section">render:x:998:</span></span><br><span class="line"><span class="section">systemd-journal:x:190:</span></span><br><span class="line"><span class="section">systemd-coredump:x:997:</span></span><br><span class="line"><span class="section">dbus:x:81:</span></span><br><span class="line"><span class="section">polkitd:x:996:</span></span><br><span class="line"><span class="section">avahi:x:70:</span></span><br><span class="line"><span class="section">printadmin:x:995:</span></span><br><span class="line"><span class="section">ssh_keys:x:994:</span></span><br><span class="line"><span class="section">rtkit:x:172:</span></span><br><span class="line"><span class="section">libstoragemgmt:x:993:</span></span><br><span class="line"><span class="section">geoclue:x:992:</span></span><br><span class="line"><span class="section">tss:x:59:clevis</span></span><br><span class="line"><span class="section">cockpit-ws:x:991:</span></span><br><span class="line"><span class="section">cockpit-wsinstance:x:990:</span></span><br><span class="line"><span class="section">colord:x:989:</span></span><br><span class="line"><span class="section">sssd:x:988:</span></span><br><span class="line"><span class="section">setroubleshoot:x:987:</span></span><br><span class="line"><span class="section">pipewire:x:986:</span></span><br><span class="line"><span class="section">flatpak:x:985:</span></span><br><span class="line"><span class="section">clevis:x:984:</span></span><br><span class="line"><span class="section">brlapi:x:983:</span></span><br><span class="line"><span class="section">gdm:x:42:</span></span><br><span class="line"><span class="section">gnome-initial-setup:x:982:</span></span><br><span class="line"><span class="section">sshd:x:74:</span></span><br><span class="line"><span class="section">chrony:x:981:</span></span><br><span class="line"><span class="section">slocate:x:21:</span></span><br><span class="line"><span class="section">dnsmasq:x:980:</span></span><br><span class="line"><span class="section">tcpdump:x:72:</span></span><br><span class="line"><span class="section">sgx:x:979:</span></span><br><span class="line"><span class="section">systemd-oom:x:978:</span></span><br><span class="line"><span class="section">summery:x:1000:</span></span><br></pre></td></tr></table></figure></p><p>每一个用户组四部分组成：<code>组名</code>：<code>密码标识</code>：<code>GID</code>：<code>该用户组中的用户列表</code><br><strong>查看当前登录的账户属于哪一组</strong>: <code>groups</code><br><strong>查看某个用户属于哪一组</strong>: <code>groups root</code></p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 1 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown与外挂标签</title>
      <link href="/2025/08/22/markdown%E4%B8%8E%E5%A4%96%E6%8C%82%E6%A0%87%E7%AD%BE-markdown%E4%B8%8E%E5%A4%96%E6%8C%82%E6%A0%87%E7%AD%BE/"/>
      <url>/2025/08/22/markdown%E4%B8%8E%E5%A4%96%E6%8C%82%E6%A0%87%E7%AD%BE-markdown%E4%B8%8E%E5%A4%96%E6%8C%82%E6%A0%87%E7%AD%BE/</url>
      
        <content type="html"><![CDATA[<h1 id="Markdown基础语法"><a href="#Markdown基础语法" class="headerlink" title="Markdown基础语法"></a>Markdown基础语法</h1><h2 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h2><p><strong>注意</strong>： 代码块中的所有内容都会被认为是代码，不可以嵌套其他Markdown语法。<br>可以添加行内代码块，比如方法名称之类的<br><div class="tabs" id="text1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text1-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text1-2">标签用法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text1-1"><p>我是行内<code>代码</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text1-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">我是行内<span class="code">`代码`</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><h2 id="多级标题"><a href="#多级标题" class="headerlink" title="多级标题"></a>多级标题</h2><p>在Markdown中多级标题最多只有六级<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># H1</span></span><br><span class="line"><span class="section">## H2</span></span><br><span class="line"><span class="section">### H3</span></span><br><span class="line"><span class="section">#### H4</span></span><br><span class="line"><span class="section">##### H5</span></span><br><span class="line"><span class="section">###### H6</span></span><br></pre></td></tr></table></figure></p><h2 id="文字样式"><a href="#文字样式" class="headerlink" title="文字样式"></a>文字样式</h2><div class="tabs" id="text3"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text3-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text3-2">标签用法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text3-1"><p>文字加粗展示：<strong>加粗</strong><br>文字斜体演示<em>斜体</em><br>文字高亮演示：<code>高亮</code><br>文本删除线演示<del>删除</del><br>如果想同时使用加粗和斜体：<strong><em>加粗和斜体</em></strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text3-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">文字加粗展示： <span class="strong">**加粗**</span></span><br><span class="line">文字斜体演示： <span class="emphasis">*斜体*</span></span><br><span class="line">文字高亮演示： <span class="code">`高亮`</span></span><br><span class="line">文本删除线演示：~~删除~~</span><br><span class="line">如果想同时使用加粗和斜体：<span class="strong">**<span class="emphasis">*加粗和斜体*</span>**</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>想单纯使用这些特殊的符号时，可以使用转义符<br><div class="tabs" id="text4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text4-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text4-2">标签用法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text4-1"><p>我是转义的*符号</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text4-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">我是转义的\<span class="emphasis">*符号</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><h2 id="下划线和分割线"><a href="#下划线和分割线" class="headerlink" title="下划线和分割线"></a>下划线和分割线</h2><p>在Markdown原生语法中没有提供对应的符号，只能借助HTML代码来实现，Markdown支持在文本中嵌入HTML标签，包括其样式</p><div class="tabs" id="text5"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text5-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text5-2">标签用法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text5-1"><p><u> 我是要添加下划线的内容 </u></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text5-2"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">u</span>&gt;</span> 我是要添加下划线的内容 <span class="tag">&lt;/<span class="name">u</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>想使用分割线只需要在单独的一行连续使用三个及以上的*即可：<br><div class="tabs" id="text6"><ul class="nav-tabs"></ul><div class="tab-contents"></div></div></p><h2 id="列表和勾选框"><a href="#列表和勾选框" class="headerlink" title="列表和勾选框"></a>列表和勾选框</h2><p>列表分为有序列表和无序列表<br>要创建一个无序列表，只需要使用*作为前缀，空一格再输入内容即可：</p><div class="tabs" id="text7"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text7-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text7-2">标签用法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text7-1"><ul><li>无序列表1</li><li>无序列表2</li><li>无序列表3 </li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text7-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">*</span> 无序列表1</span><br><span class="line"><span class="bullet">*</span> 无序列表2</span><br><span class="line"><span class="bullet">*</span> 无序列表3 </span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>创建一个有序列表，使用数字+小数点+空格的形式即可：</p><div class="tabs" id="text8"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text8-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text8-2">标签用法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text8-1"><ol><li>有序列表1</li><li>有序列表2</li><li>有序列表3</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text8-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1.</span> 有序列表1</span><br><span class="line"><span class="bullet">2.</span> 有序列表2</span><br><span class="line"><span class="bullet">3.</span> 有序列表3</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>在列表中换行他会识别为换行编写，如果想脱离列表，需要连续两个换行<br>列表支持多个层级嵌套，我们可以在一级列表下创建二级列表，要表示二级列表，我们可以在前面添加两个或四个空格（也可以是一个TAB缩进），表示此列表是上一个列表的子级：</p><div class="tabs" id="text9"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text9-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text9-2">标签用法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text9-1"><ul><li>无序列表1<ul><li>二级列表1</li></ul></li><li>无序列表2<ul><li>二级列表2</li></ul></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text9-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">*</span> 无序列表1</span><br><span class="line"><span class="bullet">    *</span> 二级列表1</span><br><span class="line"><span class="bullet">*</span> 无序列表2</span><br><span class="line"><span class="bullet">    *</span> 二级列表2</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>如果我们想创建一个勾选框，只需要在无序列表后面加入一个方括号即可：</p><div class="tabs" id="text10"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text10-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text10-2">标签用法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text10-1"><ul><li>[ ] 无序列表1</li><li>[ ] 无序列表2</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text10-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">*</span> [ ] 无序列表1</span><br><span class="line"><span class="bullet">*</span> [ ] 无序列表2</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>如果要创建一个已勾选的勾选框，只需要在方括号中加入一个x即可：</p><div class="tabs" id="text11"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text11-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text11-2">标签用法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text11-1"><ul><li>[x] 无序列表1</li><li>[x] 无序列表2</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text11-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">*</span> [x] 无序列表1</span><br><span class="line"><span class="bullet">*</span> [x] 无序列表2</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><p>在最前面添加<code>&gt;</code>大于符号即可表示后面的文本为引用文本，注意空格：<br><div class="tabs" id="text12"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text12-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text12-2">标签用法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text12-1"><blockquote><p>引用内容</p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text12-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="quote">&gt; 使用引用</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><p>直接在引用块内换行，会被认为是在引用块内换行,只有两个连续的换行才能脱离引用块</p><p>引用块内可以嵌套其他Markdwown内容，比如列表或代码块，甚至引用里嵌套引用<br><div class="tabs" id="text13"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text13-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text13-2">样例代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text13-1"><blockquote><p>引用内容</p><blockquote><p>引用内容</p><blockquote><p>引用内容</p></blockquote></blockquote></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text13-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="quote">&gt; 引用内容</span></span><br><span class="line">&gt;&gt; 引用内容</span><br><span class="line">&gt;&gt;&gt; 引用内容</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><h2 id="链接和图片"><a href="#链接和图片" class="headerlink" title="链接和图片"></a>链接和图片</h2><p>使用<code>[]</code>和<code>()</code>组合就能在Markdown文档中插入超链接<br><div class="tabs" id="text14"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text14-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text14-2">标签用法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text14-1"><p><a href="https://silvan2077.github.io">首页</a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text14-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">链接文本</span>](<span class="link">链接地址</span>)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><p>插入图片与插入链接类似，语法格式为：<br><div class="tabs" id="text15"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text15-1">样例预览</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text15-1"><p><img src="https://wallpaperm.cmcm.com/694d8ce6ed856ada966ad49990fdaeb9.jpg" alt="图片描述"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><br>其实就是链接的写法前面多加了一个感叹号。Markdown文档是纯文本格式，无法像Word那样真的放一张图片进去，因此我们只能使用本地图片地址或是网络图片地址。</p><h2 id="上标和下标"><a href="#上标和下标" class="headerlink" title="上标和下标"></a>上标和下标</h2><p>在Markdown中，我们可以通过HTML标签来实现<code>上标</code>和<code>下标</code><br><div class="tabs" id="上标下标"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#上标下标-1">样例预览</button></li><li class="tab"><button type="button" data-href="#上标下标-2">标签用法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="上标下标-1"><p>a<sub>2</sub><br>a<sup>2</sup></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="上标下标-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a<span class="language-xml"><span class="tag">&lt;<span class="name">sub</span>&gt;</span></span>2<span class="language-xml"><span class="tag">&lt;/<span class="name">sub</span>&gt;</span></span></span><br><span class="line">a<span class="language-xml"><span class="tag">&lt;<span class="name">sup</span>&gt;</span></span>2<span class="language-xml"><span class="tag">&lt;/<span class="name">sup</span>&gt;</span></span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><h2 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h2><p>在Markdown中也可以像这样编写脚注（部分编辑器不支持），鼠标移动上去会展示脚注内容<br><div class="tabs" id="text16"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text16-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text16-2">样例代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text16-1"><p>老师我想学PHP<sup><a href="#fn_1" id="reffn_1">1</a></sup></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text16-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">老师我想学PHP[^1]</span><br><span class="line">[<span class="symbol">^1</span>]:<span class="link">世界上最好的语言</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></p><h2 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h2><p>在Markdown中创建表格有一点点复杂，创建时最上面一排是表头，在左右使用<code>|</code>表示这是一个表格，同时，下方需要添加分割线，分割线使用<code>-</code>减号表示，写一个或多个都可以</p><div class="tabs" id="text17"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text17-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text17-2">样例代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text17-1"><div class="table-container"><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">年龄</th><th style="text-align:center">性别</th></tr></thead><tbody><tr><td style="text-align:center">张三</td><td style="text-align:center">18</td><td style="text-align:center">男</td></tr><tr><td style="text-align:center">李四</td><td style="text-align:center">20</td><td style="text-align:center">女</td></tr><tr><td style="text-align:center">王五</td><td style="text-align:center">22</td><td style="text-align:center">男</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text17-2"><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|<span class="string">名称</span>|<span class="string">年龄</span>|<span class="string">性别</span>|</span><br><span class="line">|<span class="string"> :----: </span>|<span class="string"> :------: </span>|<span class="string"> :--: </span>|</span><br><span class="line">|<span class="string">张三</span>|<span class="string">18 </span>|<span class="string">男</span>|</span><br><span class="line">|<span class="string">李四</span>|<span class="string">20 </span>|<span class="string">女</span>|</span><br><span class="line">|<span class="string">王五</span>|<span class="string">22 </span>|<span class="string">男</span>|</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>   <p>Markdown支持对齐调整只需要使用<code>:</code>调整分割线<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:--- 为左对齐</span><br><span class="line">---: 为右对齐</span><br><span class="line">:---: 为居中对齐</span><br></pre></td></tr></table></figure><br>表格中可以嵌套其他Markdown语法</p><h2 id="HTML标签"><a href="#HTML标签" class="headerlink" title="HTML标签"></a>HTML标签</h2><p>可以通过html标签增加markdown的个性化，如修改文字颜色，自定义图片大小<br><div class="tabs" id="text18"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text18-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text18-2">标签用法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text18-1"><p>我是<span style="color: red">红色</span>的文本</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text18-2"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">我是<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color: red&quot;</span>&gt;</span>红色<span class="tag">&lt;/<span class="name">span</span>&gt;</span>的文本</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>   </p><h2 id="扩展语法"><a href="#扩展语法" class="headerlink" title="扩展语法"></a>扩展语法</h2><p>以下扩展语法部分编辑器不支持，Typora需要在设置中开启</p><h3 id="文本高亮"><a href="#文本高亮" class="headerlink" title="文本高亮"></a>文本高亮</h3><div class="tabs" id="text19"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text19-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text19-2">标签用法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text19-1"><p>==文本高亮==</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text19-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">==文本高亮==</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>   <h3 id="上下标"><a href="#上下标" class="headerlink" title="上下标"></a>上下标</h3><div class="tabs" id="text20"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text20-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text20-2">标签用法</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text20-1"><p>文本^我是上标^<br>文本~我是下标~</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text20-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">文本^我是上标^</span><br><span class="line">文本~我是下标~</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>   <h3 id="数学公式"><a href="#数学公式" class="headerlink" title="数学公式"></a>数学公式</h3><p><strong>数学公式个人使用较少，简单记录</strong><br>Typora需要开启内联公式支持</p><p>编写数学公式需要在特定的块中编写，公式块用<code>$</code>表示，多行公式使用连续的两个美元符：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">公式</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>在行内编写，只需要在显示的地方使用一个<code>$</code>即可</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">公式为：$x=2y$</span><br></pre></td></tr></table></figure><h3 id="特殊数学符号"><a href="#特殊数学符号" class="headerlink" title="特殊数学符号"></a>特殊数学符号</h3><p>一些无法直接通过键盘输入的特殊符号</p><div class="table-container"><table><thead><tr><th style="text-align:center">代码</th><th style="text-align:center">符号</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">\not=</td><td style="text-align:center">≠\=</td><td style="text-align:center">不等于</td></tr><tr><td style="text-align:center">\approx</td><td style="text-align:center">≈≈</td><td style="text-align:center">约等于</td></tr><tr><td style="text-align:center">\times</td><td style="text-align:center">××</td><td style="text-align:center">乘号</td></tr><tr><td style="text-align:center">\div</td><td style="text-align:center">÷÷</td><td style="text-align:center">除号</td></tr><tr><td style="text-align:center">\leq</td><td style="text-align:center">≤≤</td><td style="text-align:center">小于等于</td></tr><tr><td style="text-align:center">\geq</td><td style="text-align:center">≥≥</td><td style="text-align:center">大于等于</td></tr><tr><td style="text-align:center">\pm</td><td style="text-align:center">±±</td><td style="text-align:center">正负号</td></tr><tr><td style="text-align:center">\sum</td><td style="text-align:center">∑∑</td><td style="text-align:center">求和符号（累加）</td></tr><tr><td style="text-align:center">\prod</td><td style="text-align:center">∏∏</td><td style="text-align:center">累乘</td></tr><tr><td style="text-align:center">\coprod</td><td style="text-align:center">∐∐</td><td style="text-align:center">累除</td></tr><tr><td style="text-align:center">\overline{a + b + c}</td><td style="text-align:center">a+b+c‾<em>a</em>+<em>b</em>+<em>c</em></td><td style="text-align:center">平均值</td></tr></tbody></table></div><p>数学中常见特殊字符：</p><div class="table-container"><table><thead><tr><th style="text-align:center">代码</th><th style="text-align:center">符号</th><th style="text-align:center">代码</th><th style="text-align:center">符号</th></tr></thead><tbody><tr><td style="text-align:center">\alpha</td><td style="text-align:center">α<em>α</em></td><td style="text-align:center">\beta</td><td style="text-align:center">β<em>β</em></td></tr><tr><td style="text-align:center">\gamma</td><td style="text-align:center">γ<em>γ</em></td><td style="text-align:center">\delta</td><td style="text-align:center">δ<em>δ</em></td></tr><tr><td style="text-align:center">\epsilon</td><td style="text-align:center">ϵ<em>ϵ</em></td><td style="text-align:center">\eta</td><td style="text-align:center">η<em>η</em></td></tr><tr><td style="text-align:center">\theta</td><td style="text-align:center">θ<em>θ</em></td><td style="text-align:center">\pi</td><td style="text-align:center">π<em>π</em></td></tr><tr><td style="text-align:center">\omega</td><td style="text-align:center">ω<em>ω</em></td><td style="text-align:center">\rho</td><td style="text-align:center">ρ<em>ρ</em></td></tr><tr><td style="text-align:center">\sigma</td><td style="text-align:center">σ<em>σ</em></td><td style="text-align:center">\mu</td><td style="text-align:center">μ<em>μ</em></td></tr></tbody></table></div><p>还有三角函数相关：</p><div class="table-container"><table><thead><tr><th style="text-align:center">代码</th><th style="text-align:center">符号</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">\sin</td><td style="text-align:center">sin⁡sin</td><td style="text-align:center">正弦</td></tr><tr><td style="text-align:center">\cos</td><td style="text-align:center">cos⁡cos</td><td style="text-align:center">余弦</td></tr><tr><td style="text-align:center">\tan</td><td style="text-align:center">tan⁡tan</td><td style="text-align:center">正切</td></tr><tr><td style="text-align:center">\cot</td><td style="text-align:center">cot⁡cot</td><td style="text-align:center">余切</td></tr><tr><td style="text-align:center">\sec</td><td style="text-align:center">sec⁡sec</td><td style="text-align:center">正割</td></tr><tr><td style="text-align:center">\csc</td><td style="text-align:center">csc⁡csc</td><td style="text-align:center">余割</td></tr><tr><td style="text-align:center">\circ</td><td style="text-align:center">∘∘</td><td style="text-align:center">度</td></tr></tbody></table></div><p>积分和求导相关：</p><div class="table-container"><table><thead><tr><th style="text-align:center">代码</th><th style="text-align:center">符号</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">\infty</td><td style="text-align:center">∞∞</td><td style="text-align:center">无穷</td></tr><tr><td style="text-align:center">\int</td><td style="text-align:center">∫∫</td><td style="text-align:center">定积分</td></tr><tr><td style="text-align:center">\iint</td><td style="text-align:center">∬∬</td><td style="text-align:center">双重积分</td></tr><tr><td style="text-align:center">\iiint</td><td style="text-align:center">∭∭</td><td style="text-align:center">三重积分</td></tr><tr><td style="text-align:center">\oint</td><td style="text-align:center">∮∮</td><td style="text-align:center">曲线积分</td></tr><tr><td style="text-align:center">x\prime</td><td style="text-align:center">x′<em>x</em>′</td><td style="text-align:center">求导</td></tr><tr><td style="text-align:center">\lim</td><td style="text-align:center">lim⁡lim</td><td style="text-align:center">极限</td></tr></tbody></table></div><p>集合相关：</p><div class="table-container"><table><thead><tr><th style="text-align:center">代码</th><th style="text-align:center">符号</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">\emptyset</td><td style="text-align:center">∅∅</td><td style="text-align:center">空集</td></tr><tr><td style="text-align:center">\in</td><td style="text-align:center">∈∈</td><td style="text-align:center">属于</td></tr><tr><td style="text-align:center">\notin</td><td style="text-align:center">∉∈/</td><td style="text-align:center">不属于</td></tr><tr><td style="text-align:center">\supset</td><td style="text-align:center">⊃⊃</td><td style="text-align:center">真包含</td></tr><tr><td style="text-align:center">\supseteq</td><td style="text-align:center">⊇⊇</td><td style="text-align:center">包含</td></tr><tr><td style="text-align:center">\bigcap</td><td style="text-align:center">⋂⋂</td><td style="text-align:center">交集</td></tr><tr><td style="text-align:center">\bigcup</td><td style="text-align:center">⋃⋃</td><td style="text-align:center">并集</td></tr></tbody></table></div><p>对数函数相关：</p><div class="table-container"><table><thead><tr><th style="text-align:center">代码</th><th style="text-align:center">符号</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">\log</td><td style="text-align:center">log⁡log</td><td style="text-align:center">对数函数</td></tr><tr><td style="text-align:center">\ln</td><td style="text-align:center">ln⁡ln</td><td style="text-align:center">以e为底的对数函数</td></tr><tr><td style="text-align:center">\lg</td><td style="text-align:center">lg⁡lg</td><td style="text-align:center">以10为底的对数函数</td></tr></tbody></table></div><h3 id="分数"><a href="#分数" class="headerlink" title="分数"></a>分数</h3><p>分数使用<code>\farc</code>来表示：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ \frac&#123;分子&#125;&#123;分母&#125; $</span><br></pre></td></tr></table></figure><h3 id="开方"><a href="#开方" class="headerlink" title="开方"></a>开方</h3><p>开方使用<code>\sqrt</code>来表示，具体格式如下：</p><p>markdown复制代码</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$\sqrt&#123;4&#125;$</span><br></pre></td></tr></table></figure><p>如果需要修改根号上方数值，可以添加中括号：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$\sqrt[3]&#123;8&#125;$ //意思是8开三次方根</span><br></pre></td></tr></table></figure><h3 id="上下标-1"><a href="#上下标-1" class="headerlink" title="上下标"></a>上下标</h3><p>在公式块中的上下标与Markdown中的不同，语法也不一样，其中<code>^</code>表示上标， <code>_</code>表示下标：</p><p>markdown复制代码</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ x<span class="emphasis">_下标 $</span></span><br><span class="line"><span class="emphasis">$ x^上标 $</span></span><br><span class="line"><span class="emphasis">$ x^上标_</span>下标 $</span><br></pre></td></tr></table></figure><p>如果上标或下标内容多于一个字符，需要使用 {} 括起来，包括后续的其他代码如果出现只有一个字符生效的情况下，考虑使用花括号囊括全部内容：</p><p>markdown复制代码</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ x<span class="emphasis">_&#123;下标&#125; $</span></span><br><span class="line"><span class="emphasis">$ x^&#123;上标&#125; $</span></span><br><span class="line"><span class="emphasis">$ x^&#123;上标&#125;_</span>&#123;下标&#125; $</span><br></pre></td></tr></table></figure><h3 id="积分和极限"><a href="#积分和极限" class="headerlink" title="积分和极限"></a>积分和极限</h3><p>积分非常简单，直接使用上下标即可指定范围，后续的内容可以直接向后编写，会自动居中摆放：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ \int<span class="emphasis">_1^2xdx $</span></span><br></pre></td></tr></table></figure><p>极限与积分类似，同样使用下标即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ \lim<span class="emphasis">_&#123;n\rightarrow+\infty&#125;\frac&#123;1&#125;&#123;n + 1&#125; $</span></span><br></pre></td></tr></table></figure><h3 id="其他符号"><a href="#其他符号" class="headerlink" title="其他符号"></a>其他符号</h3><p>向量符号：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ \vec&#123;a&#125; $</span><br></pre></td></tr></table></figure><p>省略号：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ \cdots $   居中省略号</span><br><span class="line">$ \ldots $   靠底部的省略号</span><br></pre></td></tr></table></figure><p>点乘号：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ \cdot $</span><br></pre></td></tr></table></figure><p>累加：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ \sum<span class="emphasis">_1^n $</span></span><br></pre></td></tr></table></figure><h1 id="外挂标签"><a href="#外挂标签" class="headerlink" title="外挂标签"></a>外挂标签</h1><h2 id="引用-1"><a href="#引用-1" class="headerlink" title="引用"></a>引用</h2><div class="tabs" id="note"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#note-1">样式展示</button></li><li class="tab"><button type="button" data-href="#note-2">语法格式</button></li><li class="tab"><button type="button" data-href="#note-3">配置参数</button></li><li class="tab"><button type="button" data-href="#note-4">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="note-1"><details class="folding-tag" ><summary> 方法一 </summary>              <div class='content'>              <ol><li>simple样式</li></ol><div class="note simple"><p>默认 提示块标签</p></div><div class="note default simple"><p>default 提示块标签</p></div><div class="note primary simple"><p>primary 提示块标签</p></div><div class="note success simple"><p>success 提示块标签</p></div><div class="note info simple"><p>info 提示块标签</p></div><div class="note warning simple"><p>warning 提示块标签</p></div><div class="note danger simple"><p>danger 提示块标签</p></div><ol><li>modern样式</li></ol><div class="note modern"><p>默认 提示块标签</p></div><div class="note default modern"><p>default 提示块标签</p></div><div class="note primary modern"><p>primary 提示块标签</p></div><div class="note success modern"><p>success 提示块标签</p></div><div class="note info modern"><p>info 提示块标签</p></div><div class="note warning modern"><p>warning 提示块标签</p></div><div class="note danger modern"><p>danger 提示块标签</p></div>3. flat样式<div class="note flat"><p>默认 提示块标签</p></div><div class="note default flat"><p>default 提示块标签</p></div><div class="note primary flat"><p>primary 提示块标签</p></div><div class="note success flat"><p>success 提示块标签</p></div><div class="note info flat"><p>info 提示块标签</p></div><div class="note warning flat"><p>warning 提示块标签</p></div><div class="note danger flat"><p>danger 提示块标签</p></div><ol><li>disabled</li></ol><div class="note disabled"><p>默认 提示块标签</p></div><div class="note default disabled"><p>default 提示块标签</p></div><div class="note primary disabled"><p>primary 提示块标签</p></div><div class="note success disabled"><p>success 提示块标签</p></div><div class="note info disabled"><p>info 提示块标签</p></div><div class="note warning disabled"><p>warning 提示块标签</p></div><div class="note danger disabled"><p>danger 提示块标签</p></div><ol><li>no-icon样式</li></ol><div class="note no-icon flat"><p>默认 提示块标签</p></div><div class="note default no-icon flat"><p>default 提示块标签</p></div><div class="note primary no-icon flat"><p>primary 提示块标签</p></div><div class="note success no-icon flat"><p>success 提示块标签</p></div><div class="note info no-icon flat"><p>info 提示块标签</p></div><div class="note warning no-icon flat"><p>warning 提示块标签</p></div><div class="note danger no-icon flat"><p>danger 提示块标签</p></div>              </div>            </details><details class="folding-tag" ><summary> 方法二 </summary>              <div class='content'>              <ol><li>simple样式</li></ol><div class="note icon-padding simple"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了….</p></div><div class="note pink icon-padding simple"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding simple"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding simple"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding simple"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding simple"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><ol><li>modern样式</li></ol><div class="note icon-padding modern"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了….</p></div><div class="note pink icon-padding modern"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding modern"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding modern"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding modern"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><ol><li>flat样式</li></ol><div class="note icon-padding flat"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了….</p></div><div class="note pink icon-padding flat"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding flat"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding flat"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding flat"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding flat"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><ol><li>disabled</li></ol><div class="note icon-padding disabled"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding disabled"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了….</p></div><div class="note pink icon-padding disabled"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding disabled"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding disabled"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding disabled"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding disabled"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><ol><li>no-icon样式</li></ol><div class="note no-icon flat"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue no-icon flat"><p>2021年快到了….</p></div><div class="note pink no-icon flat"><p>小心开车 安全至上</p></div><div class="note red no-icon flat"><p>这是三片呢？还是四片？</p></div><div class="note orange no-icon flat"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple no-icon flat"><p>剪刀石头布</p></div><div class="note green no-icon flat"><p>前端最讨厌的浏览器</p></div>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="note-2"><details class="folding-tag" ><summary> 方法一 </summary>              <div class='content'>              <figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note [<span class="class"><span class="keyword">class</span>] [<span class="title">no</span>-<span class="title">icon</span>] [<span class="title">style</span>] %&#125;</span></span><br><span class="line"><span class="class"><span class="title">Any</span> <span class="title">content</span> (<span class="title">support</span> <span class="title">inline</span> <span class="title">tags</span> <span class="title">too</span>.<span class="title">io</span>).</span></span><br><span class="line"><span class="class"></span>&#123;% endnote <span class="variable">%&#125;</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 方法二 </summary>              <div class='content'>              <figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note <span class="selector-attr">[color]</span> <span class="selector-attr">[icon]</span> <span class="selector-attr">[style]</span> %&#125;</span><br><span class="line">Any <span class="attribute">content</span> (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="note-3"><details class="folding-tag" ><summary> 方法一 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:left">参数</th><th style="text-align:left">用法</th></tr></thead><tbody><tr><td style="text-align:left">class</td><td style="text-align:left">【可选】标识，不同的标识有不同的配色 （ default / primary / success / info / warning / danger ）</td></tr><tr><td style="text-align:left">no-icon</td><td style="text-align:left">【可选】不显示 icon</td></tr><tr><td style="text-align:left">style</td><td style="text-align:left">【可选】可以覆盖配置中的 style （simple/modern/flat/disabled）</td></tr></tbody></table></div>              </div>            </details><details class="folding-tag" ><summary> 方法二 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:left">参数</th><th style="text-align:left">用法</th></tr></thead><tbody><tr><td style="text-align:left">class</td><td style="text-align:left">【可选】标识，不同的标识有不同的配色 （ default / blue / pink / red / purple / orange / green ）</td></tr><tr><td style="text-align:left">no-icon</td><td style="text-align:left">【可选】可配置自定义 icon (只支持 fontawesome 图标, 也可以配置 no-icon )</td></tr><tr><td style="text-align:left">style</td><td style="text-align:left">【可选】可以覆盖配置中的 style （simple/modern/flat/disabled）</td></tr></tbody></table></div>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="note-4"><details class="folding-tag" ><summary> 方法一 </summary>              <div class='content'>              <ol><li>simple样式<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note simple %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default simple %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary simple %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success simple %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info simple %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning simple %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger simple %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></li><li>modern样式<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note modern %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default modern %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary modern %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success modern %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info modern %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning modern %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger modern %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></li><li>flat样式<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">note</span> flat %&#125;</span><span class="language-xml">默认 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> default flat %&#125;</span><span class="language-xml">default 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> primary flat %&#125;</span><span class="language-xml">primary 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> success flat %&#125;</span><span class="language-xml">success 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> info flat %&#125;</span><span class="language-xml">info 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> warning flat %&#125;</span><span class="language-xml">warning 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> danger flat %&#125;</span><span class="language-xml">danger 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span></span><br></pre></td></tr></table></figure></li><li>disabled<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">note</span> disabled %&#125;</span><span class="language-xml">默认 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> default disabled %&#125;</span><span class="language-xml">default 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> primary disabled %&#125;</span><span class="language-xml">primary 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> success disabled %&#125;</span><span class="language-xml">success 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> info disabled %&#125;</span><span class="language-xml">info 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> warning disabled %&#125;</span><span class="language-xml">warning 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> danger disabled %&#125;</span><span class="language-xml">danger 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span></span><br></pre></td></tr></table></figure></li><li>no-icon样式<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">note</span> no-icon %&#125;</span><span class="language-xml">默认 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> default no-icon %&#125;</span><span class="language-xml">default 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> primary no-icon %&#125;</span><span class="language-xml">primary 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> success no-icon %&#125;</span><span class="language-xml">success 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> info no-icon %&#125;</span><span class="language-xml">info 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> warning no-icon %&#125;</span><span class="language-xml">warning 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> danger no-icon %&#125;</span><span class="language-xml">danger 提示块标签</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span></span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><details class="folding-tag" ><summary> 方法二 </summary>              <div class='content'>              <ol><li>simple样式<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">note</span> &#x27;fab fa-cc-visa&#x27; simple %&#125;</span><span class="language-xml">你是刷 Visa 还是 UnionPay</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> blue &#x27;fas fa-bullhorn&#x27; simple %&#125;</span><span class="language-xml">2021年快到了....</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> pink &#x27;fas fa-car-crash&#x27; simple %&#125;</span><span class="language-xml">小心开车 安全至上</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> red &#x27;fas fa-fan&#x27; simple%&#125;</span><span class="language-xml">这是三片呢？还是四片？</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> orange &#x27;fas fa-battery-half&#x27; simple %&#125;</span><span class="language-xml">你是刷 Visa 还是 UnionPay</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> purple &#x27;far fa-hand-scissors&#x27; simple %&#125;</span><span class="language-xml">剪刀石头布</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> green &#x27;fab fa-internet-explorer&#x27; simple %&#125;</span><span class="language-xml">前端最讨厌的浏览器</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span></span><br></pre></td></tr></table></figure></li><li>modern样式<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">note</span> &#x27;fab fa-cc-visa&#x27; modern %&#125;</span><span class="language-xml">你是刷 Visa 还是 UnionPay</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> blue &#x27;fas fa-bullhorn&#x27; modern %&#125;</span><span class="language-xml">2021年快到了....</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> pink &#x27;fas fa-car-crash&#x27; modern %&#125;</span><span class="language-xml">小心开车 安全至上</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> red &#x27;fas fa-fan&#x27; modern%&#125;</span><span class="language-xml">这是三片呢？还是四片？</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> orange &#x27;fas fa-battery-half&#x27; modern %&#125;</span><span class="language-xml">你是刷 Visa 还是 UnionPay</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> purple &#x27;far fa-hand-scissors&#x27; modern %&#125;</span><span class="language-xml">剪刀石头布</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> green &#x27;fab fa-internet-explorer&#x27; modern %&#125;</span><span class="language-xml">前端最讨厌的浏览器</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span></span><br></pre></td></tr></table></figure></li><li>flat样式<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">note</span> &#x27;fab fa-cc-visa&#x27; flat %&#125;</span><span class="language-xml">你是刷 Visa 还是 UnionPay</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> blue &#x27;fas fa-bullhorn&#x27; flat %&#125;</span><span class="language-xml">2021年快到了....</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> pink &#x27;fas fa-car-crash&#x27; flat %&#125;</span><span class="language-xml">小心开车 安全至上</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> red &#x27;fas fa-fan&#x27; flat%&#125;</span><span class="language-xml">这是三片呢？还是四片？</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> orange &#x27;fas fa-battery-half&#x27; flat %&#125;</span><span class="language-xml">你是刷 Visa 还是 UnionPay</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> purple &#x27;far fa-hand-scissors&#x27; flat %&#125;</span><span class="language-xml">剪刀石头布</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> green &#x27;fab fa-internet-explorer&#x27; flat %&#125;</span><span class="language-xml">前端最讨厌的浏览器</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span></span><br></pre></td></tr></table></figure></li><li>disabled<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">note</span> &#x27;fab fa-cc-visa&#x27; disabled %&#125;</span><span class="language-xml">你是刷 Visa 还是 UnionPay</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> blue &#x27;fas fa-bullhorn&#x27; disabled %&#125;</span><span class="language-xml">2021年快到了....</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> pink &#x27;fas fa-car-crash&#x27; disabled %&#125;</span><span class="language-xml">小心开车 安全至上</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> red &#x27;fas fa-fan&#x27; disabled %&#125;</span><span class="language-xml">这是三片呢？还是四片？</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> orange &#x27;fas fa-battery-half&#x27; disabled %&#125;</span><span class="language-xml">你是刷 Visa 还是 UnionPay</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> purple &#x27;far fa-hand-scissors&#x27; disabled %&#125;</span><span class="language-xml">剪刀石头布</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> green &#x27;fab fa-internet-explorer&#x27; disabled %&#125;</span><span class="language-xml">前端最讨厌的浏览器</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span></span><br></pre></td></tr></table></figure></li><li>no-icon样式<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">note</span> no-icon %&#125;</span><span class="language-xml">你是刷 Visa 还是 UnionPay</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> blue no-icon %&#125;</span><span class="language-xml">2021年快到了....</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> pink no-icon %&#125;</span><span class="language-xml">小心开车 安全至上</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> red no-icon %&#125;</span><span class="language-xml">这是三片呢？还是四片？</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> orange no-icon %&#125;</span><span class="language-xml">你是刷 Visa 还是 UnionPay</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> purple no-icon %&#125;</span><span class="language-xml">剪刀石头布</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">note</span> green no-icon %&#125;</span><span class="language-xml">前端最讨厌的浏览器</span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="行内文本样式"><a href="#行内文本样式" class="headerlink" title="行内文本样式"></a>行内文本样式</h2><div class="tabs" id="text20"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text20-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text20-2">标签语法</button></li><li class="tab"><button type="button" data-href="#text20-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text20-1"><ol><li>带 <u>下划线</u> 的文本</li><li>带 <emp>着重号</emp> 的文本</li><li>带 <wavy>波浪线</wavy> 的文本</li><li>带 <del>删除线</del> 的文本</li><li>键盘样式的文本 <kbd>command</kbd> + <kbd>D</kbd></li><li>密码样式的文本：<psw>这里没有验证码</psw></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text20-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% 下划线 %&#125;</span><br><span class="line">&#123;% emp 着重号 %&#125;</span><br><span class="line">&#123;% wavy 波浪线 %&#125;</span><br><span class="line">&#123;% del 删除线 %&#125;</span><br><span class="line">&#123;% kbd 键盘样式的文本 %&#125;</span><br><span class="line">&#123;% psw 密码样式的文本 %&#125;</span><br><span class="line">&#123;% code 文本内容 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text20-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1.</span> 带 &#123;% u 下划线 %&#125; 的文本</span><br><span class="line"><span class="bullet">2.</span> 带 &#123;% emp 着重号 %&#125; 的文本</span><br><span class="line"><span class="bullet">3.</span> 带 &#123;% wavy 波浪线 %&#125; 的文本</span><br><span class="line"><span class="bullet">4.</span> 带 &#123;% del 删除线 %&#125; 的文本</span><br><span class="line"><span class="bullet">5.</span> 键盘样式的文本 &#123;% kbd command %&#125; + &#123;% kbd D %&#125;</span><br><span class="line"><span class="bullet">6.</span> 密码样式的文本：&#123;% psw 这里没有验证码 %&#125;</span><br><span class="line"><span class="bullet">7.</span> 代码样式的文本：&#123;% code 这是一个代码块 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="行内文本span"><a href="#行内文本span" class="headerlink" title="行内文本span"></a>行内文本span</h2><div class="tabs" id="text21"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text21-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text21-2">标签语法</button></li><li class="tab"><button type="button" data-href="#text21-3">配置参数</button></li><li class="tab"><button type="button" data-href="#text21-4">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text21-1"><ul><li>彩色文字<br>在一段话中方便插入各种颜色的标签，包括：<span class='p red'>红色</span>、<span class='p yellow'>黄色</span>、<span class='p green'>绿色</span>、<span class='p cyan'>青色</span>、<span class='p blue'>蓝色</span>、<span class='p gray'>灰色</span>。</li><li>超大号文字<br>文档「开始」页面中的标题部分就是超大号文字。<br><span class='p center logo large'>Volantis</span><br><span class='p center small'>A Wonderful Theme for Hexo</span></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text21-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% span 颜色, 文本内容 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text21-3"><p>字体: logo, code<br>颜色: <span class='p red'>red</span>,<span class='p yellow'>yellow</span>,<span class='p green'>green</span>,<span class='p cyan'>cyan</span>,<span class='p blue'>blue</span>,<span class='p gray'>gray</span><br>大小: small, h4, h3, h2, h1, large, huge, ultra<br>对齐方向: left, center, right</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text21-4"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> 彩色文字</span><br><span class="line">在一段话中方便插入各种颜色的标签，包括：&#123;% span red, 红色 %&#125;、&#123;% span yellow, 黄色 %&#125;、&#123;% span green, 绿色 %&#125;、&#123;% span cyan, 青色 %&#125;、&#123;% span blue, 蓝色 %&#125;、&#123;% span gray, 灰色 %&#125;。</span><br><span class="line"><span class="bullet">-</span> 超大号文字</span><br><span class="line">文档「开始」页面中的标题部分就是超大号文字。</span><br><span class="line">&#123;% span center logo large, Silvan %&#125;</span><br><span class="line">&#123;% span center small, hello world! %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="段落文本p"><a href="#段落文本p" class="headerlink" title="段落文本p"></a>段落文本p</h2><div class="tabs" id="text22"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text22-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text22-2">标签语法</button></li><li class="tab"><button type="button" data-href="#text22-3">配置参数</button></li><li class="tab"><button type="button" data-href="#text22-4">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text22-1"><p class='p red'>段落1</p><p class='p yellow'>段落2</p><p class='p green'>段落3</p><p class='p cyan'>段落4</p><p class='p blue'>段落5</p><p class='p gray'>段落6</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text22-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% p 样式参数(参数以空格划分), 文本内容 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text22-3"><p>字体: logo, code<br>颜色: <span class='p red'>red</span>,<span class='p yellow'>yellow</span>,<span class='p green'>green</span>,<span class='p cyan'>cyan</span>,<span class='p blue'>blue</span>,<span class='p gray'>gray</span><br>大小: small, h4, h3, h2, h1, large, huge, ultra<br>对齐方向: left, center, right</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text22-4"><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">p</span> red,   段落1 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">p</span> yellow,段落2 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">p</span> green, 段落3 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">p</span> cyan,  段落4 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">p</span> blue,  段落5 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">p</span> gray,  段落6 %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="复选列表checkbox"><a href="#复选列表checkbox" class="headerlink" title="复选列表checkbox"></a>复选列表checkbox</h2><div class="tabs" id="text23"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text23-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text23-2">标签语法</button></li><li class="tab"><button type="button" data-href="#text23-3">配置参数</button></li><li class="tab"><button type="button" data-href="#text23-4">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text23-1"><div class='checkbox'><input type="checkbox" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>支持自定义颜色</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>绿色 + 默认选中</p>            </div><div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>黄色 + 默认选中</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>青色 + 默认选中</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>蓝色 + 默认选中</p>            </div><div class='checkbox plus green checked'><input type="checkbox" checked="checked"/>            <p>增加</p>            </div><div class='checkbox minus yellow checked'><input type="checkbox" checked="checked"/>            <p>减少</p>            </div><div class='checkbox times red checked'><input type="checkbox" checked="checked"/>            <p>叉</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text23-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox 样式参数（可选）, 文本（支持简单md） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text23-3"><p>颜色: <span class='p red'>red</span>,<span class='p yellow'>yellow</span>,<span class='p green'>green</span>,<span class='p cyan'>cyan</span>,<span class='p blue'>blue</span>,<span class='p gray'>gray</span><br>选中状态: checked</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text23-4"><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">checkbox</span> 纯文本测试 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">checkbox</span> checked, 支持简单的 [markdown](https://guides.github.com/features/mastering-markdown/) 语法 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">checkbox</span> red, 支持自定义颜色 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">checkbox</span> green checked, 绿色 + 默认选中 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">checkbox</span> yellow checked, 黄色 + 默认选中 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">checkbox</span> cyan checked, 青色 + 默认选中 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">checkbox</span> blue checked, 蓝色 + 默认选中 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">checkbox</span> plus green checked, 增加 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">checkbox</span> minus yellow checked, 减少 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">checkbox</span> times red checked, 叉 %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="单选列表radio"><a href="#单选列表radio" class="headerlink" title="单选列表radio"></a>单选列表radio</h2><div class="tabs" id="text24"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text24-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text24-2">标签语法</button></li><li class="tab"><button type="button" data-href="#text24-3">配置参数</button></li><li class="tab"><button type="button" data-href="#text24-4">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text24-1"><div class='checkbox'><input type="radio" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="radio" />            <p>支持自定义颜色</p>            </div><div class='checkbox green'><input type="radio" />            <p>绿色</p>            </div><div class='checkbox yellow'><input type="radio" />            <p>黄色</p>            </div><div class='checkbox cyan'><input type="radio" />            <p>青色</p>            </div><div class='checkbox blue'><input type="radio" />            <p>蓝色</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text24-2"><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">radio</span> 样式参数（可选）, 文本（支持简单md） %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text24-3"><p>颜色：<span class='p red'>red</span>,<span class='p yellow'>yellow</span>,<span class='p green'>green</span>,<span class='p cyan'>cyan</span>,<span class='p blue'>blue</span>,<span class='p gray'>gray</span><br>选中状态：checked</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text24-4"><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">radio</span> 纯文本测试 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">radio</span> checked, 支持简单的 [markdown](https://guides.github.com/features/mastering-markdown/) 语法 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">radio</span> red, 支持自定义颜色 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">radio</span> green, 绿色 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">radio</span> yellow, 黄色 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">radio</span> cyan, 青色 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">radio</span> blue, 蓝色 %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="时间轴timeline"><a href="#时间轴timeline" class="headerlink" title="时间轴timeline"></a>时间轴timeline</h2><div class="tabs" id="text24"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text24-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text24-2">标签语法</button></li><li class="tab"><button type="button" data-href="#text24-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text24-1"><div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>时间轴样式</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-07-24 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases">2.6.6 -&gt; 3.0</a></p></div></div><div class='timeline-item-content'><ol><li>如果有 <code>hexo-lazyload-image</code> 插件，需要删除并重新安装最新版本，设置 <code>lazyload.isSPA: true</code>。</li><li>2.x 版本的 css 和 js 不适用于 3.x 版本，如果使用了 <code>use_cdn: true</code> 则需要删除。</li><li>2.x 版本的 fancybox 标签在 3.x 版本中被重命名为 gallery 。</li><li>2.x 版本的置顶 <code>top: true</code> 改为了 <code>pin: true</code>，并且同样适用于 <code>layout: page</code> 的页面。</li><li>如果使用了 <code>hexo-offline</code> 插件，建议卸载，3.0 版本默认开启了 pjax 服务。</li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-05-15 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6">2.6.3 -&gt; 2.6.6</a></p></div></div><div class='timeline-item-content'><p>不需要额外处理。</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-04-20 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3">2.6.2 -&gt; 2.6.3</a></p></div></div><div class='timeline-item-content'><ol><li>全局搜索 <code>seotitle</code> 并替换为 <code>seo_title</code>。</li><li>group 组件的索引规则有变，使用 group 组件的文章内，<code>group: group_name</code> 对应的组件名必须是 <code>group_name</code>。</li><li>group 组件的列表名优先显示文章的 <code>short_title</code> 其次是 <code>title</code>。</li></ol></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text24-2"><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">timeline</span> 时间线标题（可选）[,color] %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!-- timeline 时间节点（标题） --&gt;</span></span></span><br><span class="line"><span class="language-xml">正文内容</span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!-- endtimeline --&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!-- timeline 时间节点（标题） --&gt;</span></span></span><br><span class="line"><span class="language-xml">正文内容</span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!-- endtimeline --&gt;</span></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endtimeline</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!-- tab 参数配置 --&gt;</span></span></span><br><span class="line"><span class="language-xml">|参数|解释|</span></span><br><span class="line"><span class="language-xml">|--|--|</span></span><br><span class="line"><span class="language-xml">|title|标题/时间线|</span></span><br><span class="line"><span class="language-xml">|color|</span><span class="template-tag">&#123;% <span class="name">span</span> yello,timeline%&#125;</span><span class="language-xml"> 颜色：default(留空)/blue/pink/red/purple/orange/green|</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text24-3"><div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>时间轴样式</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-07-24 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases">2.6.6 -&gt; 3.0</a></p></div></div><div class='timeline-item-content'><ol><li>如果有 <code>hexo-lazyload-image</code> 插件，需要删除并重新安装最新版本，设置 <code>lazyload.isSPA: true</code>。</li><li>2.x 版本的 css 和 js 不适用于 3.x 版本，如果使用了 <code>use_cdn: true</code> 则需要删除。</li><li>2.x 版本的 fancybox 标签在 3.x 版本中被重命名为 gallery 。</li><li>2.x 版本的置顶 <code>top: true</code> 改为了 <code>pin: true</code>，并且同样适用于 <code>layout: page</code> 的页面。</li><li>如果使用了 <code>hexo-offline</code> 插件，建议卸载，3.0 版本默认开启了 pjax 服务。</li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-05-15 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6">2.6.3 -&gt; 2.6.6</a></p></div></div><div class='timeline-item-content'><p>不需要额外处理。</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-04-20 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3">2.6.2 -&gt; 2.6.3</a></p></div></div><div class='timeline-item-content'><ol><li>全局搜索 <code>seotitle</code> 并替换为 <code>seo_title</code>。</li><li>group 组件的索引规则有变，使用 group 组件的文章内，<code>group: group_name</code> 对应的组件名必须是 <code>group_name</code>。</li><li>group 组件的列表名优先显示文章的 <code>short_title</code> 其次是 <code>title</code>。</li></ol></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="网站卡片-sites"><a href="#网站卡片-sites" class="headerlink" title="网站卡片 sites"></a>网站卡片 sites</h2><div class="tabs" id="text25"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text25-1">样例预览</button></li><li class="tab"><button type="button" data-href="#text25-2">标签语法</button></li><li class="tab"><button type="button" data-href="#text25-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text25-1"><div class="site-card-group"><a class="site-card" href="https://xaoxuu.com"><div class="img"><img src="https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png"/><span class="title">xaoxuu</span><span class="desc">简约风格</span></div></a><a class="site-card" href="https://inkss.cn"><div class="img"><img src="https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg"/><span class="title">inkss</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://blog.mhuig.top"><div class="img"><img src="https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png"/><span class="title">MHuiG</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://colsrch.top"><div class="img"><img src="https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg"/><span class="title">Colsrch</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://linhk1606.github.io"><div class="img"><img src="https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png"/></div><div class="info"><img src="https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png"/><span class="title">Linhk1606</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text25-2"><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site 标题, <span class="attribute">url</span>=链接, <span class="attribute">screenshot</span>=截图链接, <span class="attribute">avatar</span>=头像链接（可选）, <span class="attribute">description</span>=描述（可选） %&#125;</span><br><span class="line">&#123;% site 标题, <span class="attribute">url</span>=链接, <span class="attribute">screenshot</span>=截图链接, <span class="attribute">avatar</span>=头像链接（可选）, <span class="attribute">description</span>=描述（可选） %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text25-3"><figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;%</span> <span class="name">sitegroup</span> <span class="template-tag">%&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%</span> <span class="name">site</span> xaoxuu, <span class="name">url</span>=https://xaoxuu.com, screenshot=https://i.loli.net/<span class="number">2020</span>/<span class="number">08</span>/<span class="number">21</span>/VuSwWZ<span class="number">1</span>xAeUHEBC.jpg, avatar=https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png, description=简约风格 <span class="template-tag">%&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%</span> <span class="name">site</span> inkss, <span class="name">url</span>=https://inkss.cn, screenshot=https://i.loli.net/<span class="number">2020</span>/<span class="number">08</span>/<span class="number">21</span>/Vzbu<span class="number">3</span>i<span class="number">8</span>fXs<span class="number">6</span>Nh<span class="number">5</span>Y.jpg, avatar=https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg, description=这是一段关于这个网站的描述文字 <span class="template-tag">%&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%</span> <span class="name">site</span> MHuiG, <span class="name">url</span>=https://blog.mhuig.top, screenshot=https://i.loli.net/<span class="number">2020</span>/<span class="number">08</span>/<span class="number">22</span>/d<span class="number">24</span>zpPlhLYWX<span class="number">6</span>D<span class="number">1</span>.png, avatar=https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png, description=这是一段关于这个网站的描述文字 <span class="template-tag">%&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%</span> <span class="name">site</span> Colsrch, <span class="name">url</span>=https://colsrch.top, screenshot=https://i.loli.net/<span class="number">2020</span>/<span class="number">08</span>/<span class="number">22</span>/dFRWXm<span class="number">52</span>OVu<span class="number">8</span>qfK.png, avatar=https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg, description=这是一段关于这个网站的描述文字 <span class="template-tag">%&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%</span> <span class="name">site</span> Linhk<span class="number">1606</span>, <span class="name">url</span>=https://linhk<span class="number">1606</span>.github.io, screenshot=https://i.loli.net/<span class="number">2020</span>/<span class="number">08</span>/<span class="number">21</span>/<span class="number">3</span>PmGLCKicnfow<span class="number">1</span>x.png, avatar=https://i.loli.net/<span class="number">2020</span>/<span class="number">02</span>/<span class="number">09</span>/PN<span class="number">7</span>I<span class="number">5</span>RJfFtA<span class="number">93</span>r<span class="number">2</span>.png, description=这是一段关于这个网站的描述文字 <span class="template-tag">%&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%</span> <span class="name">endsitegroup</span> <span class="template-tag">%&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="行内图片inlineimage"><a href="#行内图片inlineimage" class="headerlink" title="行内图片inlineimage"></a>行内图片inlineimage</h2><div class="tabs" id="text26"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text26-1">样式预览</button></li><li class="tab"><button type="button" data-href="#text26-2">标签语法</button></li><li class="tab"><button type="button" data-href="#text26-3">参数配置</button></li><li class="tab"><button type="button" data-href="#text26-4">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text26-1"><p>这是 <img no-lazy class="inline" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/0000.gif" style="height:1.5em"/> 一段话。</p><p>这又是 <img no-lazy class="inline" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/5150.gif" style="height:40px;"/> 一段话。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text26-2"><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">inlineimage</span> 图片链接, height=高度（可选） %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text26-3"><p>高度：height=20px（可选）</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text26-4"><figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml">这是 </span><span class="template-tag">&#123;%</span> <span class="name">inlineimage</span> https://img<span class="number">95</span>.<span class="number">699</span>pic.com/element/<span class="number">40107</span>/<span class="number">1479</span>.png_<span class="number">860</span>.png <span class="template-tag">%&#125;</span><span class="language-xml"> 一段话。</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">这又是 </span><span class="template-tag">&#123;%</span> <span class="name">inlineimage</span> https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/<span class="number">5150</span>.gif, height=<span class="number">40</span>px <span class="template-tag">%&#125;</span><span class="language-xml"> 一段话。</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="单张图片-image"><a href="#单张图片-image" class="headerlink" title="单张图片 image"></a>单张图片 image</h2><div class="tabs" id="text27"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text27-1">样式预览</button></li><li class="tab"><button type="button" data-href="#text27-2">标签语法</button></li><li class="tab"><button type="button" data-href="#text27-3">参数配置</button></li><li class="tab"><button type="button" data-href="#text27-4">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text27-1"><ol><li>添加描述：<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="每天下课回宿舍的路，没有什么故事。"/></div><span class="image-caption">每天下课回宿舍的路，没有什么故事。</span></div></li><li>指定宽度：<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" style="width:400px;"/></div></div></li><li>指定宽度并添加描述：<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="每天下课回宿舍的路，没有什么故事。" style="width:400px;"/></div><span class="image-caption">每天下课回宿舍的路，没有什么故事。</span></div></li><li>设置占位背景色：<div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="优化不同宽度浏览的观感" style="width:400px;"/></div><span class="image-caption">优化不同宽度浏览的观感</span></div></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text27-2"><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image 链接, <span class="attribute">width</span>=宽度（可选）, <span class="attribute">height</span>=高度（可选）, <span class="attribute">alt</span>=描述（可选）, <span class="attribute">bg</span>=占位颜色（可选） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text27-3"><ol><li>图片宽度高度：width=300px, height=32px</li><li>图片描述：alt=图片描述（butterfly需要在主题配置文件中开启图片描述）</li><li>占位背景色：bg=#f2f2f2</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text27-4"><ol><li>添加描述：<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https:<span class="regexp">//</span>cdn.jsdelivr.net<span class="regexp">/gh/</span>volantis-x<span class="regexp">/cdn-wallpaper-minimalist/</span><span class="number">2020</span>/<span class="number">025</span>.jpg, alt=每天下课回宿舍的路，没有什么故事。 %&#125;</span><br></pre></td></tr></table></figure></li><li>指定宽度：<figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;%</span> <span class="name">image</span> https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/<span class="number">2020</span>/<span class="number">025</span>.jpg, width=<span class="number">400</span>px <span class="template-tag">%&#125;</span></span><br></pre></td></tr></table></figure></li><li>指定宽度并添加描述：<figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;%</span> <span class="name">image</span> https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/<span class="number">2020</span>/<span class="number">025</span>.jpg, width=<span class="number">400</span>px, alt=每天下课回宿舍的路，没有什么故事。 <span class="template-tag">%&#125;</span></span><br></pre></td></tr></table></figure></li><li>设置占位背景色：<figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;%</span> <span class="name">image</span> https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/<span class="number">2020</span>/<span class="number">025</span>.jpg, width=<span class="number">400</span>px, bg=#<span class="number">1</span>D<span class="number">0</span>C<span class="number">04</span>, alt=优化不同宽度浏览的观感 <span class="template-tag">%&#125;</span></span><br></pre></td></tr></table></figure></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>   <h2 id="音频audio"><a href="#音频audio" class="headerlink" title="音频audio"></a>音频audio</h2><div class="tabs" id="text28"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text28-1">样式预览</button></li><li class="tab"><button type="button" data-href="#text28-2">标签语法</button></li><li class="tab"><button type="button" data-href="#text28-3">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text28-1"><div class="audio"><audio controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text28-2"><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">audio</span> 链接 %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text28-3"><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio https:<span class="regexp">//gi</span>thub.com<span class="regexp">/volantis-x/</span>volantis-docs<span class="regexp">/releases/</span>download<span class="regexp">/assets/</span>Lumia1020.mp3 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="折叠框folding"><a href="#折叠框folding" class="headerlink" title="折叠框folding"></a>折叠框folding</h2><div class="tabs" id="text29"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text29-1">样式预览</button></li><li class="tab"><button type="button" data-href="#text29-2">标签语法</button></li><li class="tab"><button type="button" data-href="#text29-3">参数配置</button></li><li class="tab"><button type="button" data-href="#text29-4">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text29-1"><details class="folding-tag" ><summary> 查看图片测试 </summary>              <div class='content'>              <p><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg" alt=""></p>              </div>            </details><details class="folding-tag" cyan open><summary> 查看默认打开的折叠框 </summary>              <div class='content'>              <p>这是一个默认打开的折叠框。</p>              </div>            </details><details class="folding-tag" green><summary> 查看代码测试 </summary>              <div class='content'>              <p>假装这里有代码块（代码块没法嵌套代码块）</p>              </div>            </details><details class="folding-tag" yellow><summary> 查看列表测试 </summary>              <div class='content'>              <ul><li>haha</li><li>hehe</li></ul>              </div>            </details><details class="folding-tag" red><summary> 查看嵌套测试 </summary>              <div class='content'>              <details class="folding-tag" blue><summary> 查看嵌套测试2 </summary>              <div class='content'>              <details class="folding-tag" ><summary> 查看嵌套测试3 </summary>              <div class='content'>              <p>hahaha <span><img src='https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png' style='height:24px'></span></p>              </div>            </details>              </div>            </details>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text29-2"><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="symbol">%</span> folding 参数（可选）, 标题 <span class="symbol">%</span>&#125;</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-<span class="number">48B4</span>-<span class="number">80B5</span>-4E86E165259E.jpeg)</span><br><span class="line">&#123;<span class="symbol">%</span> endfolding <span class="symbol">%</span>&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text29-3"><ol><li>颜色：<span class='p cyan'>cyan</span>, <span class='p green'>green</span>, <span class='p yello'>yello</span>, <span class='p red'>red</span>, <span class='p blue'>blue</span></li><li>标题：标题</li><li>打开状态：open</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text29-4"><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">folding</span> 查看图片测试 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg)</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endfolding</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">folding</span> cyan open, 查看默认打开的折叠框 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">这是一个默认打开的折叠框。</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endfolding</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">folding</span> green, 查看代码测试 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">假装这里有代码块（代码块没法嵌套代码块）</span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endfolding</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">folding</span> yellow, 查看列表测试 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">- haha</span></span><br><span class="line"><span class="language-xml">- hehe</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endfolding</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">folding</span> red, 查看嵌套测试 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">folding</span> blue, 查看嵌套测试2 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">folding</span> 查看嵌套测试3 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">hahaha <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png&#x27;</span> <span class="attr">style</span>=<span class="string">&#x27;height:24px&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endfolding</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endfolding</span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endfolding</span> %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="诗词标签poem"><a href="#诗词标签poem" class="headerlink" title="诗词标签poem"></a>诗词标签poem</h2><div class="tabs" id="text30"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text30-1">样式预览</button></li><li class="tab"><button type="button" data-href="#text30-2">标签语法</button></li><li class="tab"><button type="button" data-href="#text30-3">参数配置</button></li><li class="tab"><button type="button" data-href="#text30-4">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text30-1"><div class='poem'><div class='poem-title'>水调歌头</div><div class='poem-author'>苏轼</div><p>丙辰中秋，欢饮达旦，大醉，作此篇，兼怀子由。<br>明月几时有？把酒问青天。<br>不知天上宫阙，今夕是何年？<br>我欲乘风归去，又恐琼楼玉宇，高处不胜寒。<br>起舞弄清影，何似在人间？</p><p>转朱阁，低绮户，照无眠。<br>不应有恨，何事长向别时圆？<br>人有悲欢离合，月有阴晴圆缺，此事古难全。<br>但愿人长久，千里共婵娟。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text30-2"><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">poem</span> [title],[author] %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">诗词内容</span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endpoem</span> %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text30-3"><ol><li>标题：title</li><li>作者：author</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text30-4"><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">poem</span> 水调歌头,苏轼 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">丙辰中秋，欢饮达旦，大醉，作此篇，兼怀子由。</span></span><br><span class="line"><span class="language-xml">明月几时有？把酒问青天。</span></span><br><span class="line"><span class="language-xml">不知天上宫阙，今夕是何年？</span></span><br><span class="line"><span class="language-xml">我欲乘风归去，又恐琼楼玉宇，高处不胜寒。</span></span><br><span class="line"><span class="language-xml">起舞弄清影，何似在人间？</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">转朱阁，低绮户，照无眠。</span></span><br><span class="line"><span class="language-xml">不应有恨，何事长向别时圆？</span></span><br><span class="line"><span class="language-xml">人有悲欢离合，月有阴晴圆缺，此事古难全。</span></span><br><span class="line"><span class="language-xml">但愿人长久，千里共婵娟。</span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endpoem</span> %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="阿里图标"><a href="#阿里图标" class="headerlink" title="阿里图标"></a>阿里图标</h2><p>本标签的图标需要自己先从阿里图标库里引入到项目里</p><div class="tabs" id="text31"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text31-1">样式预览</button></li><li class="tab"><button type="button" data-href="#text31-2">标签语法</button></li><li class="tab"><button type="button" data-href="#text31-3">参数配置</button></li><li class="tab"><button type="button" data-href="#text31-4">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text31-1"><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-dongtai1 "></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-dongtai"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-shipin_niunai"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-niunai "></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-icon-a-homezhuyefangzijia "></use></svg><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text31-2"><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% <span class="attribute">icon</span> <span class="selector-attr">[icon-xxxx]</span>,<span class="selector-attr">[font-size]</span> %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text31-3"><ol><li>icon-xxxx：表示图标font-class</li><li>font-size：表示图标大小，直接填写数字即可，单位为em。图标大小默认值为1em。</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text31-4"><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% <span class="attribute">icon</span> <span class="attribute">icon</span>-dongtai1 ,<span class="number">4%</span>&#125;</span><br><span class="line">&#123;% <span class="attribute">icon</span> <span class="attribute">icon</span>-dongtai ,<span class="number">4%</span>&#125;</span><br><span class="line">&#123;% <span class="attribute">icon</span> <span class="attribute">icon</span>-shipin_niunai,<span class="number">4</span> %&#125;</span><br><span class="line">&#123;% <span class="attribute">icon</span> <span class="attribute">icon</span>-niunai ,<span class="number">4%</span>&#125;</span><br><span class="line">&#123;% <span class="attribute">icon</span> <span class="attribute">icon</span>-<span class="attribute">icon</span>-<span class="selector-tag">a</span>-homezhuyefangzijia,<span class="number">4</span> %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="进度条"><a href="#进度条" class="headerlink" title="进度条"></a>进度条</h2><div class="tabs" id="text32"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text32-1">样式预览</button></li><li class="tab"><button type="button" data-href="#text32-2">标签语法</button></li><li class="tab"><button type="button" data-href="#text32-3">参数配置</button></li><li class="tab"><button type="button" data-href="#text32-4">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text32-1"><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-red"  style="width: 10%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-yellow"  style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-green"  style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-cyan"  style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-blue"  style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-gray"  style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text32-2"><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% progress <span class="selector-attr">[width]</span> <span class="selector-attr">[color]</span> <span class="selector-attr">[text]</span> %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text32-3"><ol><li>width：表示进度条宽度，直接填写数字即可，单位为%。进度条宽度默认值为100%。</li><li>color：表示进度条颜色，可选值为red、yellow、green、cyan、blue、gray。进度条颜色默认值为blue。</li><li>text：表示进度条文字。</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text32-4"><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">progress</span> 10 red 进度条样式预览 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">progress</span> 30 yellow 进度条样式预览 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">progress</span> 50 green 进度条样式预览 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">progress</span> 70 cyan 进度条样式预览 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">progress</span> 90 blue 进度条样式预览 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">progress</span> 100 gray 进度条样式预览 %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="气泡注释"><a href="#气泡注释" class="headerlink" title="气泡注释"></a>气泡注释</h2><div class="tabs" id="text33"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text33-1">样式预览</button></li><li class="tab"><button type="button" data-href="#text33-2">标签语法</button></li><li class="tab"><button type="button" data-href="#text33-3">参数配置</button></li><li class="tab"><button type="button" data-href="#text33-4">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text33-1"><p>最近我学到了不少新玩意儿（虽然对很多大佬来说这些已经是旧技术了），比如CSS的<span class="bubble-content">兄弟相邻选择器</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#71a4e3;">例如 h1 + p {margin-top:50px;}</span>&lt;/span&gt;，<span class="bubble-content">flex布局</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#ec5830;">Flex 是 Flexible Box 的缩写，意为弹性布局”，用来为盒状模型提供最大的灵活性”</span>&lt;/span&gt;，<span class="bubble-content">transform变换</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#1db675;">transform 属性向元素应用 2D 或 3D 转换。该属性允许我们对元素进行旋转、缩放、移动或倾斜。</span>&lt;/span&gt;，animation的<span class="bubble-content">贝塞尔速度曲线</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#de4489;">贝塞尔曲线(Bézier curve)，又称贝兹曲线或贝济埃曲线，是应用于二维图形应用程序的数学曲线。一般的矢量图形软件通过它来精确画出曲线，贝兹曲线由线段与节点组成，节点是可拖动的支点，线段像可伸缩的皮筋</span>&lt;/span&gt;写法，还有今天刚看到的<span class="bubble-content">clip-path</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#868fd7;">clip-path属性使用裁剪方式创建元素的可显示区域。区域内的部分显示，区域外的隐藏。</span>&lt;/span&gt;属性。这些对我来说很新颖的概念狠狠的冲击着我以前积累起来的设计思路。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text33-2"><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bubble <span class="selector-attr">[content]</span> , <span class="selector-attr">[notation]</span> ,<span class="selector-attr">[background-color]</span> %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text33-3"><ol><li>content：表示气泡注释内容。</li><li>notation：表示气泡注释文字。</li><li>background-color：表示气泡注释背景颜色，可选值为red、yellow、green、cyan、blue、gray。气泡注释背景颜色默认值为blue。</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text33-4"><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">最近我学到了不少新玩意儿（虽然对很多大佬来说这些已经是旧技术了），比如CSS的&#123;% bubble 兄弟相邻选择器,<span class="string">&quot;例如 h1 + p &#123;margin-top:50px;&#125;&quot;</span> %&#125;，&#123;% bubble flex布局,<span class="string">&quot;Flex 是 Flexible Box 的缩写，意为&quot;</span>弹性布局<span class="string">&quot;，用来为盒状模型提供最大的灵活性&quot;</span>,<span class="string">&quot;#ec5830&quot;</span> %&#125;，&#123;% bubble transform变换,<span class="string">&quot;transform 属性向元素应用 2D 或 3D 转换。该属性允许我们对元素进行旋转、缩放、移动或倾斜。&quot;</span>,<span class="string">&quot;#1db675&quot;</span> %&#125;，animation的&#123;% bubble 贝塞尔速度曲线,<span class="string">&quot;贝塞尔曲线(Bézier curve)，又称贝兹曲线或贝济埃曲线，是应用于二维图形应用程序的数学曲线。一般的矢量图形软件通过它来精确画出曲线，贝兹曲线由线段与节点组成，节点是可拖动的支点，线段像可伸缩的皮筋&quot;</span>,<span class="string">&quot;#de4489&quot;</span> %&#125;写法，还有今天刚看到的&#123;% bubble <span class="keyword">clip</span>-path,<span class="string">&quot;clip-path属性使用裁剪方式创建元素的可显示区域。区域内的部分显示，区域外的隐藏。&quot;</span>,<span class="string">&quot;#868fd7&quot;</span> %&#125;属性。这些对我来说很新颖的概念狠狠的冲击着我以前积累起来的设计思路。</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul><li>旋转相册</li><li>上标标签 tip</li><li>动态标签 anima</li><li>链接卡片 link</li><li>按钮 btns</li><li>github卡片 ghcard</li><li>github徽标 ghbdage</li><li>视频 video</li><li>相册 gallery</li><li>特效标签 wow</li><li>注释</li></ul>]]></content>
      
      
      <categories>
          
          <category> markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数学公式测试</title>
      <link href="/2024/01/15/%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E6%B5%8B%E8%AF%95/"/>
      <url>/2024/01/15/%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E6%B5%8B%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<h1 id="数学公式测试"><a href="#数学公式测试" class="headerlink" title="数学公式测试"></a>数学公式测试</h1><p>本文用于测试Hexo Butterfly主题的数学公式渲染功能。</p><h2 id="行内公式"><a href="#行内公式" class="headerlink" title="行内公式"></a>行内公式</h2><p>这是一个行内公式：$E = mc^2$，爱因斯坦的质能方程。</p><p>另一个行内公式：$\int_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi}$</p><h2 id="块级公式"><a href="#块级公式" class="headerlink" title="块级公式"></a>块级公式</h2><h3 id="二次方程求根公式"><a href="#二次方程求根公式" class="headerlink" title="二次方程求根公式"></a>二次方程求根公式</h3><script type="math/tex; mode=display">x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}</script><h3 id="欧拉公式"><a href="#欧拉公式" class="headerlink" title="欧拉公式"></a>欧拉公式</h3><script type="math/tex; mode=display">e^{i\pi} + 1 = 0</script><h3 id="泰勒级数"><a href="#泰勒级数" class="headerlink" title="泰勒级数"></a>泰勒级数</h3><script type="math/tex; mode=display">f(x) = \sum_{n=0}^{\infty} \frac{f^{(n)}(a)}{n!}(x-a)^n</script><h3 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h3><script type="math/tex; mode=display">\begin{pmatrix}a & b \\c & d\end{pmatrix}\begin{pmatrix}x \\y\end{pmatrix}=\begin{pmatrix}ax + by \\cx + dy\end{pmatrix}</script><h3 id="积分"><a href="#积分" class="headerlink" title="积分"></a>积分</h3><script type="math/tex; mode=display">\int_0^{\infty} \frac{\sin x}{x} dx = \frac{\pi}{2}</script><h3 id="极限"><a href="#极限" class="headerlink" title="极限"></a>极限</h3><script type="math/tex; mode=display">\lim_{x \to 0} \frac{\sin x}{x} = 1</script><h3 id="偏微分方程"><a href="#偏微分方程" class="headerlink" title="偏微分方程"></a>偏微分方程</h3><script type="math/tex; mode=display">\frac{\partial^2 u}{\partial t^2} = c^2 \nabla^2 u</script><h3 id="概率分布"><a href="#概率分布" class="headerlink" title="概率分布"></a>概率分布</h3><script type="math/tex; mode=display">P(X = k) = \binom{n}{k} p^k (1-p)^{n-k}</script><h3 id="傅里叶变换"><a href="#傅里叶变换" class="headerlink" title="傅里叶变换"></a>傅里叶变换</h3><script type="math/tex; mode=display">\mathcal{F}\{f(t)\} = \int_{-\infty}^{\infty} f(t) e^{-2\pi i \xi t} dt</script><h2 id="复杂公式示例"><a href="#复杂公式示例" class="headerlink" title="复杂公式示例"></a>复杂公式示例</h2><h3 id="薛定谔方程"><a href="#薛定谔方程" class="headerlink" title="薛定谔方程"></a>薛定谔方程</h3><script type="math/tex; mode=display">i\hbar \frac{\partial}{\partial t} \Psi(\mathbf{r},t) = \hat{H} \Psi(\mathbf{r},t)</script><h3 id="麦克斯韦方程组"><a href="#麦克斯韦方程组" class="headerlink" title="麦克斯韦方程组"></a>麦克斯韦方程组</h3><script type="math/tex; mode=display">\nabla \cdot \mathbf{E} = \frac{\rho}{\epsilon_0}</script><script type="math/tex; mode=display">\nabla \cdot \mathbf{B} = 0</script><script type="math/tex; mode=display">\nabla \times \mathbf{E} = -\frac{\partial \mathbf{B}}{\partial t}</script><script type="math/tex; mode=display">\nabla \times \mathbf{B} = \mu_0 \mathbf{J} + \mu_0 \epsilon_0 \frac{\partial \mathbf{E}}{\partial t}</script><h2 id="测试总结"><a href="#测试总结" class="headerlink" title="测试总结"></a>测试总结</h2><p>如果以上所有数学公式都能正确显示，说明数学公式功能配置成功！</p><ul><li>行内公式使用 <script type="math/tex">...</script> 语法</li><li>块级公式使用 $$$…$$$ 语法</li><li>支持复杂的数学符号和公式</li><li>支持矩阵、积分、极限等高级数学表达式</li></ul>]]></content>
      
      
      <categories>
          
          <category> 测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数学 </tag>
            
            <tag> 测试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2016/03/30/%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9%E4%BF%AE%E6%94%B9/"/>
      <url>/2016/03/30/%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9%E4%BF%AE%E6%94%B9/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">  <script id="hbeData" type="hbeData" data-hmacdigest="81ceb6847c951474338561ef60ff090ef2e01c504f3e9f586411798219f44900">8857952509ef9895f61625fe2d594ef3efb4a280fc899c2f56824f3887f2ae4b72ac71c2a8d02c2fa90ec837dd6327e8b0ddefd07cb4e047011173580085ea49cd30e8c890d1502b394106747847686df74c23cd6836d8950a77af2f112efb39aadde7fc4f568604d97af19da4a21bbff654a09e0a875e9838c18b0ad6c981fecaaad47b3f9e3cef83c3f57a4c8054455b9ba2271673d11df6eb8a83b5ec5156f45647a7499ba4fa1cb9729098f339472bb9ba996d178c095099fe1337d90234f3dc8d434a21536e082663466bbece0ace3c70c264e38f91ab5f4416a42b67d31a2eb792f1007feb11ad08c9ac7e62fc551a45b7ba75c774270ccf3512e5b4526cee15ac5e2974e2f1e18f51940e28c50d06f86b715321ef4736df542d1e66e5360e0e972d75d0cd2486ed15d3d0e88cf134a8fc486b648c91c8ee06bcccf3ef23ad2ecd6a06c78e45d9ac51dce0acbf19fdd19423c0808c9105cb1f092766b18bc7c0e8b137697ab69577d75bd4fad855a6cad0b5b5ad1c812cfb0f28b2fd72bcb98ff7292ca8d2e431f4985e86e5a0e1a8fed74ec30634689384c11067055068206439b010825c53b3ef46c0fc0474be03c774a7b712fd0cf88570ed0f384818800428de423c42c6d53b7d41eb5a76b145407ce8b959d25b7f4d950c52fd74173b6064940e0e54a953dbee78b3eb1b1711b11addbdaf6805b17bdcf52cc2d8953b24b7f652576c4945dafa74b689d7b052e1fee0dd46f14125dabe95e7e5418ff10782f010d80c0d3a0135bdb3828666e07e5ea8e2fcfcddd001da17036365ffe4f6c70f1928deef86885921b01bbdff4a2f592221b1fce2ea54c2ed4877643b6e3e1cb8923deae3e8bf398c06f06db10b0357c098ab77a20bc9a52067fadf69629c038bb65938dda9e3d3289cbfea30c663a92ad965f19657e24c6f7aefa9a53490f3eec754b038b0bf7403001ddfef34db54ad0453dec66c9ea5edb67dc8a1beae9b1234da7ba62c84b8f1ff0d0fc2b6b58f89c1dd7ffecc56c4d8083350d5be8a0c7e2844a504fb3f4c595e8faead23c637553c0640f5ffb5e9ea451ce36c63f42c3ac306da789f3e0d677f609beda36f5c1a1be69a8b7359650820410fc5efd900a4d8aee2c7958de817a61c8b2e14cb8e67cf71f8762af81b25ce1584adf6ffd7607af71617591cabfac1259bd4e61866f1e696a94c72200840dba34d9815498901ed5bde89f475c2efa4756ec0cd9756be5862f977ccf5f1197b0b207ff8151f22e8c2c974b9f413687dfe6fd66c1d549fdcb9172d122fccfd8d9145284dd6415b0b8a676d889c56ffab252a5196b5f3ecc63654a157c72e9c7db0ee374e63a0b12e03c64d2f399da4d36e3a77b2c16a28522d30d1982cf025dead3715d8a78d18f784f8f33cf29c6dfc8151d6a2e07eac35ecd2d59fca890ea8aa4d8dd48fef9a32f219636744d2e3f4a238e57a1fddedf7e0370a273f31f7fd402483ac8ca3d536257d3132463740209173709c4f8f556e10f77b4501269d07e96e6fa4de2ee85d76e84e62cff4ad73c7604a0f9e0c5dec7ae935e6cd4425483cc7e98ea9670ec19321b819d890066437acafe65134ad7d56feaf29bfde226b04348c6f545e65db63590b3ec9ecc08bea79b5689b2958551fe954acdc126a2e5eb7a2084016b516440c20492e31af186244963fa60c01eeab97a82662d43677ab44e2b7372afb3f40d94966547139718b76a96158b4edf01145e2e44b41540cc23c4030d8746899074a6d90837367b047e0178212a82bece2bbc8f526165635f9045b8680b081faa2c758464a520993b3ce2a761dbdee8e977feb7f832070573db501875174d5659d66a776cb85ba865cf100eaa6ac03335ba674d8c75f4bb5e0b5f1c816bcfdfa70b9563048790106ef58b3663a548620d73e68e60d62012148098c92e4f0c26524a6a1078f64c2b7f9988c5ced6336f79e1116310c3cb1db74d3d740ad165bd68753734a5a7fcf9d967f318fb661a2527b98f1bb5f18051174c89aa6728198665c22b2a6cb359fce2cc25768ffa0f23842c2014f9675915dc113acf9d4ba77d1abde92bcebcbbe98069c25ba1cf82ef0496579052ece09b19503b7d689a6afa5206235e95e6e4f200dad55ac768d8e56c188e3bcfca734763168485683d04e589f60fdef94f9af8272603d6d89531af0e3030bf886f4fc1d94ad5eca9faadce7fc1701a788b02c2a9625a5173fe4e164ab59c45ee2b174eff42b41b93154fe721fb396de7c2e9bfa03c8bf328d9d29cd556fd6c03f3f5fba3f33b2004b27813225280af32567dea5ebb139fe352c0f7745811198cf089b70a6a902c63a75ac9b07b35bdeb4fe72e9f2e4a2c72a0ad76f0f8d92c12f9346876fbcedf74b1408e0f4df3654620dd1e0eddb92ba498185ec479cb346293f60c4929f39bcb6445a9b0d3f7e9d0a216ad8f5074c99110a4bd7bc1354445b8e2818222970b86d8bf43b630d7ec8c416203820ff27af94fb154004a465bf3a51b979170e82fac56d9fac68f221f4e12c8f79a0247e16bd20c6ec1297a9929415d20876fcbe7d7dbd20152e79fa17193799a28931ccfb60fd5e41f87f4c5bcffa9c78b8effeac8f63325b14b1fb9ba35254f93d3731504e3a60c28867dca8abfe5100549c9115dbca9dc7af660bd01ec4faa4c46215b74a0504ed7a31a2d721e628f963442cb21115722d71a5d54d01bbbf3bb6a199b6baacc3dd80957555ccb85d7fc891cebf47330cd6c7eaa08f7965a5f086e898de78cfc0cfd16d0bbfb08bf052558906452ad3199ee14db1034c7de27b28e9ab5acdf84c555b86d4d171adde28e4f4e6b814482d33f288c5dc58b4d4105f88dab4efa67d30bdb4acef546267a9082219a517a5aedb167e1407d1244c7efd9a32b6f0bc3f946bbbb8446beec5cba7a33f3ca458eadfb1cb6f2520a65156ce9b313d1cfe760fc08e5ac94622ed8c0c4afaa69cd49556d03f861a78b942ec7bea0de2e3abaf12ddfc36136bbd6a43b3c601cb50ac64c4cfdb636a1e267cf4ae04344e1dddd0f38a11fbc922f15db100293d02cca2bda4414d9a203ff51e597c0be3b3c93a29a3a320c1737264a27f31fafa5f3af77e8b159984aa7e2b5a548da2afa64844ee14b69e4cc94231610d6e9dac182ae0cac69ead04390632f75cea766d7050cb2ff477bc59a03a3304bd37f000115e7f61d3963e480f4e84f2f7993d52e7a0e52bdd84d603ee7056b745c7abab76612a8006fc97fdf782b73aec130cc4301fdbf6fc3d54d3606dba509ac88f6162417753b9b4d2f8d2bf4cfb7d124e4f6a05cdf6b133a0c390427aea60c8c8ea6d1242cc4c73ef6672b8dd6b61ed0e590986435c302e143931ea7fb04345b1f35378fa6a1831973e463d268c4b259238d44e94e89c6da095f60acf5b98a717de85e37610f79b9e7b66c46cc6436a16dad02a5c9aaa8df059fb3676365dea9af130afcc642c6770b54845f0e11a07ce96a1236ddf17e804d2db7653089c621a2081a7213f49f6da52910dffa6e36b0704a7aa9cf461a0bb1cf966b9bc2f0729ddc2ab3d5ca582c241eb09f3a952c98bf0ffbb1a1bb57a1f07965762e94e28a169929fad87632f7a91f83ba3e3f07075893b240db8b3174131c35485ddc3c1181116fb5c877fc8e72cf361a5430ef87d075c306645a790c9c659c32576b5be2161e938566729ab3e93fb6ac94c9e3f958ea3c85c9d91387700abd6039105dd5837128ec7994956862b83e0f1fd1d4bdb7a27fc5ffab8eb6280b08f3951f1f44fc0d44936a5fcd5d42fd03773a48999c2b1ca3cfd615019fc33a7226bc599f1ca96dc113758869e836beeba0652d2da47b74f98b4a3dcfc81a40f9511a6c3d66e3fbaaf914a6e404ca9e28fa4a52bfa47f3c00f501b07f19498f0e5d502c4ff3a51b7ed1f518f71f3d0330de21748887af759e923f5463b7d945e8b95b475475653afdf5f453b5d9ad2da660d953ccba453fed8f9b5ee91bcdc9d1f686ad1f0d3ab1253236a9a2d98aa7a3f0c8fcecab7337f19b5d4d53f23d2a2efc1acebd7d6b07ad2e07050bab3d98c6893d35233452e7ceb8317a0ea2bba986df19eb315fe69be2e8ccbfc8fcd68a868416e77c79d4c4c71f28855674e9123ab67abf057b99a3421f963e1cbaca9e56a8c7a9915daeb2667ec5b9e6d895c6ab07f2e34f4cc39db5aa947108552fcf7669096d1c6376621490f04835783012740bd46fa55824031b526d94cd9cd72d84e7ed394ed06319dd41f109b5f9873d13c585e844c717d59f24d3bc3dc0b51a6f4797a2c0d3f5afbe86c07b36860fdb59e94d4dac05b584d88a055f5e3dcf76044e36684b5bd2e64818b063e9309492a1562cbb207ccafdfb37ad4bd05b040659b347c2cad083305ae72057f2e1c9c2797df958b2826983fb27f9b5591109fbc5c2b90e2e3475b334a79152fb1bd39a8b25b35d0c65517ac5e4779d1e93cc19f6ad9c00a11bb69bdb73748ce3ff3ebd590427128c81284b19d5932ff36fa72ac5417b0cc7ff019eee746c666500c995fb064ebb79ced72211deb427ebcbaf91dbbfbf00834d8a26ed186abc9b1d6fb3e08a47f66755940600b1fc48bd4c6b6243abf1550d98e31fbbf912647935615141e1fff3032478eb7262fa474b83ba8d0d194e48d6e4a51bf6a7b80b6d0b1bfc6c247d6d0d92dd26984bc53282f155c1703d6f2c8ca785dc6287742ea536adbf51d6227a9c19146ad31610308d1849f7e8b3ce9af64e94836308630a2562897342df52145368b87ffa26f27bd1b60468778704be630266835198114f7ef7829d63dd96cc6a0326d9598d57f78a364c9e66a665d43af1943375fbc061fa160d73d252cb3ae3a66f5e8a0c5e262db3a079a4979fbfba6429567f0eafa91b38036461bacb6e7c6e40bf93afbafa7d3b674cd31c0070f1bfdc3746291eb0cd2c65581ab5fb3964816c6d770e91a09b298d9226411794068012cb02dfc5c9167c347f8d2e995e76af6e05e7cf1bef2322ab82ea4250716168c7a9834665663d108d89ea9bcb57956aa524e144de78c495e2352b654d73ded9482c4b3eb1aa4a16de4d53259231d08a77653b9bba83f3b4885a5ab6a503e8bdb2dc2e5eb5dd02a62227b08ae8b2caf19b50cdde46b8bc64fc5d44327bb82a7750b060f13b87ae02aaf3d0dd5010c4cf568ba6fc4a7f5a24d5bb5e7171755c09ba467c7eb5c083f4b439517abc45f6d5d97e3167528dda0eb01820f653cb9fc98f598d1f7367b42d7d4a4e2234fd2b1963472c3d575a12234332c310a97637238f28b9f39084bf0454d3561a65b62832c6f42cf50f1cee1179f24809b9e9308915d0434bc7b7d4053b634092e8f337b2da8aa840c8967566d20df69d30a2957245d90f047ed6e4cb99642ee7bc465a53e454ab9eadf65735c73887fbde66fe122e726e4fe3e7d2f9da4eb89d34af36c886ca3e1303761cf7f5a4c08d51980206194fdb6f04e7699fd2c1a9137002c45b014f90626846cc761450cdfa4599ef02df5eb19fc347b31a6f8386e3aa80014495e8e0253b8186687f19ac4057c0d72d0788f741677a1c57f78402f960f0723dd9204efbff871cc7289de7793a901970a19774a1637002124c02967619de64b4d3fe8f24530c9fcf97d68fcd165d67572c871913afde8067d8d057c806942d1c287ec1a6aae7c58e9f015c724265a33f69995c95a90cf73f3911c71cf2f3d386d2b45e2c49aa0e09ec1c385a5e7c968088f31ab84db4d2de1f7f4cb895f08bdeb5eb75552058ea8a631b75484ad487c08df9e57c58a7f9fc22ee8d192a62ccffe43d37d223ea43064a9b0adbdba42d06673acc2f3bd6d4a0cc89e22a5382627fe311fde95554cdc921a0855da1c4dce9952175c259ef9baaf713d2e0a5bc177740d262767104af8595746995d64457da4c4526f8b3e20cf82262572d02c4161d4c7568cc69876c04a073448c09c51331f9969e98f0b903dd4fea2390c366236f9f6e95c3076c55e0d868acb1d2d5e264801716134e440558c200f0cfea7a98d0969c6caab4852de265bb1abe0fd28c142d54a88cee29866aa3f2aec04ff457f1c6cc9b5a5fb1540c70cd9417a530b784b18dc32d3241a8cbf41ee367629654566aca5246d04f49acf9756b41d57fcf454c65553bf132cdb92ce60a730c93a9d3c9f60a7c49e09bad75205a830063b1ff87f76e101ecb20d0eb35f81dfd2af75a64b06e320d4d486683b017aa8ef4b1beaab323a89ab55d8b430d270b77f2c036f0eb87c138561f92f3fb41aacb40e12dba1201ee006f7be28d50e90b2e7e81244143fc7539183927c2fc06e99069f2d1ecdb21d8a08fb26fce0a22df1f3f9459d2a6ca2f54abb7099b4fddc0021b8557d2765ae554328b47c7728f0a654200d953d96c4697d02f733c0eb4a6781f19fa480e0f624b0c2df30ffc45afdae59fa0c65e006f9547f19621ce9753e2d630d17f30b5ba16ee18b0400981998ef9e48e7f44cbfa5e3cce3bf513ecafe9f9cfed00a2ca6f5841fd61113a03d3e2e8a482a9f3d687eb45678b6fcd03cf065659e584da17e961954757e97bcfcfc6a7341778694380cd9d856e2b62ef5e1d28778650d0177e803e38bb9f50af7cceb0458f54c94cc4736a699c7b3801501274726836585718e32486f32e312d06a910ff56287422f25094ac150aa2f79eeaf45240c935fcc0b58110ef79c22cddfb4fa753236d83f6f82931e33a4ca9603d227d695a81cbd6574834da648fa0aa45d36a8d5580e03be3be68f364f9166d3a4d77675e975e836ea99e9f01f0c144e24d8830914699652508e8a4b791f43fa49e79440f954a85c2f912d33430e9f1b5c77b0601a6cc91c7970d81963cc2cb1cf196fb00560057de3f3bc8650dde8bb9d2c80093d9d1f4536086d0aecab640db9e6838443040044f85f133f45d7b57bbfe85373281e4b75acb4cffcbc6e7080de847743e83c2bd3c02ce788a682b6b96dc9dd65d4254c65fa2f5ffe0f0d89e52ebb89748e6f54997b8dd9c741a9fc201e8e584fdc23c8ddd48ec8fb7ad176baf4e1ea3c504e73c9042c2b6d05bee7a7ae1580b61b381fbf2c8baa8c36b86e2b914c093e6f28413a24e0fb3bcda556597cc792fc237d606429af2fcdf320799c8e168e099e94f862daf1d0d4a779925bcc48ecc2f40f7c37d8aac975bf8018e8f801201fab093aaaab85b85e025149aa03679ac07795e1bc053a9e4a3b1796c8a0765b96196ea1dc538fec7d977cc199b07e8ac712f68b78610ee8cc71125615061360e6799ba3985e15efebd69b4e59742c84ea429f86a1201aa1579878b2f4b2486ed9749f2f930659466fb0fff4b7d936f5a53c7593cf586ac4790c5557b4d7b317951459c3ec2b65973e3176d6ce7506caad526b69876d135113949ad6193d6bf1e0e4a2ab9e578207ac223a4a497eb6b09a513e7cf26e24a98ba2a7a82143ccf309dcdd332490c85446446b3e3522055fc07b90a175a11f1dacf9b11b0ca85c5aefd9e9af1dd83000ff64ec896bf497e742e5e030a6945a91f625db6ff40350226bd1b15f155082fa801c516cfd55d3a2474932f9ce645c810a15e5064e83baef8109f16850dc8a794218bb39f5b6093f8c54803a990766ef55e4563df22b4062903ef7c8a099953d0448ed49151d0873bcfb2baaf67d86603e2fc15fa8284ad4f00aadb5d1eff14d736d81c0551ed6a69293a2ac0fb34f88d6bb13667434d9e30fadc39bc4ab65751b16bbbd1237e46617ce428e5ad23eced38812577420a2627371fd1d3d2e3358f7d362a179533ad441a788472f2fca7b4f1a138d26c4639c09b17cfced6bf30668c58a7c36113ede501fdbafe7bb30cd1de7768388812bf7e0b70ab67ecc44a7d169226e334f6256b5f556e83056c15566c5438cdeefbfe410ce51e46fc1b07b8ccc833ecb401af93eee8b64421c0cbb418dd32876ca0073626f70e5d5c2db9c896fe2fd2e0b48da92713a60670f7ce94ce7353b64bc52360183017cadff9b0f9fb8f55f098b9d3cd6a3d29fa3d847fd87e3563be1b33afbf5ddf401535292805a44c54c44831de9220eed09f620c75132b5caa32d26c261d573aa423a8e9e6877deebd060984d668953fe1988b73db68ac33e73a262ec651fa9c6e76874bbc7f393765bbb29f8ef25b086f12039379963c1407479ba96a838fe01a82ab6d4be8f3046dc719a29007db354a7ae0881b83534448c65132a7ddecf2e3d899446d7f3952d1f71d8afa680410fc63ba6a4f4aa7b54789caa87a809fe08c70315fc5109fec8420c0bf98f1bd0d2d9812dee344e73738738b741308525f1b21a364a0a85f6e7b9d079b084c5e75892e52268739576153c8c7afc8c93d71dda0674a48040e36c10da8c902beefa2c32a3ee1c751627895e4e2af7dc5bdbf6b2a2960fa49015a56e0d1b5285b756c794bd64e9d339fd00498a916edc7758b91e05c0b6d59d9f35ab9ba5f258b705f0d9bcea4b50c77855f3da13d27a7e3f55ecfa8fef6ff22c52bcc2d4ad07aa1e3b325809d578b44580603919b5781d2989ef8b15f5231a3eab320384ce31430f630efcf1ee5487760fb0b3fd8a802d53191a27139a87254e732d377e6371933e2569b60f086fa352f1aa1f1e1a5033b8f2eed2496ca761b7ed4dee325ffb9b30d3ee98618651aa336b6a85498f48bd1b6523762d0ad91d43ba9cbae95d50857ca76a90a921d4930164ff7e750f1b64a9254057ee154e0ac9459416b9aec6db1e1fc3a4a6e70de3ef7c27afdf486a6f8db9ed7943386c34f7c94a8463d60da2567eb02f05a16b9567b0f0b97222a9ee72d19bd288d4e180daeb314a0f6874e29e7e93910d5efe4c898520a58dae2e64f24a00524f98a87c5dc56f6e9b936713c6d0655b4fd1a6292de1ea768e59175996c808fe8778a2e87ca329325b39cf54646abc2fac7de9cf5ed24efaa453b64e2f890b22f432cd7a84f775ad70221a32719ef02059ff148f22582cf2b01594cb465d405601505dc5f79623623dd666862041892751707aea0febe13cdda3bf864dde6a9042a3a30a1a441e05c2a3c0cda1399b3a25bcfa1525d0bc61d107a4ef2a8a3e38c63f40418c8e916b0d7cb2f2e7716612dcb63392adf6c6cbe8b4603acf9b49d34198d42da7ca7cc845f3164570560170e70084aa59db5f045e195cb044bd360eaf89e0bd5e0319c76ac4e8d3debb8c5d88899c0ec761ec6ef8e98620eb790954fe492f67ce3eaa959935c77820fc92d8a57b1f0da9272e6afdcf00522d4e3ed4f532cbd541c8b94eeaa6acd765b950b367200a58822bb754f2c2f093b9a3d025394fb77ceaafed864bef1b9f15695390f877f7e647369e4bbd22d0994800c99725fbe04a501a918144218e5291ad89fc1a682b85494936c27d39c3473a13b71da16ebfc77547c19e04ac12ce331bf5ce3e186e03b21bf911f81e3341c8b66d98a0d6a4fa3db4b6b99972b1a9c52ff445b97739e11c63e107ad8ad0e5ea77f0baad41b68c52d03738b6204d26f7f9e8db01aa399bab39e43ce50ce531cc91260d011536901942bc550b027d6f303124a85ab4914e74c6f31d4588b03f15a5d14af457e114d7311362c9ce3f13c3214d01ff97ed7c9336bd487f1f77b718e373dea08902f3c499af983228edaaf0b9430a0168be708ebea3f03b5796d19920bedcfc3a48f3c1b800faecc001470fac48b32f63de94867bc68145479aae5ebac7af8bb042c990099c84daa205c09bf0a10ca60d3437235c28e5d3432af80976c04e2575a752f7d4f30e3b28e04c066f7af1f7103c8c9936cd6144493bd2377a010d03c04647d790631fb9b9ea132c635d583ec0f1e905fedf09e5cd22bc9ecf73e7215d34bb7758e3ecfa4fe8d3095fe3c9086d48364d2dcecb250d505197ed9916329ffa21f617edd25bf1af08b8a951089f09bbced9f0d8cc4d396d62fe4a69c6ce52ce6efdd365b78cfc2fb43f9e6e699b35605e9cc91e4f0f21755748ca9dbe4bfc1afb14ae307c7c065e4f3ca1d38e5c070faf33f15ffdf678818342130027e86ff59e3bae7c50d895177a631058d8f20498b8c386358e8afff3d08a812650ac5575e7acbe7cb079bd9b1997253fabc86752e8db21f73deca9ae48985a0b5358b9acdff654401acac7d0e89d1ab23db51b3a8404fdbe8b9bf688601f2e168096a26b0cc0b2a04f9617b6be0d9a9a56b6eb15fca81b37b30431e3ed76e669656a9f5edabe6d46c0f67677cc1d18623a2582650e087e85029cc4c99519194b1c49554bcd14935f3283fc18456c91215a5b29825db3414b85bd7406f9a024e84dc2f7269a0a5340ed4edec0801554ea5fb6601e5683120c5335c571a1b872c4a826e4dd357072a1a12f1f8aeafad1150f35f5153a0aa9583375fbbae41b298b6041ea3636fc4dca4bd8fa2797e16940a9cd2979980635605035420725e3f1dc61412219a1e6c67a5435e74ab2a2c55d84765048a936153a7d32da3dc9779ae0c6a08e44afab00264a56b1c25861d28e65ef0762a09bcaf2e9eeada8fc28b8e486818c86a052b73401a235dfec100a695dd171313003003a802da370e115e3bd2fdbe27790edcfbe71f68c850ec6eae939bbc74e29ced69cd574b5a13d67cb67d0f19b78a27bfb07c26f32eef54be0ba765c5a7dcff078da8218746dedbe15b09c68d24a71ee3fccac4c3d16defda2cb73a83c611554ea3248d3221d6bac4150bbe6ae302710520b69041f1c368b67d4a4c583dcc2855ef357a51fd47e74ecc2f2d1e19d3beb299d08f8004ac1d5744dec16ed7709bfad1c27b11d630c946153099b33cba7b8e824021f5164de2f1a37703a264285731ff7ce8a4e6036eacaddd8bf3c5939c30ea0c895c71147c958c3784cc8ddfa4b1d5b0c16a4589f40a4e0d47e6070ecb3d639b7bd72914192ae38ecf226db71d9dc296f6064d14a0fdb0f468b5069ed8bbff5295330c686b99fd96bb2bbc7dc448066d22565a31100b67b38582809a2fa64b8c1e66b02cc8622434dd1e22f31d96bb7f9875b57d015cf1df108b80d7664078613c233a16558f610281371ee3e3018a43a3065e52d1c51f4084056d8ba9906187c7a17246cba1c5d87216579c929cad278324bbcda89d238c7f08c2e6c9e69c4db6d9f8488ff527435d4d1537d28b9ff16772e976adb314d46284b0e86681d8b532adc8df178c1d9430061981a7139046afb12335dcd369850ebfe980edb6da929c3957acc2c3975557cf9b317ce9932da5f62cb95875d6f97e4768480dac766ff2f5363d0cdcc9852fbe03e456faa06ab81c8da41a398ec824a750fd8a120b0d9322b9be048acd94a47137d85171f45a6f6109c39f8576d6650adfd7f80a5ab9ccf0333c240f6c2fa809ae603005bf8b096defe74a4a9db0be33abea1b37c794c6951558249cd223d865076d85aee567ba9b0b2c5e400bc225640b0b313d5ac9141a33c98afbb5a4a3beac9e4bf1c2d8e1199adc2d1e1bc7dac8dfd5cc4122a8e13cd09e84bec321ace12b92c0d11d90669d3e5bcf464bcc3c3861b5a30339f836ef6e859eafe3fc98519f28cef4796a0e1258ecfb8184e591ec2f05f92b21d10ac74661b847888230d5ced48ae141a0591646da2aae19aa4baf77e1f7bcb3a3db8d472d0c529e10ca9aceeb410afbeb6e2d89eb4bae0942b000a4a6e8f66bcbbbe179f3f56eaf5c7508cee57477932eb7017a1881b8ee6a98b1a1182cf9390e3f9b8625d77a7d3d321304f6b153378c949f94aa87ba7665c4eb858a991aced8e343c110f9fdd94dcc18df2f6712127e3d9b25005016a2351fad5a26db77baeabf6f7659a0fde393c251dfb46f879fa328463446635e00d7875e7433bd91a159889cebd311e2967eba0098470444df0d2b8275a27ae649f1ce88eebbdcb8958930162f1cf0a972c5fdd9d2171565ca63d874f2ecc7d01f580ce6b22bcec518ca9b4cd2d82a0a9dbb1076043aacbb87338b52a1237831498cfabb4adba3448cdc333519f70acc0e8b82837999d1c4517789d3ac9321533c79d462643cef9b2e56bde70bb6ec1e39a613de8cd360bffafc1c8f6164ec87ad511a8ad2c58b368207cbdcfe8a1b83da2647184d6851b9b8aaa31ad9e434ad902f95cd3b833a5c0bab03db5a78f4419cfe05fa9008b7d73fed6316fdd2174d97847e68a74aecb50a11ac967a366a2ee7124b99a8172b659fff47ffb6c271993baccca0e695730d0ff402b8473de5b02eebc9526990d0b84adb8c9fcf45fc7396724f8e175e6760c6c5eaa8eb1dc5a98285fd01bf0b08ea8bedad4ff6197e208e579a17c67218729c339ec073ac563c5c6af6c7653e1ac68c11eea2ae8a51b054e6b72330f12784154caeda1308be8c38d8ab16d8661d2f9abd320960aa55d9ea700853dc0c94b8a858d1bb845d0c04061a5400c739d8a5f1e92eea9a4cbd7c7190eb522a747ff7c68d81ddf05462990c37124c86666d25bb24f4a159b6e05614439ececebcb0f6d475c7d5ecf837954704c9ef3d7c021e2ce6561b54347b5f35fe7c953e8b359a00242b18d357eae89df6aea79f515df6e89c0e1bda143e99af0b3c48c37cf006aec8c9269dab29f817be8203569a3b0d81f0314070a5ad9ea5049001dc5215236764e395195303969bb7ba5ac8eceeed0228c1f0f1f46fbcb9ebbf4f6a17cdde7245afb430fcdbda97961cd8bc7a2edd1fe1f952e841df292f3e58c4086cb9345e82bc9913145138570ef15f082de8a1e1ed4c2db5c231a49acdd3320ad73e2a70cde457e7b46d6a5f5d971441610a1a84e807a29a77c2a9005c73aebf3af11a685a9f5464bc2206cc05701f24167d0402f2ac6f75628616da000763421b64a5153047d7bdd780de6612679a06c55048909321101edd202a6b60041c3d97a5e82819ee124cde9a4486b8f860a596ab40a7d3e217adff948f67423c02a378e8a7127dcf7c529c3560de95c4af049c439f558692ce8f34caf7eec8751a11229603612d41d78fab2b9f0d694ccbd5687694e2f1174cd2720c82158d7f7f51c8ae01d79196d9d9cc679f3404e7a2fd8ec026c58d91d74115b07064fe6064e73a8b0371721ceb8dce79d9d624fc9c1a2ebeb9d20feff2336da34d2cf52498978ec2b9b62027d884666bb35ed8dbe7c37c48207bcdece5f5279ac2a45ed4f12eb93c9b3dd8dfb7526d8e59608ebe69f44606bae37dd8b7d0662444de26014d9cdcadde73d3816333afc1c84ab0ead04951eeebcc1b6090ef4a59b09137580dee5e2695875815cfb8c7420e784ffd16c6dbd1212da176619e2def258453b03a79c904c9e91f738a1729c3c720e992b265e21d40eb6088ccb92ade7b71e59adeda1e46a4365b595647efe4b572a2dcadecc492e3430f3959cdffd71e237c7308612b15febf9ea50f168ae8c6ad021c87b2869f9454e5d4f9851e1645230cf857ee14818cf775546145aecf29e3778479e41e352e5a2a3e556e4f536a58c038b9c3ee9cedf77b4ba33448475eac98305af4f87ead272891ba8aa305403cd9be98fd34e7edb104340de4a9e3b38c31c26bf5bef1223d5913cc2ad035f3230fb45cf95d491f15f6a9649250ad2d7927571260abd7c811e4be2057e6b56175e83a7653f503199186442a2ff3d0dff63bc5a91d3e25495245820322ea46618d1bf7730c79eb5a3abd93c417ec7a6ba32f436f44a294d33a215d8bd5b365357f7accdda6791695612c565d2db117a7a148c93690a809a09591ecf56e4e1fa655f7061b023eb6d529ec6a2b7834cc79f123693920e25d760177d513cc121e05f8a2f879874e66f3198fddc038fbe04ee45ed349e24a286e6331353c07754dba9964ebef6e55d2277a5bf273986cdee7534a7b083b366e84f5f21def6461d9541b890fdfd0198fb8c7f2739abc84aaffbc0b9afe26f710d63838110e2d2b04616b28ce4f59c1956bfc20e28ba02759dba760112cda5cfa0346cb2fbb9335861aa790f1c1ab188589a2cd2f8f0abe5e3ee92670f43008df941fb99f4e70243fbbeace694c95dc393b75572284f0aef89aced92a67db9ce4a393bcd918b5ae55c790cc559cf6ff38618e062b117f964890d5787cc4b19b1893d7f5558f9458586c54a73346f8ca0297791776ed8a045567b7d295726c050701a7fccfc4ce58753c3216f53bfcff4f8f3bd5be98f4c53f7e2411c99b9582fb15934b24070cf39f7b107f49fbf22fc3f68f05d29f9c1d1a5088b4d8be072138515e667fdd4fb9c34defc1cb4b8e7f159079f2116cb1e51a5de5d7f8aac7ccebb1a7ae1107e906964910ededc5b72b345358924f995c12742e5a451f4b84d467f70920d43b47efbda1366940f006291e849e9216d75f28d95138734cc47f772ec7fdd7b1538d0851634148bfe9988d80737b7f5ea9d2e8dfdc8359f5fd1bd5b629c12eb6c57c1bba5dc3360fc1ec09c2f4bb9196a123717fe43c03e5cb6a492dcd284fb34411eca1f3267735b9733353d3d5c772135cb27a1b77e2cda401f86b0076a2425d56414b74511c0e5355966d9ddcef2c16244decb76fb5a0d5530ddc952db76bae78875f8a279bc59a6f69fc35134e7862ca60e171a0f15af1e0d120255fad318628e40ed2fdfc95476cdbca53a992291b7cf05e01dc16062a50439927ce41447a2f09fd2cf71fdde69eded780086c307b84c647aac0ece2948dc9cbbeb8c6e754ce44140e7f405a2914f730870b09916c91ab371164c4c8ffa3aba022cf69854282210c17e997194e0fee249a3df09d983691c6568c439016fc899c6556f933fa1c0121a8b626f2af6c7f39cfbc34eb0c47fa6d3ab6f1e01f14cf6283a2092b9308d0a113a0ea873c91f0b2cc3adf53c0d33be495591364511f14ffe32e58137567f27549a253800bc94da1c4e9e21d97014d31390d1b31adc1cdf47e6e6b565ba47981df80f8436fae2ddf9f8f165cc1f12f8314d5f67d2c4e000de886ddd54b473d44800086f7f4e741f5abc8096e73b30e5ce1d4fe6dc3d96e5056d320369981de19d2ecd0cc602a43daa8f9658e8b0f3c3f7a525a26af67c2035d71f190722111c70c5143bbdc5510f8daa557b88075f077480c9b15d83a504b569ad71a38eb41fd140e3acab8ba89de143270f1337beb9f9d44ac63c675620b350dd3f61f76b00da760c0d2324acd025f5992fe57c3e287e04e08de13b503ce8f97c619315aa3d300507eda1c19301931db64e9ced9a0fbaec8386337309ae52d728681fd4a026056918c89946c522574154cb23964d2d409f6f3f266b937967b3ded15c72a46719a6e16e73e1c06ad292a18363c87aaa4dc149d85dfadf50e3928859f86445ddf24e977c563db615d88b169a4b536ad6f25472d77cfe9fee890839437cb5d0925c5cb9a0163e82c3cf59200906f26c2d61947648ffc46cc3fddf392b034258a56408371ce2cff47ee82b3a298223e9c2ab7d2e80f3be505e3aa201cd291151239de0a8c063f82eac0ed350eec21423d2334d9eb923e7eff1956eacc2b36801500481d1d42d6e847f8074675bbeb6607a1e7b45de97c2e5fd8175a25033d68d5444777754dd8dad7942d2719168e8b871da8b1d54e0c6cb4107cc90acac44a8f8631e2037fbad6f3bf3daadd171293efb45d1169b04f87b469262129d735baa2864dfc0723b9c170d29cf6dfe39f8b99b4ef00bd28c4461801ffe6131e8f8d3ce3122261e99e6b4ff2a07a471f9087cd1a8873cfcddcef58a13e91d4eda3400945ce200d85c1fc56f3fa5ef691692a713d265c3f87ec3ccc702b0c3a4dfb08a57e8ed05aceee9caea4db4e554a3e5e408933c616896ab55152d6ab565ef6047759cb4a6c1d23a9c26ba94ef2b2dd00023813e5198324d8afc6dc3d3ee64c3874cfb2c829b9ebb298d83cc4db8545672b918c510a5127abc8b4ca7089d67d4fd06bc405b5f1cff2adf7c0439cdf58b41062b278c8f60747a0cd92a039dc02fa292df8dc9b450d365275f94be65e3d8fd967c0566062190b0637a8b983936ce523137f07f3ade20b5db25efcb840a87b01346b15b16377b339ccddb2688978dfb5683857b29af91a0e0442b51b720c960b6928021864ba7ff4798f23c44c5f388a059af9cc6991d209d75e1f23cfdd3c547b039314ed50a69ec43a4755b2bf9c81c14631756de395b01240ff28ae56a791fcd83423efa77d27328cceca5b81710845435d9023175946670fa860ac1058a77b7819dad9c6aca1732f07947d4ebadb9c6418cecf1fa10c786259be42804a914e60ba22e50509e8f0cc780283cfb075d5ab7d9df2287948a2f9ee304fab7508dc2338011074b523f0737a473b67aedb36bac120e1050eba9982a5bc70c80e6f4604add337b0e232cba618266dae082cd85ebe153c0aca8749d510b2f86a73cc74c398641942f89d10571a9cf10d53e8033fcd0008a95b08546d504fa6a836d3b636b2a3d0cca754ddeeb774c9c9f8ea2f105a0ff5221f76feb8a94c1e74981af4a3a2ccb395855276805e756e63aaa24d1dc9b89e79b3bcb604f87e2c14942a28e7fae6218573909f1808fbc8b2d4ef6b75e5a7d7ff43868e2961f6ae38319ff401a7d84e11ce75d476680ecd0fa368f2076653e215fd2c99f8b9ffd15364b435d114d17bfe297983ed58bee95a1fecff4e8fd0262094e1163eed7b8ccf1d19fc2a57c91850a25e6481348164004d569ecf42fbad01fa5c2fe8f5364fea247b48f2f222fa889886c869f9ff8d96ee6cded5f35f016951bcd4c587a820e36b109f5b3dd40a9524606a1cef295807c7b4ce3d8be5d3ab77c1b6f38ff105f1c4f185b46683455fb04179da8461cbbf83af420431d3766ed78432f7a3d59689feb6bc1f1f332ac9a36b112dd500506c3a9c0fe31a47c6cd07942a016282bf0fafd12fb60a81f8e4e4aae44e57a7f8c66ca33f6a5c9b36bf0c6fc127c46106a06f57050ddc049f42ea17c3dfa5e55db810c09c2fbe22c286eb7bb83ee47944c5f6186505cddfe74e840c691b67a7204f761d78b22ca9a74b4a75403bde25edddaf5e30e9060e1aa6a582be4a5ff3dbb162c02f0f2df4cee78dc0c2c41c842e6f8292cb0de986ebeb7848f6c700057de064e860b53f12f1e6ff8f9b08c1c10c6e308686a56ab8f7f3a16f31e2d9dcc5aa28e976f18219d4ae56c37163dffac4aaa254ad531816a8d9790f10018be41c5ed53cf8fc63ffbf573d2f8fe8f5ff0eed1195ef49dd31d00b4c769400b86e78336ef9c6e32d76a181368aba2ad884aa444b87801ecbe294efdbd499d250ab666249c07369e1b31146b6d5af3f973fa6e01e77e55c9c15fbb3ddd7826b56bbe9be71058f400542b84d9918bb4ad3258e2dd994a6073af0738e90ac5a18e20dd46f5ca0943da2cfe547eedc5bdb0c06e8039af3a12b1b8b52d7ad3280188a0fb81c1925fb580a2e2a6817799be752b9ca2b47bb9fbbaca57de8107719d6cfea5ddc5162a7bba3c6f47e360eb3cb101e7acbe463402734d7dc745cfb24f76f22646bc438fb262484eddd69ec8bcdda54c102beb562f84a975df3373c0b23dbb0df83fcc0e91948eb90268770f5a68aad22f05816d9347dc4a2e687ef0ebcea126e8f671be59b628528e06c8596fd89dc9763b2cfbef64b3906bcf0aa3e9a952e6e8291f49d0d93e0defca248ed47338807a37f35ae68cb497be4dc93a98b795f3898543afafb72e5fabac59c201677b90cbbf59bb3fe1306160b1a981c60bbf0a593c81020b5b90c760f018dce5ca11ccb31575d0ca73eb468199a91adc77f9102a5452b908c99f251a65272ea57f17e63729a4deb1f2d708bbde782121e3eef937d9d50d5eb5c90a9aef25fa1832f57a1664f525dc7b41ae5482fc92b18735da2bf0b2880ad43aa9a4833b6f210c694292c5783765472dd7e1bd4828d856d1ef36161f5a3c0d9bb3c8f0759e90ff14daec96f12eaf70c537db94accf6b7dd064316194f78f09cd244258b85bf0f6ffd1530bcc3b3cf7dd5e600e4d5dfd126f40743f566587c1addc1463fe2192cb18e18f915dceef40bbfe3f9f7c15cde97ffd54267c19885e7d6882a2c06defd782cb7073bc521d2ebf0c4c5b758072d47720e31b444b1ae41ba6bd6b316fbe2708ad2725d9eb4fb6938faa00ae236ab9121a3398402faab3c998fc08298c7beff7532113ad29d674c027a684a0f4260079aa56db3948ace36dd662b641e1cacb6d66053eed40214e9502e2078f09939cf58b27edbbf9b63a8427716883ebc4813ed1dcb2598f474550380749a719e17e696e52f911c06e862206d040d37f8aaa573a2cb73e841fa442f0829d2e9c0f6ad178b15ee7f03ad0abb10d37dc2abf7393e3b27159a78e51ac2e00f332cafc79b8f0e488985dbdf67a75c61c18be5a4bf835a4f821968ec866507ad82745b7f41d62e80707ce104fbf66cf02255097a0e7089c2da9af493ba0c2967c0f4792648544cf99ddd12dc91c4fb99ce713c1ade0f1e79bed52cdd6eb33c87f650da2b7df64dc2609f081cd8c1091e6f56d84db8797f74c09aaf5a0894dc1659bf12a73b456771eb480121ff42f4c8174c32541ca65fdfd1b2d9c7811c0fcc7b6a26a829e01d6420b38737daff4f06eba62e55e6942d46d8905d9f3d5fdb3b448a0d2531aaa314e0df6553b2018b52c939c788d1ce3f75c9996edc0707b8bc79db317914524d3bd08c27e4a8bb65b6f1127c3c7f3c148d2072f7fdf31ab876a21a98b5f15c8b198bcacaa0bd08b7074efbc97968c1b912bc00e3f1520524aba5c68670b189c37def0f83d85873d3fec507628e8bdbcf54f08e82bf485b872776625ad915f33881a666f35e9325f679b1f8e0d11662d0b52cff3202406f8f4d7e9fd5603b3e5d2cbc388b2c26250b3c73c7024f4a743c6a3720f562e76ab56915a153313b6d245ca30eeff8798321ded094c043c4376ea5388f7399a62328e13ae5d462939b6dcf9a9cdbbc56bec2844a6e804d4a2c8b18d121d7516a00ecbbf1f4fd6bafb9f5ce2b5f39233cac3f1558491aff9856dccd474e37ed7848360a1d2498728994cdd345320ff25f19f8bdc4d320a5a9008478f13057f53df8cd206c65f993b303f66f8818c6cf01accd7395b33a6cb3a6429cbd5e428aaaab533abf8642d65949ab7a7418d7ef5cd6d969d2d3654bb367507373883956cfe6473831cd915ece92d71af3d8fb0500500c436b520acf7d122f22ef06dd1c8cd70f53405379ae353244fee2cbbb4b09f9f60b1fb4707da4556b6ba95f6078e25d051b268e3e2488ce52284eeeb05a6e5e0751202d80907ca72c85d0cdbf28871f6d66a9274dd20b3d5213545cc8763d520b583c56089f33f3781e14b59d731e9e4c91db8af1f2e4f19e1197a5541f1a18d705783658adac60548f915e91db09f5128b39b550df71e5eb74310ec6014124d1123ee347705d4d3439cc1f255b4fe900d57dc9b10ad0604e5d7d22eed9cd7792edbd3be6c501c3f3981d67b8fd9218941cdf955eaa8cd3b7c7becc07ad373f8e043f31916c10f0af3de27cb81c7f8e49508d91459170f97888c3765fbb7c29f1e836d1b292031b1ac47d9f8598f22687e607ab66ad70e5795a395b30ce1b968e3e2e1abe43026f515a206614dac1f508b0ec597b5a1b81ba4ac89136585c79ef6fc03f63572d7377f67fa2eb5c22f76494a5e2756b99f729416b5304715b83c8ec4a2e94eff76e70387e597684eafc8cb878ff7848a63b372ad4e5da9f5e8bd266874d80e28a24452b4be75da66ac3ac472d101affea959f42d536a4c3cb658c89fc4ff22ca232347720befe9d1c28c7fae3515af6ded68b4faf2d86acb833e70092183082278e20b4fdecb51d43c73bdd66a0031ea1e964d073ada32a3b3eca8c2c15c6f1ac19ab0e5d04fa81790fe37ceb5ee133be0bbda4277660d392be2cf18eb470f5e1a6340550c70239cf6f36175b3ffd88be5a365fcb2dee2e05c74e7741ba15ebc89910a74a8403a26e82b4cb1e6571f09683cf473e04f62a7ee5522eba493779f8006af7606e1dcb8c4f41e953abc81af1fe796c551b4cc9cfdd1450b3c5de0ca15f3764d28ce586c23874c7c294c9b054ae4800e691530f8933cc1c27d69ac623dba828e811c1bbbcab79113bb4526956aa9fada20a5f08309c9582bae98d733c1fa7523c259798179c1618d8202534fb0027a23da55170d9d32c863cd785ad262eb6f25444d4500e38eb5dabfab6da50ebf3e837f717fe7a1fa3aa63a4eb5083213a9c74e961f3868b91b68b250bad56c228fb0d75c1270df9cce4ac9dd6f90d7989d12be9babf340837a67a48b3a4de821c909e8e0ed360cce46c8973b24a1c298323053ab9ed92f188c0e06206fc8b13a69b6848f4b9596bf4bad8b6bfe1bcdd4136acf7cc6efae4990aff02a1b3dc598c034eeb39bd3b08abd52db07a25cd7709874540c2070a2112efdd03f91d001e87ecc60783402b144b5c56e775023ac8b176e46eecca02d02c68abff56db4421779a3dd22e295acf75f338d6b1590c2e11cb7907d3484ea8cf64c0b8efbd10b3621b0bb7b80c4b04d209ec5de72847de9a271d71310357d39eb41491c3e0adf4486356293c143dd72b3bdeaffc825d413e47299c80285f2f67b0bb9c97938e929d6c87622c584ae85bc5ccbc1d0244ae3f53852739b9ca5273bc07cc634f6163fb50cd3477a90213ded5107f4aedbedc4611794ddacde345be5492f8e72e3c662754da9f483778fc33b8e298f5b053de0b68190a7959ff47eb255193e2abd1bc263a48b11a5d50f0360ab6134d0fb3acb5a0b0e84a8cac7b380d512f5cefbb471005eb5e8</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">您好, 这里需要密码.</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
